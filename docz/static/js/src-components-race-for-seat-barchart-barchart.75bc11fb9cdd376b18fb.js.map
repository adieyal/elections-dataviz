{"version":3,"sources":["webpack:///./src/api/race-for-seats.js","webpack:///./src/api/race-for-votes.js","webpack:///./src/api/index.js","webpack:///./src/components/BarChart/d3barchart.js","webpack:///./src/components/RaceForSeatBarchart/barchart.css","webpack:///./src/components/RaceForSeatBarchart/barchart.js","webpack:///./src/components/RaceForSeatBarchart/BarChartEmbed.js","webpack:///./src/components/RaceForSeatBarchart/barchart.mdx","webpack:///./src/components/RaceForSeatBarchart/barchartEmbed.css","webpack:///./src/config/index.js","webpack:///./src/events/index.js","webpack:///./src/utils/index.js"],"names":["client","ApolloClient","link","bundle_esm","uri","useGETForQueries","headers","Content-Type","cache","inMemoryCache","getSeatsData","options","eventDescription","query","gql","_templateObject","_templateObject2","provinceName","getVotesDataM","race_for_votes_templateObject","race_for_votes_templateObject2","muniCode","_templateObject3","_templateObject4","vdNumber","getMainParties","_templateObject5","_templateObject6","muniRegName","_templateObject7","getElectionEvents","api_templateObject","getPartyColors","api_templateObject2","__webpack_require__","d","__webpack_exports__","Chart","d3__WEBPACK_IMPORTED_MODULE_0__","container","width","height","className","chartType","yAxisLabel","yValue","percOfVotes","yValueFormat","value","tooltipDiv","predefColors","svg","parseInt","document","d3","x","y","YaxisOffset","barSvg","barTextSvg","this","draw","chartData","partyColorsData","partyColorByName","getFillColorFromPartyName","partyName","i","length","edge","name","minMaxY","dynamicYAxisFromValues","bars","formatPartyName","l","toUpperCase","pageX","Number","barTexts","destroy","module","exports","chart-label","chart-title","chart-body","percentage-label","chart","large","y-axis-label","y-label","annotation-line","tooltip","grid","barchart_partyColorsData","chartOptions","seats","originName","styles","refreshIntervalID","BarChart","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","_assertThisInitialized","state","numParties","regionType","muniName","_this$getWidthHeightB","getWidthHeightByScreenSize","modifW","modifH","handleRegionChange","bind","handlePreviewEvent","redrawChart","Component","self","getContainer","setInterval","events","window","console","clearInterval","Math","_this$getWidthHeightB2","d3barchart","setState","event","newState","detail","refs","vizcontainer","react_default","a","createElement","getRegionName","ref","style","dataLoaders","partyColorsLoader","Promise","values","seatsData","error","data","parseSeatsData","RaceForSeatBarchart_barchart","BarChartEmbed_className","originClassName","bootstrapStyles","BarChartEmbed","BarChartEmbed_classCallCheck","BarChartEmbed_possibleConstructorReturn","BarChartEmbed_getPrototypeOf","elementId","electionEvents","e","toLowerCase","indexOf","alert","CustomEvent","BARCHART_PREVIEW","_this2","DOMAIN","config","_this$state","type","placeholder","onChange","onEventDescriptionChange","item","key","onRegionTypeChange","disabled","onClick","onPreview","concat","replace","RaceForSeatBarchart_BarChartEmbed","MDXContent","barchart_classCallCheck","barchart_possibleConstructorReturn","barchart_getPrototypeOf","layout","React","_this$props","components","_objectWithoutProperties","dist","id","index_m","__codesandbox","__position","__code","__scope","embedcode","REGION_CHANGE","MAP_PREVIEW","parseVotesData","firstEdge","nodeData","results","node","el","validVotes","partyInfo","parseMainPartyData","locationToMainParty","edges","partyResults","map","b","beautifiedMuniName"],"mappings":"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","file":"static/js/src-components-race-for-seat-barchart-barchart.ff983718.js","sourcesContent":["import { ApolloClient } from \"apollo-client\"\nimport { HttpLink } from \"apollo-link-http\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\"\nimport gql from \"graphql-tag\"\n\n\nvar API_URI = \"https://elections2019.xyz/graphql\";\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: API_URI, useGETForQueries: true, headers: {\"Content-Type\" : \"application/graphql\" } }),\n  cache: new InMemoryCache()\n})\n\n\nexport function getSeatsData(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n      return;\n    if (options.regionType == \"national\") {\n      return client.query({\n        query: gql`\n        {\n            allSeatCalculations(province:\"\", party_Event_Description:\"${eventDescription}\"){\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        `\n      })\n    } else if (options.regionType == \"province\") {\n      return client.query({\n        query: gql`\n        {\n            allSeatCalculations(province_Name:\"${options.provinceName}\", party_Event_Description:\"${eventDescription}\"){\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        `\n      })\n    }\n  }\n  ","import { ApolloClient } from \"apollo-client\"\nimport { HttpLink } from \"apollo-link-http\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\"\nimport gql from \"graphql-tag\"\n\n\nvar API_URI = \"https://elections2019.xyz/graphql\";\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: API_URI, useGETForQueries: true, headers: {\"Content-Type\" : \"application/graphql\" } }),\n  cache: new InMemoryCache()\n})\n\nexport function getVotesDataM(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n    return;\n    if (options.regionType == \"national\") {\n      return client.query({\n        query: gql`\n        {\n          allBallots(\n            event_Description:\"${eventDescription}\"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                      }\n                    }\n                  }\n                  \n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType == \"province\") {\n      return client.query({\n        query: gql`\n        {\n          allProvincialBallots(\n            event_Description:\"${eventDescription}\",\n            location_Name_Icontains:\"${options.provinceName}\"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                      }\n                    }\n                  }\n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType == \"municipality\") {\n      var muniCode = options.muniName.split(\" - \")[0];\n  \n      return client.query({\n        query: gql`\n        {\n          allMunicipalBallots(\n            event_Description:\"${eventDescription}\",\n            location_Province_Name:\"${options.provinceName}\", \n            location_Code: \"${muniCode}\"\n          ) {\n            edges{\n              node {\n                partyResults {\n                  edges{\n                    node{\n                      party {               \n                        name\n                        abbreviation\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }\n                  \n                }\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType == \"municipality-vd\") {\n      return client.query({\n        query: gql`\n        {\n          allVotingDistrictBallots(\n          event_Description:\"${eventDescription}\",\n          location_Id:\"${options.vdNumber}\", \n          location_Ward_Municipality_Name_Icontains:\"${options.muniCode}\") {\n            edges{\n              node{\n                location {\n                  vdNumber\n                }\n                partyResults {\n                  edges{\n                    node{\n                      party{\n                        name\n                      }\n                      percOfVotes\n                    }\n                  }  \n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    }\n  }\n  \n  export function getMainParties(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n      return;\n    if (options.regionType == \"national\") {\n      return client.query({\n        query: gql`\n        {\n          allProvincialBallots(\n            event_Description:\"${eventDescription}\"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                      }\n                    }\n                  }\n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType == \"province\") {\n      return client.query({\n        query: gql`\n        {\n          allMunicipalBallots(\n            event_Description:\"${eventDescription}\",\n            location_Province_Name:\"${options.provinceName}\"\n          ) {\n            edges{\n              node {\n                partyResults {\n                  edges{\n                    node{\n                      party {               \n                        name\n                        abbreviation\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }\n                  \n                }\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType == \"municipality\") {\n      var muniRegName = options.muniName.split(\" - \")[1];\n        return client.query({\n          query: gql`\n          {\n            allVotingDistrictBallots( \n            event_Description:\"${eventDescription}\",\n            location_Ward_Municipality_Name_Icontains:\"${muniRegName}\") {\n              edges{\n                node{\n                  location {\n                    vdNumber\n                  }\n                  partyResults {\n                    edges{\n                      node{\n                        party{\n                          name\n                          abbreviation\n                        }\n                      }\n                    }  \n                  }\n                }\n              }\n            }\n          }\n          `\n        })\n    }\n  }\n  ","import { ApolloClient } from \"apollo-client\"\nimport { HttpLink } from \"apollo-link-http\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\"\nimport gql from \"graphql-tag\"\n\nexport {getSeatsData} from \"./race-for-seats\"\nexport {getVotesDataM, getMainParties} from \"./race-for-votes\"\n\nvar API_URI = \"https://elections2019.xyz/graphql\";\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: API_URI, useGETForQueries: true, headers: {\"Content-Type\" : \"application/graphql\" } }),\n  cache: new InMemoryCache()\n})\n\nexport function getElectionEvents() {\n  return client.query({\n    query: gql`\n    {\n      allEvents {\n        description\n      }\n    }\n    `\n  })\n}\n\nexport function getPartyColors() {\n  return client.query({\n    query: gql`\n    {\n      allParties {\n        edges{\n          node{\n            name\n            colour\n          }\n        }\n      }\n    }\n    `\n  })\n}\n","import * as d3 from \"d3\";\n\nexport function Chart(container, width, height, className, options) {\n\n\n  if (!options) {\n    options = {};\n  } \n  if (!options.chartType) {\n    options.chartType = \"Race For Votes\";\n  }\n  if (!options.yAxisLabel) {\n    options.yAxisLabel = \"PERCENTAGE VOTES\";\n  }\n  if (!options.yValue) {\n    options.yValue = function(d) {\n      return d.percOfVotes;\n    }\n  }\n  if (!options.yValueFormat) {\n    options.yValueFormat = function(value) {\n      return value + '%';\n    }\n  }\n    var XaxisOffset = 70;\n    var YaxisOffset = 20;\n    var predefColors = [\"blue\", \"yellow\", \"red\"];\n    var svg = container.append(\"svg\")\n        .attr(\"width\", parseInt(width) + XaxisOffset)\n        .attr(\"height\", parseInt(height) + YaxisOffset);\n  \n    var tooltipDiv;\n    if (document.getElementsByClassName(\"tooltip\")[0]) {\n      tooltipDiv = d3.select(\".tooltip\");\n    } else {\n      tooltipDiv = d3.select(\"body\").append(\"div\")\t\n        .attr(\"class\", className(\"tooltip\"))\t\t\t\t\n        .style(\"opacity\", 0);\n    }\n  \n    var x = d3.scaleBand()\n      .rangeRound([XaxisOffset, width])\n  \n    var y = d3.scaleLinear()\n      .rangeRound([height, YaxisOffset]);\n  \n    svg.append(\"g\")\n      .attr(\"transform\", \"translate(20,\"+(height/2+YaxisOffset/2)+\")\")\n      .append(\"text\")\n      .attr(\"class\", className(\"percentage-label\"))\n      .attr(\"transform\", \"rotate(-90)\")\n      .text(options.yAxisLabel)\n      .attr(\"text-anchor\", \"middle\");\n  \n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n  \n    svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .attr(\"transform\", \"translate(\" + XaxisOffset +\", 0)\")\n  \n    var barSvg = svg.append(\"g\")\n      .attr(\"class\", className(\"bar-container\"));\n    var barTextSvg = svg.append(\"g\")\n      .attr(\"class\", className(\"bartext-container\"));\n  \n    this.draw = function(chartData, partyColorsData) {\n      var partyColorByName = {};\n      if (partyColorsData && partyColorsData[\"data\"][\"allParties\"][\"edges\"]) {\n        partyColorsData[\"data\"][\"allParties\"][\"edges\"].forEach(edge => {\n          partyColorByName[edge.node.name] = edge.node.colour;\n        })\n      }\n\n      function getFillColorFromPartyName(partyName, i) {\n        return partyColorByName[partyName.split(\"/\")[0]] || predefColors[i%predefColors.length];\n      }\n      x.domain(chartData.map(function (d) {\n          return d.name;\n        }));\n      var minMaxY = [0, 100];\n      if (options.dynamicYAxisFromValues) {\n        minMaxY[1] = d3.max(chartData, function(d) { return options.yValue(d); })\n      }\n      y.domain(minMaxY);\n  \n      svg.select(\".x.axis\").transition().duration(300).call(d3.axisBottom(x));\n      svg.select(\".y.axis\").transition().duration(300).call(d3.axisLeft(y)\n        .ticks(6)\n        .tickFormat(function(d) { return options.yValueFormat(d); })\n      )\n  \n      var bars = barSvg.selectAll(`.${className(\"bar\")}`).data(chartData);\n  \n      bars.exit()\n        .transition()\n        .duration(300)\n        .attr(\"y\", function(d) {\n          return y(0);\n        })\n        .attr(\"height\", 0)\n        .style(\"fill-opacity\", 1e-6)\n        .remove();\n  \n      bars.enter()\n          .append(\"rect\")\n          .attr(\"class\", className(\"bar\"))\n          .attr(\"x\", function (d) {\n            return x(d.name)+x.bandwidth()/20;\n          })\n          .attr(\"width\", x.bandwidth()*9/10)\n          .attr(\"fill\", (d,i) => {\n            return getFillColorFromPartyName(d.partyInfo.name, i);\n          })\n          .on(\"mousemove\", function(d) {\t\t\n              d3.select(this)\n                .attr(\"opacity\", 0.8);\n              tooltipDiv.transition()\t\t\n                  .duration(200)\t\t\n                  .style(\"opacity\", .9);\t\t\n              function formatPartyName(name) {\n                return name.split(\"/\")[0].toLowerCase().replace(/\\b\\w/g, function(l){ return l.toUpperCase() })\n              }\n              tooltipDiv.html(formatPartyName(d.partyInfo.name) + \" : \" + options.yValueFormat(options.yValue(d)))\n                  .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                  .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n              })\t\t\t\t\t\n          .on(\"mouseout\", function(d) {\t\t\n              d3.select(this)\n                .attr(\"opacity\", 1);\n              tooltipDiv.transition()\t\t\n                  .duration(200)\t\t\n                  .style(\"opacity\", 0);\t\n          })\n          .attr(\"y\", function(d) {\n            return y(0);\n          })\n          .attr(\"height\", 0)        \n  \n        barSvg.selectAll(`.${className(\"bar\")}`).data(chartData)\n          .attr(\"fill\", (d, i) => getFillColorFromPartyName(d.partyInfo.name, i))\n          .transition()\n          .duration(300)\n          .attr(\"y\", function (d) {\n            return y(Number(options.yValue(d)));\n          })\n          .attr(\"height\", function (d) {\n            return height - y(Number(options.yValue(d)));\n          })\n          \n        var barTexts = barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData);\n  \n        barTexts.exit()\n          .transition()\n          .duration(300)\n          .attr(\"y\", function(d) {\n            return y(0) - 5;\n          })\n          .style(\"fill-opacity\", 1e-6)\n          .remove();\n  \n        barTexts.enter().append(\"text\")\n          .attr(\"class\", className(\"bartext\"))\n          .attr(\"x\", function (d) {\n            return x(d.name)+x.bandwidth()/2;\n          })\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"font-size\", \"12px\")\n          .attr(\"y\", function(d) {\n            return y(0) - 5;\n          })\n        barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData)\n          .text(function(d) {\n            return options.yValueFormat(options.yValue(d));\n          })\n          .transition()\n          .duration(300)\n          .attr(\"y\", function (d) {\n            return y(Number(options.yValue(d))) - 5;\n          })\n    }\n    this.destroy = function() {\n      svg.remove();\n    }\n  }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart-label\":\"barchart_chart-label__3pUzv\",\"chart-title\":\"barchart_chart-title__XIgPi\",\"chart-body\":\"barchart_chart-body__3UlUe\",\"percentage-label\":\"barchart_percentage-label__1nilh\",\"chart\":\"barchart_chart__zds5v\",\"large\":\"barchart_large__3YEo-\",\"y-axis-label\":\"barchart_y-axis-label__1NS72\",\"y-label\":\"barchart_y-label__1h4yo\",\"annotation-line\":\"barchart_annotation-line__-DjJK\",\"tooltip\":\"barchart_tooltip__18QLh\",\"grid\":\"barchart_grid__kniUI\"};","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"./barchart.css\";\nimport {Chart} from \"../BarChart/d3barchart\";\n\nimport events from \"../../events\";\nimport {\n  getSeatsData,\n  getPartyColors\n} from \"../../api\";\nimport {\n  parseSeatsData,\n  getRegionName\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\nvar chartOptions = {\n  chartType: 'Race For Seats',\n  yAxisLabel: 'Seats Count',\n  dynamicYAxisFromValues: true,\n  yValue: function(d) {\n    return d.seats;\n  },\n  yValueFormat: function(seats) {\n    return seats;\n  } \n};\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nvar chart;\nvar partyColorsData;\nvar refreshIntervalID = 0;\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      var self = this;\n      this.state = {\n        numParties: 5,\n        eventDescription: \"2014 National Election\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        vdNumber: \"\",\n      }\n      if (props.numParties) {\n        this.state.numParties = props.numParties;\n      }\n      if (props.regionType) {\n        this.state.regionType = props.regionType;\n      }\n      if (props.provinceName) {\n        this.state.provinceName = props.provinceName;\n      }\n      if (props.muniName) {\n        this.state.muniName = props.muniName;\n      }\n      if (props.muniCode) {\n        this.state.muniCode = props.muniCode;\n      }\n      if (props.vdNumber) {\n        this.state.vdNumber = props.vdNumber;\n      }\n      if (props.width && props.height) {\n        this.state.width = props.width;\n        this.state.height = props.height;\n      } else {\n        var {\n          modifW,\n          modifH\n        } = this.getWidthHeightByScreenSize();\n        this.state.width = modifW;\n        this.state.height = modifH;\n      }\n      this.handleRegionChange = this.handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n      this.redrawChart = this.redrawChart.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.BARCHART_PREVIEW, this.handlePreviewEvent);\n      window.addEventListener(\"resize\", this.redrawChart, 200);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      console.log(\"barchart unmount\");\n      chart = null;\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.BARCHART_PREVIEW, this.handlePreviewEvent);\n      window.removeEventListener(\"resize\", this.redrawChart);\n      clearInterval(refreshIntervalID);\n    }\n\n    getWidthHeightByScreenSize() {\n      var modifW = Math.min(810, document.body.clientWidth- 350);\n      if (document.body.clientWidth < 775)\n        modifW = document.body.clientWidth - 50;\n      var modifH = modifW/3.5;\n      return {\n        modifW,\n        modifH\n      }\n    }\n\n    redrawChart() {\n      var {\n        modifW,\n        modifH\n      } = this.getWidthHeightByScreenSize();\n      if (chart)\n        chart.destroy();\n      chart = new Chart(this.getContainer(), modifW, modifH, className, chartOptions);\n      this.setState({width: modifW, height: modifH});\n    };\n\n    handleRegionChange(event) {\n      var newState = event.detail;\n      this.setState(newState)\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (chart)\n        chart.destroy();\n      chart = new Chart(this.getContainer(), this.state.width, this.state.height, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n      return (\n          <div className=\"barchart\">\n            <div className={className(\"chart-title\")}>RACE FOR VOTES ({getRegionName(this.state)}): </div>\n            <div \n              ref=\"vizcontainer\" \n              className={className(\"chart-body\")} \n              style={{width: this.state.width, height: this.state.height}}></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      console.log(\"drawing ...barchart\");\n      var self = this;\n      var seatsDataLoader = getSeatsData(props);\n      var dataLoaders = [seatsDataLoader];\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var seatsData = values[0];\n        partyColorsData = partyColorsData || values[1];          \n        self.drawGraph(container, props, seatsData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseSeatsData(data, props);\n      //  console.log(\"chart component\", chart)\n        var width = parseInt(props.width);\n        var height = parseInt(props.height);\n        if (!chart)\n          chart = new Chart(container, width, height, className, chartOptions);\n        \n        chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","import React, { Component } from \"react\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents\n} from \"../../api\";\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2014 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            vdNumber: \"\",\n            numParties: 5,\n\n            electionEvents: []\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"].map(edge => edge[\"description\"])\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        this.setState({eventDescription: e.target.value});\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        if (this.state.regionType == \"province\" && this.state.eventDescription.toLowerCase().indexOf(\"provincial\") == -1) {\n            return alert(\"you selected province region type but didn't selected provincial event\");\n        }\n        if (this.state.regionType == \"national\" && this.state.eventDescription.toLowerCase().indexOf(\"national\") == -1) {\n            return alert(\"you selected national region type but didn't selected national event\");\n        }\n        var event = new CustomEvent(events.BARCHART_PREVIEW, { detail: this.state });\n        document.dispatchEvent(event);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            eventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            vdNumber,\n            numParties,\n            electionEvents\n        } = this.state;\n        return (\n          <div>\n            <h3> Barchart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item} value={item}>{item}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"Western Cape\"\n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"City of Cape Town\"\n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={vdNumber}\n                            onChange={e => this.setState({vdNumber: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Number Of Parties</label>\n                  <input \n                    type=\"number\" \n                    className={className(\"form-control\")} \n                    placeholder=\"5\"\n                    value={numParties}\n                    onChange={e => this.setState({numParties: e.target.value})} />\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`<script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showBarChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            vdNumber: \"${vdNumber}\",\n                            numParties: \"${numParties}\",\n                            width: 600,\n                            height: 220\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;","\n  import React from 'react'\n  import { MDXTag } from '@mdx-js/tag'\n  import { Playground } from \"docz\"\nimport BarChart from \"./barchart\"\nimport BarChartEmbed from \"./BarChartEmbed\"\n\nconst layoutProps = {\n  \n};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.layout = null\n  }\n  render() {\n    const { components, ...props } = this.props\n\n    return <MDXTag\n             name=\"wrapper\"\n             \n             components={components}>\n<MDXTag name=\"h1\" components={components} props={{\"id\":\"race-for-seats---bar-chart\"}}>{`Race for Seats - Bar Chart`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`This chart displays the race for votes and is configurable to show different election events (historical). You can decide how many parties as well as whether you would like to restrict it to a specific geographical level or not.`}</MDXTag>\n<Playground __codesandbox={`N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkqiUrGiJkjK8Eq1QyZnWTWWoXY2Hm_To5G67mScAIAlCKRSsDsIxeeHGNjsFU83iWM1g_m6mVsSPMtjgoRg62oqTxb3qiAAlGYjJIzBAiDNKAIpgAlGCuchTMBCIjsToSqXtADc_MFwrFioIABEAPIAWXYMsi8q6koIAFoTkQVWqhSKHJEhah9EbZfKcJJsK5BbBbagzOLzXr9TguhgMgAKdbMNhidYWRh4ADMYkc6pdNE46pF2XYuImPScwJJNQEiCkKfj5gs7EYMzEkYaUyiyRdedc6BYMWo8XYMyEd3GlFSMCmL3Y4cw_VQKXzMASnKkDYTdfTztdkmriekccUZhOvSI-hwaQIAFFYMeaAAhRINdCRzrCAjtbmoTnKhTKb2-mA4TQyB0ahaHoRAVBzKYb1cAR7D8B1jTlfhPTgARyEBJ1qH0OBJFFSUYAAMWFZwJQIaC0PgghJA8GDyEo_hVVQAV7SgmC4Jgi8iECHJEPYZDJFQ9DPg3GgcLwxEiIEEjonIuiOMkcj2JFc8uOyBi7Q1dggylN0TQVc12g0h1gHYTQfHkXS5XaAABGAiBEAZUAwrpDIDVBdFRY5TgAL2cAhEmxdhuHYYB1iiARnlQK52gABnYZMZiwdp9xrGZOxYWdooAFkS9gADZEuS9YwBAgifWgRJov4ZxDkRR1MHYAAFIR-CWeyfjgNLESKmsSpoZwIG8y52AARiylL5HBdzqE8gBBOYgvYSMTLo6B0HDdh5E5IKxCWmMZHYVEApgbhgEPXz_OxeRt1rYBVqgdbggAMie8ZEnmShmnux7zG4P75TAUJ3J7VB2nYAB-DY1vDSNtqub7w0mmspBkat3zMWFNMwMAwigKZYZ2vbkfmlca0TbSCBwAjMhSa8CBu2s60Uyj8y4CY-BAPKYpi_hfBgCAUkIDmACZhZ5kB2C3VdE2ZjiVO4yWGbrXCtSpmm6ZuqQSbRsxvxAQSMIzbDcPwyTpLI2jKOoy2OIArQKBA_QGGYzSKaWEz1ywrMLN4_gzSldSmMg9gjBCOx0GTSy-JACPA5dh0jsC32QE9GiKNts44Dj4PgCUggffdZDPVlkVpGTNO5JFQOjKmGBWGwqOi8kHBPTr7Ds5YkL1jPc24G1aJXBSiwz0ajjEkcKBhSz1AC5NJuW8kWYIA7zTQtSmC4BgXv-4IQfu7HcVnmoAA5H0mRnxuU89BfwmgLOQEYqbWBg44B_FGV4DwSwBW6YLkzi0OI1uYxUYs_I4lcCC6hmCDOwwU14WAgZYd6w12jiW6JJdgvceoWESLNLAtgAAyrhAhQGir3R0QNXxD2OIkVA5VyAAE08G2GppEAAavERk9xxjohgNQxIHCoCMiuIDYGjlIzoG2vA2sXQCB9HMOgHAm9ohwEYhYJQ6wBGcMIsKKIBARFAylOI5RBA4BSNXLI-Rh1SKqPWBZMw8hH6oFEUYlk5AoD-DgKfY8kZhQCzQN4mA5iayWIEOYRO8AADafjIqBIALrsAAD6JL2P0WJZ9GJIzMGAjYHFQEvzSiKcelBJ4CD7gPfJRwugfzgHgBoegBDPygA0bUi0QFTXcZ49gJda5YFAugOwntMxTDXquDyaJQhSmFJGAclA7jBMZhYBkcIZmDjMWoxZOTN5QGaMFCYtgNmM32XAJRu9aCLWkYs9gqBQhEFHiKCA8ArgAFZqFXLbjQbU8ByD9GgY5K4_AxZjXYKfEGfZLxbBBq1aWMiYBH1QEg-YAKQB0LBVAaFZNFmzL-O5GAgTkUYquRYIgQMID4ujoSolJKmKOEwASkAbzNnoGPrcwI5YKUMphUjK5EBmirLmScm5dyOKPLMV3TFRzCSnKyDgIV9yYjwEWrMu4srbnytFYc2s3LFm8qWsqk5XR4WIqCeKolBJbDStoGGOFjljVKrWdao1yDNXqJhbq_lKrsVoERIEhZRLjmWv_F63FgT7UCpwMGn1GSuVur5fqnA1KyVnz9VcgNqIZWJtDcFeNmbo0Ss2rGvVDrE20pNZcxZaazn_hLcWMNKqa2YBdQW_N7r42sGZayjIKaK1SvTVa9tLLVJHGzQ6gdnaBBNu1YzVtDrcToELC9fsDrNgC0IN2yVFq-3_jnYWEd4ad14CbRYStMqV2CymHulVZ7CCTphFATepqiU5PLVc-yLAwAAHVGWvqcLygAEjC9Ri0A1ng_WzPAf7-bnrvM4H5QRUADSGrDI95qTlbpwAexab7eUfpQyeq116L3sGw2AP9k6YUBr8BgWAh9HLsVnL_VD-BKg0ZtdQejaQcAeFUJGY5n4KNSqo-gWAzU66PJGOeeuWY9mCZYzAUTfwYASak5TbjGBeOEn4_mgNXR1quBGHnYDUrdOZAM5RLjPG-Oau1WMzCwztRcH1G0GgBMX3sC2QuXZqGm0Br0yMDTFqzyOBoK4NAUZORLHw0Ept1Sui1PqbQRp8QWmLU3gQBLGQmmRgJtwXabmlmeZwH5yM2ywCnjHMF3eYWBCwyWKVwN74rlKFfrvd-cWv4_y01cw8tyTzpUk_oAhthQJRg-aYnAopzwAHEGi6mPgAfXsH-2ax8pvnki7J6jMBaPsao2kLriyet0xwP1lTQ3UTpBq2Nk5N5ZqiiW3dyw83GqTbYQ0c8X6mNCZE10RTyn9AHcZriDAowTtdgGzQc7I2at-3gINJkDKmMmf03nJYYsYqA-bbZo2nyuAAFUZjoCyK5gTFrisgYqyBULLoasRaY1uxrWqpqM2El7AgYGEh49QPZShJP80eRKf-SeKRowgArizIGPOaD8ExwglmwUbkJCbUdk8XR7L1whwQKHl3IzXYm9N2bC2HurfW19uTO3UAceizClXNBrXq5gJr7XNPdcqZu3dh7oonsvfPG9j7G2LXffk798TmvZesxByMe3vxHdneGzr2H-QhqtSR9kUzedw_uIlAIDLSWoCRli5_XPTSWmY6yZi0D4HIOrrIokWDXQ6CIZgHzq5OSSMfsWvqaIeAE1oEjAADiAUsW3qmnCJA-FAR5NAwPzrwBaeKzyMdNvdSPrjY-J9T_Z-Bus7AADsu_nmM5_e-jvwVV9eHQOP9xm-Z-Fnn4vptbff2kaw8_j9khkw4GeTFscVj8vEbf2_VrBIwA3zSnSx0xWRzMw4hb02Rfn_3byAOJWf1AKayM0CzHFvwgyg0IBgzg0b3h2Q0LUjAgSP0WQgSK3gDREoESCIP53l2uSUwcEogCxOSCyp2q1qwAJPzahQKWE6TgC8TPn4MoigRgXDzTTHD8mJ2AAPSuEQL5hr3kJQK2msycUZiDwtyt1dwB0fUZhyRdBGGkPOWCjG0oKqygB817SkKrUjEMOMKCVXHLw0LkwU1DxUx0JoHXXcxfnsKrUWjMMwAsOXz5VIMA1yRFEoNRCEFoMzwYMMOYJgIpwIEq2p3CwDzQyrQw3AwyMDXwBwIIH4I8UEMCREI4jEMcnWVJzQxsOJz8KyDIOcNrHYJC04O8NCQUU_22UhVYOtTABOT-G8l0Cqxp0aJhQsToGnCWnaN_zCSJjNUTAOgEKEOPA5nFw4nEHCMZljA4GWMCVOj2LPlFwgQtBiAIFgBl2ulFFmnsHPHYAIl1FFHYDYV1EsHPGcCWmADPAt0CV6IZy2iuBRjjC2NrB2L4nzTNWqQ5kGOGLSIEF5hBJZ2KJWJOjumRN-P4BOIv0SEuPBIWMWQiVOlkPAyuCi2yNnyWEI1JN7SyMI3kGuiBNkBBMZKVkZjGLckZmK1hOqzJDWW8IF1gBwGF1Fz8wKHYBbi4xtirhAHDw8x2XQNsXzQ8xUR3lcAIUoE7AyEWh7hsVVI9SqKVJfiJ13nVM1LKUWkiRMXKRNI1OnDiXUJ1T5QAEJCl_IJ4p5VTvCLAclXTilSk4BTSpjgoR4x53Syk6CzVjS1TbSMgTkZg8g8AZlQySkp5Ayu1yMOTFlmpIgaQTsEgJEB40yylOQcAJg6BIwXEQZIwmkuFOQTJwjlTTFVTFoayokYp7TwjfSwzrTXAlVkz_TmzkkfChEokRp7T8Twj6s_MptMgZhEzuSadeSBU6tdSB4yR-yPSB5w8toPhog6JdcBAhBh1doBT_wMgjyDyjzOQy9mdaxpzZz5yODFyl1lyWtB5-wNyylPS9C4DwFKJmzs0N4t5Vzd4Czd4lz5km1HgEEZpBchTKARdMSWZWdhkU8wiISfCjhMNAKykYAEt9TySJhw9vSX5CM-zcL8L41CNiLOBnT0L8SIFFoEi84SCnyMglgD1KSCiijPFSiIjIE_kZoaLwiKCuT_y1yPyiluzPTrMHEppMYHRsZcZWJYJKJGI9YDYULjY0EzZSJZIrYel5Zsg7YgJhinZwJ45NRzR3ZHQccphZ4kJBAtQV4HRdBIA5xk4F4F43KBYXKpgvARBojZg_Jjo7Bk4ArTE0RZhdxURARBDqIXwgqZhe9UAPhBC_LDpLpFVPLrZ05lJVJFFM4MrrtL4vLW43cMry0zwIVXFUBNdp4HLo4yrF4Zhl4H4ppKzHIeh0SjiYk0B7Aerjxu0Oj2AIqkqQrsRok0l-rBqYAEkhyIk4Apr_FLdZr5qUk-rVreK81y9ljuk2JKIjKchsB-lBk7NXRy1bNUBojJkIgat9UvTDpQgVkHq8MaSsgLlES707J9AHxkUhARBKV8Sxsvk4AfkIBBKopo4gUsoQVohHJwVYBaqgaFjDVbVkFkVUUEb0VOUMLGZI08Uz56UkDFlc1jxiavqG1hp-AUazUx0h0Ka8baw5URUnl2BXlbzgakaQZ6qrhIk4lwjwCmiYK7KHN0AnNedHq5SvNjkUNqrubHJ6rYYvrSzNhUAKzDEqyozHq6aX4FxIVFa3dFoozIl-Aoz-A4lTaQB4goB6qLaE1Zhdd0A0hCZsg0grbyhwbIaLayD8SCsdklFajaBlp9bar6rVCvqdy4gCB9zzzhRCZTycA46rtDzhRrzZLMyRaRIdR8dCdidu1ha9g6qVNQavaQZtCy1wjJCCAHCQ6S7vlfkQYrh_xd4IoxwcBWyI7MVC7qALdjUK6pbfClMHCLk0bqBjVm7SyYIzwO7tFHEq7rCa7bD6jaAbzM6i63ClNddHr3UySx6EVkEgpgp-ACbeZF0ySQaG6IaQZSzKB1SRgMh7BKRYYcBVBsBdQwBRdI0IB4gZcj72ALQRodbYU5E5j4gMgCBRdWhoRuipQ8wCbJw2NzB_J5hRrwhjguBQYphYHaAchv6-wxsZcUNwDp0-U96kG7V_p-Asbewcb2Bz73qrVL6wbG7HJb777H7n6Sy36sAP7RcaG6Ecbtp_pAHgGLARrwGRQoGVgcG8wBG-x963pUGPB0GWB0AsHrFua5H4baGYQVMiHBaGy9aVMmKmD7A8gIgiBNdPDxtbt7tlsvdntXt3tPsTIgjQtSF6d_Cu7IzThes7cWBOo9y8BrGxs16rkJiIwjhYDW8X4QxZoGhj5FofKUgcB4nEmUNn0vr9a6YHwSbGZmGy7HJ8nYUnV5glg_avqCbSjKbSUammbiVSVS0SnvSO0h0Wnrk1VWa4AOnQ6eaKqMKLIZNN0q0UMRrowmadjWSiUkxUx9q8qpgjrMEy72AptLsdHzBKxUwvqwTDjVi0TtqfF-ASoBAiALQUghBnrLjpn8TGAPESExAIU6ZGhWkpB7mFwbmFjGA0B4ypgvqzUUGTp-BaA-kESGmFi9nUTIXRcTmznhihAhH7FwWzVyR8JhgHoMgOYTiFywQQB_miVdt3A0hTpf5dpq7a7gAcnfr0BJ7W6Z7O7OQSG_bGYpZwWWT8XdnZqDjZqYXdFznLmZhrn8Xtj3moBHmTG3niEPnhXQScHurDmoWeXjm-X4WSlcSZW4CRySX66WHr7HImXmXaxCWGNToA1qBNdS7WHjXOM1NHw-NroNWiV_9DWiU-nDbsIHaZhIwXg7JCZnWXXUbZjzBIxGA5kQZ2BtgYBEhTofWiALJWyY3aA42xBgBY35ApAw3HIxBfaA2zUtpHWmtHWpAcHPmrl2XkW6wliuWDmSijjlXTn-W2hBWZSHWK2RWpWxWLcrBD7JWHmi25XIXuWFXeWG3VXEW8Tc39DtFTp97jUDWXXrXUSzXUA-7kErcLN1N7XS2A3Q3IbhzGQOZ5GcaxAj2M3Ibt2XXd3w2E2T6hAcVERxACaz2QYL2ZmBI-nX2dxUZ8X_WzUC8KHD6nTj6UUNnf6ZT6HXoC3K22B5Xa39noX62zmLmm2hW22vnRWxBsz73uhAle3pW0OzVvnUBfmJ3J2FjAWOYQXRAJYoOzVB2a2USR24WQIEX1WCO_bUXER0XpwOYP0qCMhzAn75gab2P8SE3gBqmz552yOLBF2SXCZyXbCJO73vVCbyaYQp627KYGWkWZOFjAniFYAeBgB_2ymTpD3QPEXWW9Py2XXpPFlf2iVTP0bUGqGQBE1yAIb4gXgcTwOXooPOWFWh24Pm9EPG2rmW3P2_a7mO2xB9RSVPO0pJ9_I4bjw8OxXaPQSfn0HMvU1kFKOTqwW9O6Pq2EPwAVWWO1WW3SPiv8aPEuOSkeP-B7AfO9hmghPuhLBRgAw8XROFjxOyaYB7OyO5PKWFPF6KXBvaXp726dOavauLADOPAjPTpnPx78uLO0VLjrOZPbPDXhvbpHW1uD7XPgOPOvPkvEgLR20_7_O-vAuQvgvGOwvkOIvGWovbmMP4umJEvvOUvS10uPuvnsu_m-uAX8vgXCuaOweiV6OyvYWLQx22OFusV6uYBuPMXmvGpLAROUep2tXgAqaDvc3RvSX6cg7m9CemnixputPZ6RytpdO8fFvbBDPshVvZ2NvqHLPtugftjdwmSK3iefyXXjvKGzuEuLufPrv0BbunoAuq2guGOMTyuG3Xvm33vcu6wMO2EHJZx2AHNojYgphB02VAeteiOSOtejkIeQAqOivmfYOUSnuVeEekfqvrfaxOP0fGvMeQAABOXffvLmGKZ5Z5XHx38T-mtlYXhdy3PbVEsnxTmQ6PjIWn-luexl-bhbpblbkzzn-YP6bnrbltnbsjvb5l4Xh7535Xut1XpDgV1D8vjD03rUj-pqbp839jy3nLvrij6h8dB3sjuHpV-vxHyr8dqD73jHgQDmcP3rvT8Tlmh5eAWPxZUn8bzdCn5aZfhVbhFumb7TzPiyMv6LgXqL6v_Y2vo5sf9XpvndlRm4FkfvsXcICIHrouga2IbYU1qVagTeqPLa1YJZ8R-w7fgB4AIA9dtoAAamjhwDYBZXCAagAtADgBQMEXzttGugACpAj_d_hf3P4ctFej3a_qF1v6N9IuRbDDkswB6SAMORbIgTXzK52RuIQIe_uXyCaoAU2xQRgLq2gSHQ0IHMAACTAB0mx8eQF6AKoSDuIdscQMWzLp89ZW8g2pKMB6QTMUeq-eWj9VvD3hHw_AYQVSxoAPhJoMpDpsy0c65tCmVrKGnoMpY6sim1AYwaYIDYF9qaIAYQS4McGe8LAkndTjYJ8FDdaaC3KbtHGEGDdPBMPV9NTzpQhCqeNKYsOEMd7uY2mbKZFMINT4CAEhjvXfqKlSHABshq_QIbVzkL5RuYTgl1lSXYCiweYEQzaJ-DkGN0xAdQLoN70jCSBowvAeEmYESS8AuhPQgQJyCeBEAlgNNFtsWzSicCi2BAithXzfbfsMK7JJGApSmBKVQgeMeZnnCOpfglA-sNCIbGzpiRTYxEPSlKSojrFIimcUyo7DAgpwTiorR9H1EtBJ5hoI0L_HZA2ST4XQFoCoT8FObxANkVAUpFcGW6ShtgmSKaB8EoinEXgsAe4SBAtAP0lCo1RrmCLcgQiOIFobEuKnLwRoMgiIELGkAtB3DpEDwi0BEiuAvBvO5AFEWYDREJxWAc4aRDHgEBgBJ4IwK4H8HyDLdugTpSyu4AIDUjUqFBDxG3UfQVCso3MRKAKJwBXdXA-COAISI7aPoRgNgWgKSK6jDQfgIwWclKKu5Ej1gyon1mqPwhXBNR2ouSm5AjhgByApI-kYdFtGMj64zI1keyNsAQAuR7AHkZBD5FSj3APwM5I5EJFhZ2Au0D4d0GJHQAoAFoOZJKB85XB2kNYaIpQEjZXAAAxP73TEbJExkbeESSVGiZjqC2YonLUhgiZBKo8UJYMmClERASkMQGYF3FECpRKA-QJuiEA8BwASk4QGAKqFEA9j1gVHC0N5xSBQ08RiWbsbwF7ENiWenUDxGWLQChiMRk8HYGOMnEfkuwBQK4DlCwDLjxxO43qCBCuAjRhYuUYkPKM3j9AwA24msDRB2CvcMAVwA0bQDHE1hAmqLWcagHnHLdTgoI9YF4AEDTg4xkoncSuN_HTgLQmQFgHkCuAJQtxQE3cd4MoBoBEsFoa7CaKwjbiGx2Ii5lwEfQAjhQVwC5lG0yQaVdhWlUSApAOryQI4ZwymIBG0BmVrhllEOGHGOCRxk4scdqm5CWFGhNaXVFijiwEAcUciihc9DxRC5LBM2QlcVLeXdROkJJ11btHJNgQhR56NYJnjJMUm0iCAxqBSZDROSIJD6wHNBPcXjq69aA98DZNqnUm6TpRzCAMh2x0kwIbJcoohCQkWj8BGo54e7OeGPiWBZoa2Z4q8XeKBxXUNYKyY5K0QjkHJlRaUYIkZCLROq1ACRDMVAYKIcRaED-qZPgAZ0QpFgMKdFIimMhJIeiKKTNBinaIip0QeKTxMSmtlkpViVsuwFgHtAAApP6EZjapwCOSAABqyjbAH9fomOEWi754xU7I4Awl6lwB-paWRaGLE1Q-ldMMAMAN2QtLgCRyKefgIkAXCsj1pTlWXiAA7KYotkto4KPxJOxzBJiouOAPSJlzhETsNwGHCAAPQp5Ckm8fCgehgHsAepcoqaWOBzYWA7paIUXIRmelAV8K1FRqewHGnfSwAA0ggAdlXA5JqxeMCGg5lYCaoV8fjY7JoLphwA7wA1MAXb2EDIyNekSdst4SRm1jUZxtLon01Fy30axENAxt3TvQPo3MFMlGTBzPw0zuaoubEjLjOnzB1MZtNgDdJXFXIAZD05YmhVH7syNe3ICcXBKJSnJjoouaMZ538gp4l8ThdYAjJfg-AuZSiOILAGgjqYc2YYIlttmcyPhIkX0vqTDLSyCTZ8cSRnLrKODJADZYNcBkNhdAwRla-ac2QxlFBWzIwkSQjEsChl2zYZzsjZKuCumpNZggs3QSAEKAykYUEs0XFFWuqwsdpmcuAB4mDpix9wIAaAZGEIySBhY0AiOZNPtljhy5nIaATdNTn-yE5F0yHqCybnizoggMzEsiWlkEy4QI41wASNFYy4zZXch6bnOzmI4_YIgYnBaH94Y4bp_sqjr4msm4JnJ9ktOePIzknUBx7kYYPCWnnucuAwmBHPDMxRxyBZrc5OUvM7n3Tjivco-T4Amm3zFk6c4FpkCzm6Ic5n8vOcThihFyIZZFWAY3JdkXz6RV8oWTfI7lvzt5PczxDtOSAvyYFjMd-Xb1_lTzhh6C9wH_ODq8xYBts6ubDMamazuQMC12aNRgjOBjpdo-OedKgUpyx598-BelURyICYI4_VojTlHlzSX4acSwCdWoVzhgol8luQwtfmoK4FOgR-aJOe5i4OIu8_iTwp1mYpfMpmKqWIkSkQJVS65KSimS_JbkRemFSSm6X0V3gs0ykkInqk_I9kIOJiv0puV3ge0B4FtK2jbXVTwBXF_AN2p4v2mPUuy-inss4t3heLraCQDxffEtreLnaviuJDgBObnhJQiZHxX6xBIBLSk5is-JEh8WypiwsqM-AklMIxLclmAD4CmT6DEMc2hdCwAlPMBngCIEYsMqwmFRFJfivpPihAEeojV0lwoTJceEiTtKz4SickC8FFx8gZSpMuJOtSXTZBFp3ZSJBAGakDhZlS0wJUKToApAJgB0wtvmlwDWhqcJBcSrvE9Ya1NFwbSREYsZgjVFEdCY8JUtlIvwiAaALvFgAYQWkAFo0bmNssdJLQNJl-W5bECYRyjmlsU-AI9SeWoAXlDCSJGOWpkO0sAhyjiDou4lnKkpIURBilL2BrzQVSU5ULUJjT5px8-yvvBCqhXnyrkl8nBnTNwDIKSyucl4OIhLLoA-gGzSMP_Axy7l8yEcE7HKJvAiBLGkYLAOnRhSUraZyEcfLStLK_yGViUplSyqrLsqSyRs_PNyomkEJFpkDRIH9PFIxAdgcASMHlG1Wllv-FUyBrUrRUmQRqGkgqTol-GQNJEeK_NvmjAWxMjgacJSWnCEWB1uas0fMnUGEHsLD5jLYoEyoHiIqRQMlFRVcndVJ18EkDI1fSqrJGrmVmQBVdzCNVSLfOSwc1Rcv9YjVaCWswZhmuYUgBgZiOReRhWVmwAYWEYqMV1B84p4RoMAC0Iatulq4Y8EZbPjGv0DhYQSkCpOV0ADgoKlZUiqWWwtH5pxR5faqRVgBTy1Klouar6iNQRU3Lk00A3ADRAwAHpYY5ckaQsSdX4k0FT0xHBusqDbrOQRgf3pICATar_pUiyAAkBTwSJFAnS1JeCxGr1LGl-i5pfKkSC_FFEvpepCVHyXHglgnSlDOolvXilEp_AHnJvAdxzrqp6tRdb2IrbcqqVfGGVmgrVkNry1OAfvDRVTREzKZbAKVTgplXq15Zis3NkVnlXiJ0cVGsWQGyrWkCcNGsxHDgH978ZUNLredbC2iC_rfityyumhxGrCbhlyXMZTLkmXsNRgnDTeC_WaFo9WhPQjwD0JGBPBs1SGyMFADrIYqrEUAW-gTjhBP0FNmAqDe1PxayzUZ-AYgPnn40EBBNRxADWPCA2UAQNJqEBRLGRQQzrVoK01avPCk4rJE15R1ixtFywAwA1HJYBIk_xmE0oaQLqR9JPqzrU5PGyduFuBZzIn13K-LUPJgBvL58wsAjRDJS0GMmN-JfNgrPS1mocAMG9zoMBgD7BENqKlDdRr9robaZmGtDthvrXsalgQDCDRWmI0czWAZG66hRuVo1bmNKa1lQxtgnsdMtIANjVmvYBayKtiyA9QsTQWrac1YjfTXMQLWEb8VTNNBWWqWAY4zUUaolJ6ogU4NfV-ef1SQN5kwRLiIaorGGu0Vblp1Jah9TjRi2LBOAwjXaJ-oSBNLZQTmnxC5qKRuaPNYG0LadsTWMq-1s2tNRWsPWZqWttVBdftvzWRhW-NWPzdoiSnCqmaW22rVIvO0orsdFqpdUG2EmEAAGLQfHeOkC35Tgt15Y7eTqJRGM3VMEARX0g9X87BFd2vpg9sjBPbA19vFtu9qjLhqdQW5GORhX4UnUTk2AUZVBvG3Njkdp21HeIkVU_bu5IAXbdpsXXvr6dR2pnd_hBLc7xZESGtQkDrUxj-to0Zta2tO3tr64na8IirsF1J0GkL9MRUnOl2a7R1Mip3irzTgh7Q9Ja1LVprOU47LliyZdRIg831zT1W68DDuuFhDbbdsCktf2PcB0RhQO0p5V2AuLDq75RukkU8J2mHjEoEikdSWpN2tbcdFuyMJdvvy57tVvumuqLp9V-qcAAaidQovbnBrQ1oFL7bvE10ry9tSeq5fTqJ0jkAtS-xkCTu719qkdsqlHXRsSkG7TtmOxHPOtp3m7MVtBAnWztKk2qSd20LvTbvZIboTk5Qagu7Op1JqjFl8z3c3nCabRiJ6Ea7JIB4YmU6JVwgwOBHGRaQDcc2RbMthNxuSnK8KRHgn0DgQG7Gnub3M4w-zwHqJKAkPEphQMzQpg-oWaI1Cca-4XG8BqIDMFwNiZ8DHEjGFgE7grC1h5aSbDNmgPG41sjKNAw4wwPkH_cq4Yg6QZ9x-4P0DiLYcoANhLxADEYDQPbGAh6AGJOcdgPNBKSTwv-roRqvwFmBqHKAiPSfPoBE6MSTIf6G4DMG9m7AtD1tIUAkD0MfDtgXwsw0YeUP1J9QdkYUOPCSXdArDOh2w4jy8MWg0Ax4eyAIF841xUgAARygCXwLmswPAFEdOJDyRODBzuF8SkIgVXAVhz0JkERAWgTmpImxCJy4lpGCAmUnsvqCWBngu8aACJVkckA5Hm1-R1gCIF8VPwX4JBhoPNjxyigGg8BwgLcHuCPA3WM0IFP7xwBYBEg3kJ4A-SiMEHrqUwa_K6AVxMFVDthjQy5mkT2GTRTBUw7cAsPLRcg_QK4B0a6M9GlgeQGAGtksCSQAAioyHhDcIJkfCPmGaW4ShQQAlWfQBaGNS8xkUCcyfNHUcjTG4jsxiWBZC2jUI4gdEDUUwVcPuHQjT9aE37KdUpHNI86zQWHTdywERqixu3BEfuO0Fy0-JjIGWJSBRHigq4NzDbXqpJ7PaVgglZZsxQUnVJ74cvFxPRNjhf13ZbE_TtxOUxiToR5aKuAFOknyTlJmFO4u6ZJ6fFcAf1j8EwCOdhNX1XCX0Bt2GMwC2spk3YlZO6xthBsW-PehkNqBgDDsRQ2AZADsmkNklTeGUb1JRkIKYqctDkjiyrDTE2aiAGUgvAxLeFVSADq5xfIqoXB6MvlC4P_rF9saf9NzJAE9PngYlxtAeMEtcChKba0EWw6YntoynJl1mFmd0HdShm3Op9cDlGY9OohYzLtM_AmbNouL9pbi8JSp3cg_0oAqZyeOmf2lJ0YlS1dstmYXAPo8zfp3-BLx-5S92N3haM6WZiUVmnFVZkJTWe0MJBvusQC7s2cCoZmOzWZpwjmfRWPBYNkvJLtLxu4L9FkY5r0-WbfKJnkzCQUyQUEN5ohjey51s3EszNdnNTpDJaE6WPNlmgkbmROsnS_pjw3ynAOwHZGgSJAnSTpJmVcjE2rDLCmpihfKZgAAUjQJZk8zACtrwWLaPp-xeKAZB4wlJ8F1UlbV9LYXXTkSpJCknwuVnCZMwYi3jAwsTEcLpiciv5BoumIraMpui5AXgAkXFoLp3C0ogBPN4Pl8afIQaQmKYreL42Kg6ctqp2Fiwg9I4AuCYrFg0LxYDi5CXp2Kmiad6Qi2PGTMeAPAIeDZhbQ6ZNIuAZR5ulACtqmX0AZR4y1U1xEZSWj-_SyyfQctgBbL-0jpoBucSUALLOlopBbXVPtStMbJxg2iatMvSYA1R1AL-rtMSUHqP5GSdrXEb07FcMFw6S_EXEbMuu0V39RchUmjSYQHZzC_mYDMGp-zmqROsKRPpAVcrY8VUinntOIMzOmOPs2ZyPrAcj2kZ8IjKfjNTmY41ZqJWEqgBYdvUjZ-85EvbNpBFSZqGU_EuFCJL9y5qnxftoMK1oilnGeC0NpIpHB_BSlzAFbSytQpZzIHY8Gpb9o-kx4LFvC8pZqtFJrrFtMi9clutUWWLGF7Pq6vsUWKiLXF3C2xY7OuL2yKlzAKEt9KhKlT-07a-wCOu2pKAdVopAMvrNRpjwhSr63mjzaNFNzbVlzgOeA6FnHqvVyc64HPMnWbaC537k2Ztorm2zMplDHNYSVJLpLVZFa_PtrBrWGoG1_8Fta-pt4ohjGeC4ddOBGWTrrAyGzzYKRXXfrjFhXC9Z-sMXSLQ5AW1luotS33r4t3a2PG-uS35b_16a4DaGvoWTrYNk6xDe-X4kYb49OG9Tl_WRIqaqNwZXcsFqY2ezYY6CjuaHN7n2NPVjs31eJvTmkzpNy83rxSA3n-gUoCa6uemt02Oz81gQItcTLLWYlq13wutaKubXiwUNnJOkP2uoX-AFtnrkNfSHnWxOEt-61LZusHW7rzF8u49cVsvWIgKthi2rfBaXXWlZ8Ji4kGuu63Ylky4GwjiGvG2DbZ8YuwsXzs5XrbY8SJOkPtua30bRKbneARGpj2rbNRseAKMtMJ7Ir28MNU1YSvSIkrhig7eYDSsbIckhNs8_7YvNQBzYT9KAL0HzmVFI7WU9YM6f7N1pyrZnU-y_AktKS5rUllJblh_Ls3GMOS7mxlaOBWk2kwZpaPmbc5dWizIqmxDnbQuWdmoI9iyC7ZCjbmQAhZxByomQew54UYHM282gX2Yq3MVpIAsJtQmV2cHul0m_pcMvHW4kQBbyyVBoe526HAV_aS-ZO0WB1gP9pRBqCZviJB4HgYavTo8BW0rSj1-fH7f1iFGxbLJgR_TsEd5zYgglh06qhaV78Qr8lMKwhCtPfEkGvxBnPcKtOBAwgMQSANkAXO_FBu3ad1IN1fqyG-G_AC0H_SA4AMgGSewblhjqZDLpxoy9x9JrHLZTawTjgJ8eBcdqA3HIAK2ttC8eiNfHUTxjM46CeQN-ACT9c93TEtWJBuFk9YO6nQywPo48DiR5iuqj7B8Qs0GULEADuFPQpfKEp2_YLNI2z5P5Eauhn8GNPcpzTrIqU_duLnPbGAzp5I4lC3wbH4tVJyViyIOPentFJaC0_atudzuIzmXt1c4uYrLHkzx5NM6YimO5nqT5LSAA8cSxYB6GdIY0_kB_6MIziAWEaewAmmFDoEc0zkhSafVMU_AUQfwGRT9G7gDwASMQmtHZA2CbId4AMC9AK0ZoVoAeIMRE6hWmDi05SkWHucpAJDOwoSOdTIk6UjhMkE4blQgRHU0q8h-ieaZB4_l9goY1CS6BRFJ0CqQIH8i-JnFAjFx34zFGlDXGZR2AYx55IBMxThRIocYtbZ8v5eMwa98OA8dBM1TziKhLwrKMVueS75NUIwYUOgAxFmhtgQIzVwOKVyrhVXf4-EbOW1cSgHDBr9AJVf0WpjkwNrzVNeO2C3j1XuE9lCmLADPI3Xbru12q7T6jRjxJSbCSmPIBBuvXf4jIGBM7AQBIJ7ATcURL1O7DpDDRvI8KAKMqJnnZL52ModWPqGDD3sS-L4cnj6HN8zh1I-wF2PmG0AlhvNzYYLf2HHDtwYt6vEaCQr4Tnh6E5tCre6H_D0JwI9zhbcNuHQZJ6I8nFiNzkEju8FOVNGyTtHGonR7o70eA7_PBjULg2iMZigjQxjExqYyO_iM41GIEBvk6YzGBZvKA6xyBpsYrfbGxgZb_YyZD6AQBjjM704w0HOObwrjtx-4zkJ4SMguKrxq4O8c-M0BvjyCX49HH-P1OQYwJ0d3Q3BMRZ1gUJzYJe6bduGQjrbzYMifRicSDH0oIx-kZVJhrFJ3aM-3YKsGLQNJlgvVtQGgeRgnS5HyGjmw6JUeNJgzkDiXzqlzE-TOAEU0KYwoin8JYpjCo5xto334g99jZvqoJqIARhui_yPNk1zzZLWFHqKDYNo8gxjBdZfFjKfMHM1VLaHLT4zCPZoP2O-9X-ux19J6fFkSpvrsQgMtiYjL7HNft4Pafmf9Pw9vrlQEoShHnPiyMbF5-6xX1vaMPBz0zns8ytheB3edvO2ZNNZnb96XM3yiY-tO8b7TzZ5Bd5M5v-TBJ7j2al4-RGoAUXp1l9SE-kRb7onmBPymw7zZ8UNgjSf4McH2LZPKmeT_56brKfiPintT1p808yt0Lunx1gZ_hJGekGJnsjmZ6g6We9O1nph45EdZBeCavn65K5707ueaAnnzLj56150nFPmXILzlMnZr8wvkdIK0Sny_BXeH2qW5wm_whJuBA13Jy2m9AMZuS3x709-2-Tj5u9DfJ_tyMlLdmGLDr3wuNYc7e1v_nX39FXCZQ-InNg_3ueID78Pwfm1QRvt710YmDuYjMxyMeO-SNuQckJxud30bMNLvhj11UY-McmOQed3cxzyAe-WNHvq3J79L1l-hsXvGCV737xW4ON3uH3s7s47kFffnhrjwoO4xkE_dPGf304N4811ANAfhO3m0D3MABMbNyfoJ9txCbg9eHEP4Pjw5D-_0OIMPG97HWeFtMDx9Ql--SUA-Mb6AFPe7YKGR7a-Q0qPNHu3yDDIIMfVw7qBLys86s88EH-aHE-l84-Zf_8OXwdyd4c4gkUzVN0xGoL9pjYmvvAlr24NsGW_mv-rCPmanU_gsuvFbeC-Z7lvcWvPWfvTjn8y7WXbLMPAeY5bMmZdfSrNl1lwC17jeFuk32z1CkC9QcgvQX0LzK3zu1-iU9f9jo37s74twvapwZuEVD-QaNzmD939ZOY_42jFfvzfAH5JOM-rkwf_j2an9buKkb41yP_quyaNerfCf_QU79T-41mW-dyr2fHmwNAFy9war9ZNq9p-iUGf5loX8NbF-0Oef3C73_eQdn5vn_rVyl-TltX5uWZfrVw1-83tOiy8NQoP7Fczfn8B2etXDt6kOe3l35ocPfl579-ZHHAGV8w_od5k6R3lcgT-fDlqhY28XrP6Je0cGs5_cozm5i82cQhzZYqjkuk4jKmThLDz40ms-Y1gMKIv4ngXHkH4EmfHnl7hEW_vOa7m8QBNbR-wNIf4p-1AJJ6J-Knmf4dMl_qNa4oV_uTQP-jkk_7Ty4LJf6louQkTzP-VyPtrv-zLPBa_-XvNrb5-jrGYGTsgAcVyQBAbA36LeTfow4t-03m34w8wAVX7l-YASAF9cHfo6zoBubJgGOsrAgP6uBoQdQApAgSCEH7cBAZVpEBiyCQEL25Ab8qUBnvtQESBl3Bs4--qXpioceAgeETr-IgQJ7h-QdjECzgodneZ7-0ga6yyB8fv8iteyfk0EOChQrWCX-f1FoHRS6QnV4gkl_h-gwQ6APNjk2w5okAaBMADf53-CgcIIaSRgfkEx-__viwOBLrGEHscRdmhxr83_oxYF-ywX1yrBMnKN6wBUQTJwoB3gv4G-BenB378OWwfgHgs9nBF7j-XKA_qoB6wPr7hsVRhPYr8-qgR7m-Clqf4sgNvtZJKBlHm77OkoIR-C8BQbIx6ZBONmGYseEZosFkOViEUGB-JQUIG5eJARYBiBI1jv6SBdQQf76AcfvYJKeigYCEzwxgYsiv-SwdNZaehwcyw7BdgHsF0hY3sWBQBw5GZYBBEAZcGeK5fv-YchuUjAEo8uATJwIBP9K37IB7fjN7xBawULbhsWAcKH2BpwXgFC8iQfurJBjMKkExevZhQGOSc_sl7IhIDKiH--xQTx6YhIfqIEVBUAGMFJcUgUSE0AJIVYKzBSfp8hyBlIef5-0qge06TBLoTV7tOgSMYIgkpgfsEusFgbn7WBP_iyHwAAAeyHV-Aoc4EnBZ1jULihSAcVznBnITZbchjgbyHTw1wTKHscsoYazrBw_Dp44BKocWExBcQXcFqhDwaP55szwWAQ6hcXhkH6hVAUM4U2uGt4QMBEAIfAWK8wak4SawThwHRwnIDCokOKIex6mh6IUzSlB2IYdzgsNtFebVBw2GHYWwaZvqofW3no0GkhLoZCGZC5tvKGOQ82EMF_iowTkE-ckwdMFPk9_on6JofYVJwpehrHYHmBcYexwlhMnJsFkcs3pGG7BUHC-H2Bb4SjzHBzPKKETe7gYgGShC3BmEoBFkFuFJBNYUP51hhAUzTzhC9nYjrAesF1DbA-WnbDUAlwmaYMA0iNzxnWSANHBAgxIFUDeAYbr-DkgCONQj8AjovkDUAvztHAxQOAOxHiwDETHDuhrEfwCzQh0MxAwitETCKYA5IDQR5geQGKT-wloBREgg1EYfLcRUQGgB8RKgLIYyCnoWbQwAicgiCiorEZdROU5oKpEAAeiNB5Q-GjgAjQKNGbTJgJkc8icalkdZFi4iVFFTNsyKLZGeh_DrD4Fun3mRH8AxkcLA4AWUJZEeRjKNoZ0-gYqgAOGIPn5EgApkV_iWRVkZ5Fy-nbvD49uwRh4YmR8rjgChRq4PwDbuoJsiimRwUS8JJRYUcnLo-iRinJFRgUUAiORyUbDjmgVoJEBZR5kf3j1RGETPAaU8kbgApMeEagAERrzkRGQ8voFkC_OmJGaCqiMkQOJzA_ADc70k8gEAA`} __position={0} __code={'<BarChart width=\\\"600\\\" height=\\\"220\\\" />\\n<BarChartEmbed />'} __scope={{props: this ? this.props : props,BarChart,BarChartEmbed}}>\n    <BarChart width=\"600\" height=\"220\"/>\n    <BarChartEmbed />\n</Playground>\n           </MDXTag>\n  }\n}\n  ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__tUXug\"};","var config = {\n    \"DOMAIN\": \"https://sabc-eds.github.io/elections-dataviz\"\n}\n\nexport default config;","const REGION_CHANGE = \"region-change\";\nconst BARCHART_PREVIEW = \"barchart-preview\";\nconst MAP_PREVIEW = \"map-preview\";\n\nexport default {\n    REGION_CHANGE,\n    BARCHART_PREVIEW,\n    MAP_PREVIEW\n};","export function parseVotesData(data, props) {\n    var results, firstEdge;\n    var regionType = props.regionType;\n    if (regionType == \"national\") {\n      firstEdge = data[\"data\"][\"allBallots\"].edges[0];\n    } else if (regionType == \"province\") {\n      firstEdge = data[\"data\"][\"allProvincialBallots\"].edges[0];\n    } else if (regionType == \"municipality\") {\n      firstEdge= data[\"data\"][\"allMunicipalBallots\"].edges[0];\n    } else { //\"municipality-vd\"\n      firstEdge = data[\"data\"][\"allVotingDistrictBallots\"].edges[0];\n    }\n    if (!firstEdge){\n      console.error(\"party data is empty!!\");\n      return null;\n    }\n\n    var nodeData = firstEdge[\"node\"];\n    var partyResults = nodeData[\"partyResults\"] || nodeData[\"topResult\"];\n    results = partyResults[\"edges\"];\n    results = results.slice(0, props.numParties);\n\n    return results.map(function(node) {\n        var el = node[\"node\"];\n        return {\n            name: el[\"party\"][\"abbreviation\"],\n            validVotes: el[\"validVotes\"],\n            percOfVotes: el[\"percOfVotes\"],\n            partyInfo: el[\"party\"]\n        }\n    });\n}\n\nexport function parseMainPartyData(data, props) {\n    if (!data)  return null;\n    var locationToMainParty = {};\n    var edges;\n    var regionType = props.regionType;\n    console.log(\"parseMainPartyData\", data, regionType);\n    if (regionType === \"national\") {\n        edges = data[\"data\"][\"allProvincialBallots\"].edges;\n        edges.forEach(function(edge) {\n            var node = edge.node;\n            var provinceName = node[\"location\"][\"name\"];\n            var partyResults = node[\"partyResults\"] || node[\"topResult\"]; \n            var partyName = partyResults[\"edges\"][0][\"node\"][\"party\"][\"name\"];\n            locationToMainParty[provinceName] = partyName;\n        })\n    } else if (regionType === \"province\") {\n        edges = data[\"data\"][\"allMunicipalBallots\"].edges;\n        edges.forEach(function(edge) {\n            var node = edge.node;\n            var muniCode = node[\"location\"][\"code\"];\n            var partyResults = node[\"partyResults\"] || node[\"topResult\"]; \n            var partyName = partyResults[\"edges\"][0][\"node\"][\"party\"][\"name\"];\n            locationToMainParty[muniCode] = partyName;\n        })\n    } else {// \"municipality\"\n        edges = data[\"data\"][\"allVotingDistrictBallots\"].edges;\n        edges.forEach(function(edge) {\n            var node = edge.node;\n            var vdNumber = node[\"location\"][\"vdNumber\"];\n            var partyResults = node[\"partyResults\"] || node[\"topResult\"]; \n            var partyName = partyResults[\"edges\"][0][\"node\"][\"party\"][\"name\"];\n            locationToMainParty[vdNumber] = partyName;\n        })\n    }\n    return locationToMainParty;\n}\n\nexport function parseSeatsData(data, props) {\n  if (!data)  return null;\n  var edges = data[\"data\"][\"allSeatCalculations\"].edges;\n  var regionType = props.regionType;\n  var results = edges.map(edge => {\n    var node = edge.node;\n    var seats = 0;\n    if (regionType === \"national\") {\n      seats = node[\"nationalPr\"];\n    } else {//\"province\"\n      seats = node[\"regional\"];\n    }\n    return {\n      seats,\n      name: node[\"party\"][\"abbreviation\"],\n      partyInfo: node[\"party\"]\n    }\n  })\n  \n  results.sort(function(a,b) {\n    return b[\"seats\"] - a[\"seats\"];\n  })\n  return results.slice(0, props.numParties);\n}\n\nexport function getRegionName(state) {\n  function beautifiedMuniName(muniName) {\n    if (muniName.indexOf(\"-\") != -1) {\n        muniName = muniName.split(\"-\")[1];\n    }\n    if (muniName.indexOf(\"[\") != -1) {\n        muniName = muniName.split(\"[\")[0];\n    }\n    return muniName;\n  }\n  if (state.regionType == \"national\") {\n    return \"South Africa\";\n  }\n  if (state.regionType == \"province\") {\n    return state.provinceName;\n  }\n  if (state.regionType == \"municipality\") {\n    return beautifiedMuniName(state.muniName);\n  }\n  if (state.regionType == \"municipality-vd\") {\n    return beautifiedMuniName(state.muniName) + \"-\" + state.vdNumber;\n  }\n}"],"sourceRoot":""}