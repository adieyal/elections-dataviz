(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"./src/api/index.js":function(e,n,t){"use strict";var a=t("./node_modules/graphql-tag/src/index.js"),r=t.n(a),o=t("./node_modules/apollo-client/ApolloClient.js"),i=t("./node_modules/apollo-link-http/lib/bundle.esm.js"),l=t("./node_modules/apollo-cache-inmemory/lib/inMemoryCache.js"),c=new o.a({link:new i.a({uri:"https://elections2019.xyz/graphql",useGETForQueries:!0,headers:{"Content-Type":"application/graphql"}}),cache:new l.a});function u(){var e=d(['\n        {\n            allSeatCalculations(province_Name:"','", party_Event_Description:"','", orderBy:["-regional"]){\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        ']);return u=function(){return e},e}function s(){var e=d(['\n        {\n            allSeatCalculations(party_Event_Description:"','", orderBy:["-national_pr"]){\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        ']);return s=function(){return e},e}function m(){var e=d(['\n      {\n          allSeatCalculations(province_Name:"','", orderBy:["-regional"]){\n            edges{\n              node\n              {\n                nationalPr\n                regional\n                party{\n                  event {\n                    description\n                  }\n                  name\n                  abbreviation\n                }\n                province{\n                  name\n                }\n              }\n            }\n          }\n      }\n      ']);return m=function(){return e},e}function p(){var e=d(['\n      {\n          allSeatCalculations(\n            party_Event_Description_Icontains:"national",\n            orderBy:["-national_pr"]){\n            edges{\n              node\n              {\n                nationalPr\n                regional\n                party{\n                  event {\n                    description\n                  }\n                  name\n                  abbreviation\n                }\n                province{\n                  name\n                }\n              }\n            }\n          }\n      }\n      ']);return p=function(){return e},e}function d(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function f(e){return"national"==e.regionType?c.query({query:r()(p())}):c.query({query:r()(m(),e.provinceName)})}function v(e){var n=e.eventDescription;if(n)return"national"==e.regionType?c.query({query:r()(s(),n)}):(n=(n=(n=n.replace("National","Provincial")).replace("NATIONAL","PROVINCIAL")).replace("national","provincial"),c.query({query:r()(u(),e.provinceName,n)}))}function y(){var e=O(['\n          {\n            topPartiesByVotingDistrict(\n              location_Ward_Municipality_Province_Country_Event_Description:"','", \n              location_Ward_Municipality_Province_Name:"','",\n              location_Ward_Municipality_Code: "','"\n            ) {\n              \n              edges {\n                node {\n                  location{\n                    iecId\n                  }\n                  topParty{\n                    party{\n                      name\n                      abbreviation\n                    }\n                  }\n                }\n              }\n            }\n          }\n          ']);return y=function(){return e},e}function b(){var e=O(['\n        {\n          topPartiesByMunicipality(\n            location_Province_Country_Event_Description:"','", \n            location_Province_Name:"','") {\n            \n            edges {\n              node {\n                location{\n                    code\n                    name\n                    longName\n                }\n                totalVotesCast\n                topParty{\n                  party {               \n                    name\n                    abbreviation\n                  }\n                  validVotes\n                  percOfVotes\n                }\n              }\n            }\n          }\n        }\n        ']);return b=function(){return e},e}function h(){var e=O(['\n        {\n          topPartiesByProvince(location_Country_Event_Description:"','") {\n            edges {\n              node {\n                location{\n                  id\n                  name\n                }\n                totalVotesCast\n                topParty{\n                  validVotes\n                  percOfVotes\n                  party {\n                      id\n                      name\n                      abbreviation\n                  }\n                }\n              }\n            }\n          }\n        }\n        ']);return h=function(){return e},e}function N(){var e=O(['\n        {\n          allVotingDistrictBallots(\n            event_Description:"','",\n            location_IecId:"','", \n            location_Ward_Municipality_Code:"','"\n          ) {\n            edges{\n              node{\n                location {\n                  iecId\n                }\n                partyResults {\n                  edges{\n                    node{\n                      party{\n                        name\n                        abbreviation\n                      }\n                      percOfVotes\n                    }\n                  }  \n                }\n              }\n            }\n          }\n        }\n        ']);return N=function(){return e},e}function g(){var e=O(['\n        {\n          allMunicipalBallots(\n            event_Description:"','",\n            location_Province_Name:"','", \n            location_Code: "','"\n          ) {\n            edges{\n              node {\n                partyResults {\n                  edges{\n                    node{\n                      party {               \n                        name\n                        abbreviation\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }\n                  \n                }\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        ']);return g=function(){return e},e}function E(){var e=O(['\n        {\n          allProvincialBallots(\n            event_Description:"','",\n            location_Name:"','"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                      }\n                    }\n                  }\n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return E=function(){return e},e}function C(){var e=O(['\n        {\n          allBallots(\n            event_Description:"','"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                      }\n                    }\n                  }\n                  \n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return C=function(){return e},e}function P(){var e=O(['\n      {\n        allVotingDistrictBallots(\n          location_IecId:"','", \n          location_Ward_Municipality_Code:"','"\n        ) {\n          edges{\n            node{\n              event {\n                description\n              }\n              location {\n                iecId\n              }\n              partyResults {\n                edges{\n                  node{\n                    party{\n                      name\n                    }\n                    percOfVotes\n                  }\n                }  \n              }\n            }\n          }\n        }\n      }\n      ']);return P=function(){return e},e}function S(){var e=O(['\n      {\n        allMunicipalBallots(\n          location_Province_Name:"','", \n          location_Code: "','"\n        ) {\n          edges{\n            node {\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    party {               \n                      name\n                      abbreviation\n                    }\n                    validVotes\n                    percOfVotes\n                  }\n                }\n                \n              }\n              location {\n                code\n                name\n                longName\n              }\n            }\n          }\n        }\n      }\n      ']);return S=function(){return e},e}function w(){var e=O(['\n      {\n        allProvincialBallots(\n          location_Name:"','"\n        ){\n          edges{\n            node{\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    percOfVotes\n                    party {\n                      name\n                      abbreviation\n                    }\n                  }\n                }\n              }\n              location {\n                name\n              }\n            }\n          }\n        }\n      }\n      ']);return w=function(){return e},e}function _(){var e=O(["\n      {\n        allBallots{\n          edges{\n            node{\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    percOfVotes\n                    party {\n                      name\n                      abbreviation\n                    }\n                  }\n                }\n              }\n              location {\n                name\n              }\n            }\n          }\n        }\n      }\n      "]);return _=function(){return e},e}function O(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function k(e){if("national"==e.regionType)return c.query({query:r()(_())});if("province"==e.regionType)return c.query({query:r()(w(),e.provinceName)});if("municipality"==e.regionType){var n=e.muniCode||e.muniName.split(" - ")[0];return c.query({query:r()(S(),e.provinceName,n)})}return"municipality-vd"==e.regionType?c.query({query:r()(P(),e.iecId,e.muniCode)}):void 0}function A(e){var n=e.eventDescription;if(n){if("national"==e.regionType)return c.query({query:r()(C(),n)});if("province"==e.regionType)return c.query({query:r()(E(),n,e.provinceName)});if("municipality"==e.regionType){var t=e.muniCode||e.muniName.split(" - ")[0];return c.query({query:r()(g(),n,e.provinceName,t)})}return"municipality-vd"==e.regionType?(console.log("fetch vd",n,e.iecId,e.muniCode),c.query({query:r()(N(),n,e.iecId,e.muniCode)})):void 0}}function T(e){var n=e.eventDescription;if(n){if("national"==e.regionType)return c.query({query:r()(h(),n)});if("province"==e.regionType)return c.query({query:r()(b(),n,e.provinceName)});e.muniName.split(" - ")[1];return c.query({query:r()(y(),n,e.provinceName,e.muniCode)})}}function I(){var e=L(['\n          {\n            allVotingDistrictBallots(\n                location_IecId:"','", \n                location_Ward_Municipality_Code:"','"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return I=function(){return e},e}function x(){var e=L(['\n          {\n            allMunicipalBallots( \n                location_Province_Name:"','", \n                location_Code: "','"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return x=function(){return e},e}function j(){var e=L(['\n        {\n          allProvincialBallots(\n            location_Name:"','"\n          ) {\n            edges{\n              node {\n                event {\n                  description\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        ']);return j=function(){return e},e}function R(){var e=L(["\n        {\n          allBallots{\n            edges{\n              node{\n                event {\n                  description\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        "]);return R=function(){return e},e}function G(){var e=L(['\n          {\n            allVotingDistrictBallots( \n            event_Description:"','",\n            location_Ward_Municipality_Name_Icontains:"','") {\n              edges{\n                node{\n                  location {\n                    iecId\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return G=function(){return e},e}function M(){var e=L(['\n        {\n          allMunicipalBallots(\n            event_Description:"','",\n            location_Province_Name:"','"\n          ) {\n            edges{\n              node {\n                percVoterTurnout\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        ']);return M=function(){return e},e}function D(){var e=L(['\n        {\n          allProvincialBallots(\n            event_Description:"','"\n          ){\n            edges{\n              node{\n                percVoterTurnout\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return D=function(){return e},e}function L(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function V(e){var n=e.eventDescription;if(n){if("national"==e.regionType)return c.query({query:r()(D(),n)});if("province"==e.regionType)return c.query({query:r()(M(),n,e.provinceName)});var t=e.muniName.split(" - ")[1];return c.query({query:r()(G(),n,t)})}}function W(e){if("national"==e.regionType)return c.query({query:r()(R())});if("province"==e.regionType)return c.query({query:r()(j(),e.provinceName)});if("municipality"==e.regionType){var n=e.muniCode||e.muniName.split(" - ")[0];return c.query({query:r()(x(),e.provinceName,n)})}return"municipality-vd"==e.regionType?c.query({query:r()(I(),e.iecId,e.muniCode)}):void 0}function B(){var e=F(['\n          {\n            allVotingDistrictBallots(\n                event_Description:"','",\n                location_IecId:"','", \n                location_Ward_Municipality_Code:"','"\n            ) {\n              edges{\n                node{\n                  location {\n                    iecId\n                  }\n                  spoiltVotes\n                  totalVotesCast\n                  totalValidVotes\n                }\n              }\n            }\n          }\n          ']);return B=function(){return e},e}function K(){var e=F(['\n          {\n            allMunicipalBallots( \n                event_Description:"','",\n                location_Province_Name:"','", \n                location_Code: "','"\n            ) {\n              edges{\n                node{\n                  location {\n                    code\n                    name\n                    longName\n                  }\n                  spoiltVotes\n                  totalVotesCast\n                  totalValidVotes\n                }\n              }\n            }\n          }\n          ']);return K=function(){return e},e}function Z(){var e=F(['\n        {\n          allProvincialBallots(\n            event_Description:"','",\n            location_Name:"','"\n          ) {\n            edges{\n              node {\n                spoiltVotes\n                totalVotesCast\n                totalValidVotes\n                location {\n                    id\n                    name\n                }\n              }\n            }\n          }\n        }\n        ']);return Z=function(){return e},e}function U(){var e=F(['\n        {\n          allBallots(\n            event_Description:"','"\n          ){\n            edges{\n              node{\n                spoiltVotes\n                totalVotesCast\n                totalValidVotes\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return U=function(){return e},e}function F(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function H(e){var n=e.eventDescription;if(n){if("national"==e.regionType)return c.query({query:r()(U(),n)});if("province"==e.regionType)return c.query({query:r()(Z(),n,e.provinceName)});if("municipality"==e.regionType){var t=e.muniCode||e.muniName.split(" - ")[0];return c.query({query:r()(K(),n,e.provinceName,t)})}return"municipality-vd"==e.regionType?c.query({query:r()(B(),n,e.iecId,e.muniCode)}):void 0}}function z(){var e=J(['\n        {\n          allVotingDistrictBallots(\n            event_Description:"','",\n            location_IecId:"','", \n            location_Ward_Municipality_Code:"','"\n          ) {\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return z=function(){return e},e}function q(){var e=J(['\n        {\n          allMunicipalBallots(\n            event_Description:"','",\n            location_Province_Name:"','", \n            location_Code: "','"\n          ) {\n            edges{\n              node {\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return q=function(){return e},e}function X(){var e=J(['\n        {\n          allProvincialBallots(\n            event_Description:"','",\n            location_Name:"','"\n          ){\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return X=function(){return e},e}function Y(){var e=J(['\n        {\n          allBallots(\n            event_Description:"','"\n          ){\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return Y=function(){return e},e}function J(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Q(e){var n=e.eventDescription;if(n){if("national"==e.regionType)return c.query({query:r()(Y(),n)});if("province"==e.regionType)return c.query({query:r()(X(),n,e.provinceName)});if("municipality"==e.regionType){var t=e.muniCode||e.muniName.split(" - ")[0];return c.query({query:r()(q(),n,e.provinceName,t)})}return"municipality-vd"==e.regionType?c.query({query:r()(z(),n,e.iecId,e.muniCode)}):void 0}}function $(){var e=ne(["\n    {\n      allParties {\n        edges{\n          node{\n            name\n            abbreviation\n            colour\n          }\n        }\n      }\n    }\n    "]);return $=function(){return e},e}function ee(){var e=ne(["\n    {\n      allEvents {\n        description\n      }\n    }\n    "]);return ee=function(){return e},e}function ne(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function te(){return c.query({query:r()(ee())})}function ae(){return c.query({query:r()($())})}function re(){return[{name:"Limpopo",abbreviation:"LIM",munis:[{provinceName:"Limpopo",muniName:"LIM331 - Greater Giyani [Giyani]",muniCode:"LIM331"},{provinceName:"Limpopo",muniName:"LIM332 - Greater Letaba [Duiwelskloof]",muniCode:"LIM332"},{provinceName:"Limpopo",muniName:"LIM333 - Greater Tzaneen [Tzaneen]",muniCode:"LIM333"},{provinceName:"Limpopo",muniName:"LIM334 - Ba-Phalaborwa [Phalaborwa]",muniCode:"LIM334"},{provinceName:"Limpopo",muniName:"LIM335 - Maruleng [Hoedspruit]",muniCode:"LIM335"},{provinceName:"Limpopo",muniName:"LIM341 - Musina [Messina]",muniCode:"LIM341"},{provinceName:"Limpopo",muniName:"LIM342 - Mutale [Mutale-Masisi]",muniCode:"LIM342"},{provinceName:"Limpopo",muniName:"LIM343 - Thulamela [Thohoyandou]",muniCode:"LIM343"},{provinceName:"Limpopo",muniName:"LIM344 - Makhado [Louis Trichardt]",muniCode:"LIM344"},{provinceName:"Limpopo",muniName:"LIM351 - Blouberg [Bochum/My Darling]",muniCode:"LIM351"},{provinceName:"Limpopo",muniName:"LIM352 - Aganang [Moletji/Matlala]",muniCode:"LIM352"},{provinceName:"Limpopo",muniName:"LIM353 - Molemole [Dendron/Dikgale]",muniCode:"LIM353"},{provinceName:"Limpopo",muniName:"LIM354 - Polokwane [Pietersburg]",muniCode:"LIM354"},{provinceName:"Limpopo",muniName:"LIM355 - Lepele-Nkumpi [Lebowakgomo]",muniCode:"LIM355"},{provinceName:"Limpopo",muniName:"LIM361 - Thabazimbi [Thabazimbi]",muniCode:"LIM361"},{provinceName:"Limpopo",muniName:"LIM362 - Lephalale [Ellisras]",muniCode:"LIM362"},{provinceName:"Limpopo",muniName:"LIM364 - Mookgopong [Naboomspruit]",muniCode:"LIM364"},{provinceName:"Limpopo",muniName:"LIM365 - Modimolle [Nylstroom]",muniCode:"LIM365"},{provinceName:"Limpopo",muniName:"LIM366 - Bela-Bela [Warmbad]",muniCode:"LIM366"},{provinceName:"Limpopo",muniName:"LIM367 - Mogalakwena [Potgietersrus]",muniCode:"LIM367"},{provinceName:"Limpopo",muniName:"LIM471 - Ephraim Mogale [Marble Hall]",muniCode:"LIM471"},{provinceName:"Limpopo",muniName:"LIM472 - Elias Motsoaledi [Groblersdal]",muniCode:"LIM472"},{provinceName:"Limpopo",muniName:"LIM473 - Makhuduthamaga [Ngwaritsi]",muniCode:"LIM473"},{provinceName:"Limpopo",muniName:"LIM474 - Fetakgomo [Fetakgomo ]",muniCode:"LIM474"},{provinceName:"Limpopo",muniName:"LIM475 - Greater Tubatse [Burgersfort/Ohrigstad/Eastern Tubatse]",muniCode:"LIM475"}]},{name:"Mpumalanga",abbreviation:"MP",munis:[{provinceName:"Mpumalanga",muniName:"MP301 - Albert Luthuli [Elukwatini/Carolina]",muniCode:"MP301"},{provinceName:"Mpumalanga",muniName:"MP302 - Msukaligwa [Ermelo]",muniCode:"MP302"},{provinceName:"Mpumalanga",muniName:"MP303 - Mkhondo [Piet Retief]",muniCode:"MP303"},{provinceName:"Mpumalanga",muniName:"MP304 - Pixley Ka Seme [Volksrust]",muniCode:"MP304"},{provinceName:"Mpumalanga",muniName:"MP305 - Lekwa [Standerton]",muniCode:"MP305"},{provinceName:"Mpumalanga",muniName:"MP306 - Dipaleseng [Balfour]",muniCode:"MP306"},{provinceName:"Mpumalanga",muniName:"MP307 - Govan Mbeki [Highveld Ridge]",muniCode:"MP307"},{provinceName:"Mpumalanga",muniName:"MP311 - Delmas [Delmas]",muniCode:"MP311"},{provinceName:"Mpumalanga",muniName:"MP312 - Emalahleni [Witbank]",muniCode:"MP312"},{provinceName:"Mpumalanga",muniName:"MP313 - Steve Tshwete [Middelburg]",muniCode:"MP313"},{provinceName:"Mpumalanga",muniName:"MP314 - Emakhazeni [Belfast]",muniCode:"MP314"},{provinceName:"Mpumalanga",muniName:"MP315 - Thembisile [KwaMhlanga]",muniCode:"MP315"},{provinceName:"Mpumalanga",muniName:"MP316 - Dr JS Moroka [Mdutjana]",muniCode:"MP316"},{provinceName:"Mpumalanga",muniName:"MP321 - Thaba Chweu [Sabie]",muniCode:"MP321"},{provinceName:"Mpumalanga",muniName:"MP322 - Mbombela [Nelspruit]",muniCode:"MP322"},{provinceName:"Mpumalanga",muniName:"MP323 - Umjindi [Barberton]",muniCode:"MP323"},{provinceName:"Mpumalanga",muniName:"MP324 - Nkomazi [Nkomazi]",muniCode:"MP324"},{provinceName:"Mpumalanga",muniName:"MP325 - Bushbuckridge [Bushbuckridge]",muniCode:"MP325"}]},{name:"Gauteng",abbreviation:"GT",munis:[{provinceName:"Gauteng",muniName:"EKU - Ekurhuleni [East Rand]",muniCode:"EKU"},{provinceName:"Gauteng",muniName:"GT421 - Emfuleni [Vereeniging]",muniCode:"GT421"},{provinceName:"Gauteng",muniName:"GT422 - Midvaal [Meyerton]",muniCode:"GT422"},{provinceName:"Gauteng",muniName:"GT423 - Lesedi [Heidelberg]",muniCode:"GT423"},{provinceName:"Gauteng",muniName:"GT481 - Mogale City [Krugersdorp]",muniCode:"GT481"},{provinceName:"Gauteng",muniName:"GT482 - Randfontein [Randfontein]",muniCode:"GT482"},{provinceName:"Gauteng",muniName:"GT483 - Westonaria [Westonaria]",muniCode:"GT483"},{provinceName:"Gauteng",muniName:"GT484 - Merafong City [Carletonville]",muniCode:"GT484"},{provinceName:"Gauteng",muniName:"JHB - City of Johannesburg [Johannesburg]",muniCode:"JHB"},{provinceName:"Gauteng",muniName:"TSH - Tshwane Metro [Pretoria]",muniCode:"TSH"}]},{name:"KwaZulu-Natal",abbreviation:"KZN",munis:[{provinceName:"KwaZulu-Natal",muniName:"ETH - eThekwini [Durban Metro]",muniCode:"ETH"},{provinceName:"KwaZulu-Natal",muniName:"KZN211 - Vulamehlo [Dududu]",muniCode:"KZN211"},{provinceName:"KwaZulu-Natal",muniName:"KZN212 - Umdoni [Scottburgh]",muniCode:"KZN212"},{provinceName:"KwaZulu-Natal",muniName:"KZN213 - Umzumbe [Umzumbe]",muniCode:"KZN213"},{provinceName:"KwaZulu-Natal",muniName:"KZN214 - UMuziwabantu [Harding]",muniCode:"KZN214"},{provinceName:"KwaZulu-Natal",muniName:"KZN215 - Ezinqoleni [Izinqolweni]",muniCode:"KZN215"},{provinceName:"KwaZulu-Natal",muniName:"KZN216 - Hibiscus Coast [Port Shepstone]",muniCode:"KZN216"},{provinceName:"KwaZulu-Natal",muniName:"KZN221 - uMshwathi [Wartburg]",muniCode:"KZN221"},{provinceName:"KwaZulu-Natal",muniName:"KZN222 - uMngeni [Howick]",muniCode:"KZN222"},{provinceName:"KwaZulu-Natal",muniName:"KZN223 - Mooi Mpofana [Mooirivier]",muniCode:"KZN223"},{provinceName:"KwaZulu-Natal",muniName:"KZN224 - Impendle [Impendle]",muniCode:"KZN224"},{provinceName:"KwaZulu-Natal",muniName:"KZN225 - Msunduzi [Pietermaritzburg]",muniCode:"KZN225"},{provinceName:"KwaZulu-Natal",muniName:"KZN226 - Mkhambathini [Camperdown]",muniCode:"KZN226"},{provinceName:"KwaZulu-Natal",muniName:"KZN227 - Richmond [Richmond]",muniCode:"KZN227"},{provinceName:"KwaZulu-Natal",muniName:"KZN232 - Emnambithi/Ladysmith [Ladysmith]",muniCode:"KZN232"},{provinceName:"KwaZulu-Natal",muniName:"KZN233 - Indaka [Waaihoek]",muniCode:"KZN233"},{provinceName:"KwaZulu-Natal",muniName:"KZN234 - Umtshezi [Estcourt]",muniCode:"KZN234"},{provinceName:"KwaZulu-Natal",muniName:"KZN235 - Okhahlamba [Bergville]",muniCode:"KZN235"},{provinceName:"KwaZulu-Natal",muniName:"KZN236 - Imbabazane [Loskop]",muniCode:"KZN236"},{provinceName:"KwaZulu-Natal",muniName:"KZN241 - Endumeni [Dundee]",muniCode:"KZN241"},{provinceName:"KwaZulu-Natal",muniName:"KZN242 - Nqutu [Nqutu]",muniCode:"KZN242"},{provinceName:"KwaZulu-Natal",muniName:"KZN244 - Msinga [Pomeroy]",muniCode:"KZN244"},{provinceName:"KwaZulu-Natal",muniName:"KZN245 - Umvoti [Greytown]",muniCode:"KZN245"},{provinceName:"KwaZulu-Natal",muniName:"KZN252 - Newcastle [Newcastle]",muniCode:"KZN252"},{provinceName:"KwaZulu-Natal",muniName:"KZN253 - eMadlangeni [Utrecht]",muniCode:"KZN253"},{provinceName:"KwaZulu-Natal",muniName:"KZN254 - Dannhauser [Durnacol]",muniCode:"KZN254"},{provinceName:"KwaZulu-Natal",muniName:"KZN261 - eDumbe [Paulpietersburg]",muniCode:"KZN261"},{provinceName:"KwaZulu-Natal",muniName:"KZN262 - UPhongolo [Pongola]",muniCode:"KZN262"},{provinceName:"KwaZulu-Natal",muniName:"KZN263 - Abaqulusi [Vryheid]",muniCode:"KZN263"},{provinceName:"KwaZulu-Natal",muniName:"KZN265 - Nongoma [Nongoma]",muniCode:"KZN265"},{provinceName:"KwaZulu-Natal",muniName:"KZN266 - Ulundi [Ulundi]",muniCode:"KZN266"},{provinceName:"KwaZulu-Natal",muniName:"KZN271 - Umhlabuyalingana [Emangusi]",muniCode:"KZN271"},{provinceName:"KwaZulu-Natal",muniName:"KZN272 - Jozini [Mkuze]",muniCode:"KZN272"},{provinceName:"KwaZulu-Natal",muniName:"KZN273 - The Big 5 False Bay [Hluhluwe]",muniCode:"KZN273"},{provinceName:"KwaZulu-Natal",muniName:"KZN274 - Hlabisa [Somkele]",muniCode:"KZN274"},{provinceName:"KwaZulu-Natal",muniName:"KZN275 - Mtubatuba [Mtubatuba]",muniCode:"KZN275"},{provinceName:"KwaZulu-Natal",muniName:"KZN281 - Mfolozi [KwaMbonambi]",muniCode:"KZN281"},{provinceName:"KwaZulu-Natal",muniName:"KZN282 - uMhlathuze [Richards Bay]",muniCode:"KZN282"},{provinceName:"KwaZulu-Natal",muniName:"KZN283 - Ntambana [Ntambana]",muniCode:"KZN283"},{provinceName:"KwaZulu-Natal",muniName:"KZN284 - uMlalazi [Eshowe]",muniCode:"KZN284"},{provinceName:"KwaZulu-Natal",muniName:"KZN285 - Mthonjaneni [Melmoth]",muniCode:"KZN285"},{provinceName:"KwaZulu-Natal",muniName:"KZN286 - Nkandla [Nkandla]",muniCode:"KZN286"},{provinceName:"KwaZulu-Natal",muniName:"KZN291 - Mandeni [Mandeni]",muniCode:"KZN291"},{provinceName:"KwaZulu-Natal",muniName:"KZN292 - KwaDukuza [Stanger]",muniCode:"KZN292"},{provinceName:"KwaZulu-Natal",muniName:"KZN293 - Ndwedwe [Ndwedwe]",muniCode:"KZN293"},{provinceName:"KwaZulu-Natal",muniName:"KZN294 - Maphumulo [Maphumulo]",muniCode:"KZN294"},{provinceName:"KwaZulu-Natal",muniName:"KZN431 - Ingwe [Creighton]",muniCode:"KZN431"},{provinceName:"KwaZulu-Natal",muniName:"KZN432 - Kwa Sani [Underberg]",muniCode:"KZN432"},{provinceName:"KwaZulu-Natal",muniName:"KZN433 - Greater Kokstad [Kokstad]",muniCode:"KZN433"},{provinceName:"KwaZulu-Natal",muniName:"KZN434 - Ubuhlebezwe [Ixopo]",muniCode:"KZN434"},{provinceName:"KwaZulu-Natal",muniName:"KZN435 - Umzimkhulu [Umzimkulu]",muniCode:"KZN435"}]},{name:"North West",abbreviation:"NW",munis:[{provinceName:"North West",muniName:"NW371 - Moretele [Makapanstad]",muniCode:"NW371"},{provinceName:"North West",muniName:"NW372 - Madibeng [Brits]",muniCode:"NW372"},{provinceName:"North West",muniName:"NW373 - Rustenburg [Rustenburg]",muniCode:"NW373"},{provinceName:"North West",muniName:"NW374 - Kgetlengrivier [Koster]",muniCode:"NW374"},{provinceName:"North West",muniName:"NW375 - Moses Kotane [Mogwase]",muniCode:"NW375"},{provinceName:"North West",muniName:"NW381 - Ratlou [Setlagole]",muniCode:"NW381"},{provinceName:"North West",muniName:"NW382 - Tswaing [Delareyville]",muniCode:"NW382"},{provinceName:"North West",muniName:"NW383 - Mafikeng [Mafikeng]",muniCode:"NW383"},{provinceName:"North West",muniName:"NW384 - Ditsobotla [Lichtenburg]",muniCode:"NW384"},{provinceName:"North West",muniName:"NW385 - Ramotshere Moiloa [Zeerust]",muniCode:"NW385"},{provinceName:"North West",muniName:"NW392 - Naledi [Vryburg]",muniCode:"NW392"},{provinceName:"North West",muniName:"NW393 - Mamusa [Schweizer-Reneke]",muniCode:"NW393"},{provinceName:"North West",muniName:"NW394 - Greater Taung [Reivilo]",muniCode:"NW394"},{provinceName:"North West",muniName:"NW396 - Lekwa-Teemane [Christiana]",muniCode:"NW396"},{provinceName:"North West",muniName:"NW397 - NW397 Local Municipality [Ganyesa/Pomfret]",muniCode:"NW397"},{provinceName:"North West",muniName:"NW401 - Ventersdorp [Ventersdorp]",muniCode:"NW401"},{provinceName:"North West",muniName:"NW402 - Tlokwe [Potchefstroom]",muniCode:"NW402"},{provinceName:"North West",muniName:"NW403 - Matlosana [Klerksdorp]",muniCode:"NW403"},{provinceName:"North West",muniName:"NW404 - Maquassi Hills [Wolmaransstad]",muniCode:"NW404"}]},{name:"Free State",abbreviation:"FS",munis:[{provinceName:"Free State",muniName:"FS161 - Letsemeng [Koffiefontein]",muniCode:"FS161"},{provinceName:"Free State",muniName:"FS162 - Kopanong [Trompsburg]",muniCode:"FS162"},{provinceName:"Free State",muniName:"FS163 - Mohokare [Zastron]",muniCode:"FS163"},{provinceName:"Free State",muniName:"FS164 - Naledi [Dewetsdorp]",muniCode:"FS164"},{provinceName:"Free State",muniName:"FS181 - Masilonyana [Theunissen]",muniCode:"FS181"},{provinceName:"Free State",muniName:"FS182 - Tokologo [Dealesville]",muniCode:"FS182"},{provinceName:"Free State",muniName:"FS183 - Tswelopele [Hoopstad]",muniCode:"FS183"},{provinceName:"Free State",muniName:"FS184 - Matjhabeng [Welkom]",muniCode:"FS184"},{provinceName:"Free State",muniName:"FS185 - Nala [Bothaville]",muniCode:"FS185"},{provinceName:"Free State",muniName:"FS191 - Setsoto [Senekal]",muniCode:"FS191"},{provinceName:"Free State",muniName:"FS192 - Dihlabeng [Bethlehem]",muniCode:"FS192"},{provinceName:"Free State",muniName:"FS193 - Nketoana [Reitz]",muniCode:"FS193"},{provinceName:"Free State",muniName:"FS194 - Maluti a Phofung [Qwa-Qwa]",muniCode:"FS194"},{provinceName:"Free State",muniName:"FS195 - Phumelela [Vrede]",muniCode:"FS195"},{provinceName:"Free State",muniName:"FS196 - Mantsopa [Ladybrand]",muniCode:"FS196"},{provinceName:"Free State",muniName:"FS201 - Moqhaka [Kroonstad]",muniCode:"FS201"},{provinceName:"Free State",muniName:"FS203 - Ngwathe [Parys]",muniCode:"FS203"},{provinceName:"Free State",muniName:"FS204 - Metsimaholo [Sasolburg]",muniCode:"FS204"},{provinceName:"Free State",muniName:"FS205 - Mafube [Frankfort]",muniCode:"FS205"},{provinceName:"Free State",muniName:"MAN - Mangaung [Bloemfontein]",muniCode:"MAN"}]},{name:"Eastern Cape",abbreviation:"EC",munis:[{provinceName:"Eastern Cape",muniName:"BUF - Buffalo City [East London]",muniCode:"BUF"},{provinceName:"Eastern Cape",muniName:"EC101 - Camdeboo [Graaff-Reinet]",muniCode:"EC101"},{provinceName:"Eastern Cape",muniName:"EC102 - Blue Crane Route [Somerset East]",muniCode:"EC102"},{provinceName:"Eastern Cape",muniName:"EC103 - Ikwezi [Jansenville]",muniCode:"EC103"},{provinceName:"Eastern Cape",muniName:"EC104 - Makana [Grahamstown]",muniCode:"EC104"},{provinceName:"Eastern Cape",muniName:"EC105 - Ndlambe [Port Alfred]",muniCode:"EC105"},{provinceName:"Eastern Cape",muniName:"EC106 - Sundays River Valley [Kirkwood]",muniCode:"EC106"},{provinceName:"Eastern Cape",muniName:"EC107 - Baviaans [Willowmore]",muniCode:"EC107"},{provinceName:"Eastern Cape",muniName:"EC108 - Kouga [Humansdorp]",muniCode:"EC108"},{provinceName:"Eastern Cape",muniName:"EC109 - Kou-Kamma [Kareedouw]",muniCode:"EC109"},{provinceName:"Eastern Cape",muniName:"EC121 - Mbhashe [Idutywa]",muniCode:"EC121"},{provinceName:"Eastern Cape",muniName:"EC122 - Mnquma [Butterworth]",muniCode:"EC122"},{provinceName:"Eastern Cape",muniName:"EC123 - Great Kei [Komga]",muniCode:"EC123"},{provinceName:"Eastern Cape",muniName:"EC124 - Amahlathi [Stutterheim]",muniCode:"EC124"},{provinceName:"Eastern Cape",muniName:"EC126 - Ngqushwa [Peddie]",muniCode:"EC126"},{provinceName:"Eastern Cape",muniName:"EC127 - Nkonkobe [Alice]",muniCode:"EC127"},{provinceName:"Eastern Cape",muniName:"EC128 - Nxuba [Adelaide]",muniCode:"EC128"},{provinceName:"Eastern Cape",muniName:"EC131 - Inxuba Yethemba [Cradock]",muniCode:"EC131"},{provinceName:"Eastern Cape",muniName:"EC132 - Tsolwana [Tarkastad]",muniCode:"EC132"},{provinceName:"Eastern Cape",muniName:"EC133 - Inkwanca [Molteno]",muniCode:"EC133"},{provinceName:"Eastern Cape",muniName:"EC134 - Lukhanji [Queenstown]",muniCode:"EC134"},{provinceName:"Eastern Cape",muniName:"EC135 - Intsika Yethu [Cofimvaba]",muniCode:"EC135"},{provinceName:"Eastern Cape",muniName:"EC136 - Emalahleni [Lady Frere]",muniCode:"EC136"},{provinceName:"Eastern Cape",muniName:"EC137 - Engcobo [Engcobo]",muniCode:"EC137"},{provinceName:"Eastern Cape",muniName:"EC138 - Sakhisizwe [Elliot]",muniCode:"EC138"},{provinceName:"Eastern Cape",muniName:"EC141 - Elundini [Mount Fletcher]",muniCode:"EC141"},{provinceName:"Eastern Cape",muniName:"EC142 - Senqu [Lady Grey]",muniCode:"EC142"},{provinceName:"Eastern Cape",muniName:"EC143 - Maletswai [Aliwal North]",muniCode:"EC143"},{provinceName:"Eastern Cape",muniName:"EC144 - Gariep [Burgersdorp]",muniCode:"EC144"},{provinceName:"Eastern Cape",muniName:"EC153 - Ngquza Hill [Flagstaff]",muniCode:"EC153"},{provinceName:"Eastern Cape",muniName:"EC154 - Port St Johns [Port St Johns]",muniCode:"EC154"},{provinceName:"Eastern Cape",muniName:"EC155 - Nyandeni [Libode]",muniCode:"EC155"},{provinceName:"Eastern Cape",muniName:"EC156 - Mhlontlo [Qumbu]",muniCode:"EC156"},{provinceName:"Eastern Cape",muniName:"EC157 - King Sabata Dalindyebo [Umtata]",muniCode:"EC157"},{provinceName:"Eastern Cape",muniName:"EC441 - Matatiele [Matatiele]",muniCode:"EC441"},{provinceName:"Eastern Cape",muniName:"EC442 - Umzimvubu [Mount Ayliff]",muniCode:"EC442"},{provinceName:"Eastern Cape",muniName:"EC443 - Mbizana [Bizana]",muniCode:"EC443"},{provinceName:"Eastern Cape",muniName:"EC444 - Ntabankulu [Ntabankulu]",muniCode:"EC444"},{provinceName:"Eastern Cape",muniName:"NMA - Nelson Mandela Bay [Port Elizabeth]",muniCode:"NMA"}]},{name:"Northern Cape",abbreviation:"NC",munis:[{provinceName:"Northern Cape",muniName:"NC061 - RICHTERSVELD [Port Nolloth]",muniCode:"NC061"},{provinceName:"Northern Cape",muniName:"NC062 - NAMA KHOI [Springbok]",muniCode:"NC062"},{provinceName:"Northern Cape",muniName:"NC064 - KAMIESBERG [Garies]",muniCode:"NC064"},{provinceName:"Northern Cape",muniName:"NC065 - HANTAM [Calvinia]",muniCode:"NC065"},{provinceName:"Northern Cape",muniName:"NC066 - KAROO HOOGLAND [Fraserburg]",muniCode:"NC066"},{provinceName:"Northern Cape",muniName:"NC067 - KH\xe2I-MA [Pofadder]",muniCode:"NC067"},{provinceName:"Northern Cape",muniName:"NC071 - UBUNTU [Victoria West]",muniCode:"NC071"},{provinceName:"Northern Cape",muniName:"NC072 - UMSOBOMVU [Colesberg]",muniCode:"NC072"},{provinceName:"Northern Cape",muniName:"NC073 - EMTHANJENI [De Aar]",muniCode:"NC073"},{provinceName:"Northern Cape",muniName:"NC074 - KAREEBERG [Carnarvon]",muniCode:"NC074"},{provinceName:"Northern Cape",muniName:"NC075 - RENOSTERBERG [Phillipstown]",muniCode:"NC075"},{provinceName:"Northern Cape",muniName:"NC076 - THEMBELIHLE [Hopetown]",muniCode:"NC076"},{provinceName:"Northern Cape",muniName:"NC077 - SIYATHEMBA [Prieska]",muniCode:"NC077"},{provinceName:"Northern Cape",muniName:"NC078 - SIYANCUMA [Griekwastad]",muniCode:"NC078"},{provinceName:"Northern Cape",muniName:"NC081 - MIER [Mier]",muniCode:"NC081"},{provinceName:"Northern Cape",muniName:"NC082 - KAI !GARIB [Keimoes]",muniCode:"NC082"},{provinceName:"Northern Cape",muniName:"NC083 - KHARA HAIS [Upington]",muniCode:"NC083"},{provinceName:"Northern Cape",muniName:"NC084 - !KHEIS [Groblershoop]",muniCode:"NC084"},{provinceName:"Northern Cape",muniName:"NC085 - TSANTSABANE [Postmasburg]",muniCode:"NC085"},{provinceName:"Northern Cape",muniName:"NC086 - KGATELOPELE [Danielskuil]",muniCode:"NC086"},{provinceName:"Northern Cape",muniName:"NC091 - Sol Plaatje [Kimberley]",muniCode:"NC091"},{provinceName:"Northern Cape",muniName:"NC092 - Dikgatlong [Barkley West]",muniCode:"NC092"},{provinceName:"Northern Cape",muniName:"NC093 - Magareng [Warrenton]",muniCode:"NC093"},{provinceName:"Northern Cape",muniName:"NC094 - Phokwane [Hartswater]",muniCode:"NC094"},{provinceName:"Northern Cape",muniName:"NC451 - Joe Morolong [Kgalagadi]",muniCode:"NC451"},{provinceName:"Northern Cape",muniName:"NC452 - GA-SEGONYANA [Kuruman]",muniCode:"NC452"},{provinceName:"Northern Cape",muniName:"NC453 - GAMAGARA [Kathu]",muniCode:"NC453"}]},{name:"Western Cape",abbreviation:"WC",munis:[{provinceName:"Western Cape",muniName:"CPT - City of Cape Town [Cape Town]",muniCode:"CPT"},{provinceName:"Western Cape",muniName:"WC011 - Matzikama [Vredendal]",muniCode:"WC011"},{provinceName:"Western Cape",muniName:"WC012 - Cederberg [Citrusdal]",muniCode:"WC012"},{provinceName:"Western Cape",muniName:"WC013 - Bergrivier [Velddrif]",muniCode:"WC013"},{provinceName:"Western Cape",muniName:"WC014 - Saldanha Bay [West Coast Peninsula]",muniCode:"WC014"},{provinceName:"Western Cape",muniName:"WC015 - Swartland [Malmesbury]",muniCode:"WC015"},{provinceName:"Western Cape",muniName:"WC022 - Witzenberg [Ceres]",muniCode:"WC022"},{provinceName:"Western Cape",muniName:"WC023 - Drakenstein [Paarl]",muniCode:"WC023"},{provinceName:"Western Cape",muniName:"WC024 - Stellenbosch [Stellenbosch]",muniCode:"WC024"},{provinceName:"Western Cape",muniName:"WC025 - Breede Valley [Worcester]",muniCode:"WC025"},{provinceName:"Western Cape",muniName:"WC026 - Langeberg [Robertson]",muniCode:"WC026"},{provinceName:"Western Cape",muniName:"WC031 - Theewaterskloof [Caledon]",muniCode:"WC031"},{provinceName:"Western Cape",muniName:"WC032 - Overstrand [Greater Hermanus]",muniCode:"WC032"},{provinceName:"Western Cape",muniName:"WC033 - Cape Agulhas [Bredasdorp]",muniCode:"WC033"},{provinceName:"Western Cape",muniName:"WC034 - Swellendam [Barrydale/Swellendam ]",muniCode:"WC034"},{provinceName:"Western Cape",muniName:"WC041 - Kannaland [Ladismith]",muniCode:"WC041"},{provinceName:"Western Cape",muniName:"WC042 - Hessequa [Heidelberg/Riversdale]",muniCode:"WC042"},{provinceName:"Western Cape",muniName:"WC043 - Mossel Bay [Mossel Bay]",muniCode:"WC043"},{provinceName:"Western Cape",muniName:"WC044 - George [George]",muniCode:"WC044"},{provinceName:"Western Cape",muniName:"WC045 - Oudtshoorn [Oudtshoorn]",muniCode:"WC045"},{provinceName:"Western Cape",muniName:"WC047 - Bitou [Greater Plettenberg Bay]",muniCode:"WC047"},{provinceName:"Western Cape",muniName:"WC048 - Knysna [Knysna]",muniCode:"WC048"},{provinceName:"Western Cape",muniName:"WC051 - Laingsburg [Laingsburg]",muniCode:"WC051"},{provinceName:"Western Cape",muniName:"WC052 - Prince Albert [Prins Albert]",muniCode:"WC052"},{provinceName:"Western Cape",muniName:"WC053 - Beaufort West [Beaufort West]",muniCode:"WC053"}]}]}function oe(){return[{provinceName:"Eastern Cape",muniName:"BUF - Buffalo City [East London]",muniCode:"BUF"},{provinceName:"Western Cape",muniName:"CPT - City of Cape Town [Cape Town]",muniCode:"CPT"},{provinceName:"Gauteng",muniName:"JHB - City of Johannesburg [Johannesburg]",muniCode:"JHB"},{provinceName:"Gauteng",muniName:"TSH - Tshwane Metro [Pretoria]",muniCode:"TSH"},{provinceName:"Gauteng",muniName:"EKU - Ekurhuleni [East Rand]",muniCode:"EKU"},{provinceName:"KwaZulu-Natal",muniName:"ETH - eThekwini [Durban Metro]",muniCode:"ETH"},{provinceName:"Free State",muniName:"MAN - Mangaung [Bloemfontein]",muniCode:"MAN"},{provinceName:"Eastern Cape",muniName:"NMA - Nelson Mandela Bay [Port Elizabeth]",muniCode:"NMA"}]}t.d(n,"a",function(){return te}),t.d(n,"d",function(){return ae}),t.d(n,"f",function(){return re}),t.d(n,"c",function(){return oe}),t.d(n,"g",function(){return v}),t.d(n,"h",function(){return f}),t.d(n,"m",function(){return A}),t.d(n,"l",function(){return k}),t.d(n,"b",function(){return T}),t.d(n,"j",function(){return V}),t.d(n,"k",function(){return W}),t.d(n,"i",function(){return H}),t.d(n,"e",function(){return Q})},"./src/components/BarChart/barchart.css":function(e,n,t){e.exports={"ELVIZ_chart-title":"barchart_ELVIZ_chart-title__3M_9O","ELVIZ_percentage-label":"barchart_ELVIZ_percentage-label__3tHup",ELVIZ_tooltip:"barchart_ELVIZ_tooltip__2StQf"}},"./src/components/BarChart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__308Fb"}},"./src/components/BarchartWithNavMap/barchartMap.css":function(e,n,t){e.exports={ELVIZ_tooltip:"barchartMap_ELVIZ_tooltip__tgFvS"}},"./src/components/BarchartWithNavMap/barchartMapEmbed.css":function(e,n,t){e.exports={embedcode:"barchartMapEmbed_embedcode__3VTUm"}},"./src/components/Map/map.css":function(e,n,t){e.exports={"ELVIZ_map-title":"map_ELVIZ_map-title__1LqU5","ELVIZ_loading-spinner":"map_ELVIZ_loading-spinner__17q6Q",ELVIZ_tooltip:"map_ELVIZ_tooltip__3-o8A","ELVIZ_stylesheet-tv":"map_ELVIZ_stylesheet-tv__3H0zq",legend:"map_legend__2ss0P"}},"./src/components/Map/mapEmbed.css":function(e,n,t){e.exports={embedcode:"mapEmbed_embedcode__1_eoN"}},"./src/components/NavBar/navbar.css":function(e,n,t){e.exports={"ELVIZ_menu-widget":"navbar_ELVIZ_menu-widget__1KFQA"}},"./src/components/ProgVotesCountPiechart/piechart.css":function(e,n,t){e.exports={"ELVIZ_chart-title":"piechart_ELVIZ_chart-title__2XNYt"}},"./src/components/ProgVotesCountPiechart/piechartEmbed.css":function(e,n,t){e.exports={embedcode:"piechartEmbed_embedcode__20lGd"}},"./src/components/QuickResultsWidget/quickResultsWidget.css":function(e,n,t){e.exports={ELVIZ_tooltip:"quickResultsWidget_ELVIZ_tooltip__1UVX7","ELVIZ_component-transition-menu":"quickResultsWidget_ELVIZ_component-transition-menu__1faC8",label:"quickResultsWidget_label__2Dt1H",active:"quickResultsWidget_active__izwwa","ELVIZ_stylesheet-tv":"quickResultsWidget_ELVIZ_stylesheet-tv__284h0","main-left-part":"quickResultsWidget_main-left-part__2PFdy","main-right-part":"quickResultsWidget_main-right-part__3aSBj","barchart-container":"quickResultsWidget_barchart-container__32mow",ELVIZ_row:"quickResultsWidget_ELVIZ_row__1QzTz","ELVIZ_col-md-2":"quickResultsWidget_ELVIZ_col-md-2__3beRX","ELVIZ_col-md-4":"quickResultsWidget_ELVIZ_col-md-4__3OaTN","ELVIZ_col-md-8":"quickResultsWidget_ELVIZ_col-md-8__1_krp"}},"./src/components/QuickResultsWidget/quickResultsWidgetEmbed.css":function(e,n,t){e.exports={embedcode:"quickResultsWidgetEmbed_embedcode__3Fxlt"}},"./src/components/RaceForSeatBarchart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__tUXug"}},"./src/components/SeatCompBarchart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__29vdd","multievent-container":"barchartEmbed_multievent-container__1G-dC"}},"./src/components/SeatHorseShoeChart/horseshoe.css":function(e,n,t){e.exports={"ELVIZ_chart-title":"horseshoe_ELVIZ_chart-title__3KEZl",ELVIZ_tooltip:"horseshoe_ELVIZ_tooltip__2bLlY"}},"./src/components/SeatHorseShoeChart/horseshoeEmbed.css":function(e,n,t){e.exports={embedcode:"horseshoeEmbed_embedcode__1B28Y"}},"./src/components/SpoiltBarchart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__UywT3"}},"./src/components/TVSeatCompBarchart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__YEDVC","multievent-container":"barchartEmbed_multievent-container__UuClr"}},"./src/components/TVSeatSwingBarchart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__3Hovq","multievent-container":"barchartEmbed_multievent-container__2y7nI"}},"./src/components/TVVoteCompBarchart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__1Gecz","multievent-container":"barchartEmbed_multievent-container__3zT9b","multiparties-container":"barchartEmbed_multiparties-container__21kbR"}},"./src/components/TVVoteSwingBarchart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__3iHSi","multievent-container":"barchartEmbed_multievent-container__3dDi0","multiparties-container":"barchartEmbed_multiparties-container__2Ln06"}},"./src/components/TurnoutBarchart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__Z83k_"}},"./src/components/TurnoutMap/mapEmbed.css":function(e,n,t){e.exports={embedcode:"mapEmbed_embedcode__Gu08M"}},"./src/components/VoteCompBarchart/barchartEmbed.css":function(e,n,t){e.exports={embedcode:"barchartEmbed_embedcode__2m2Vo","multievent-container":"barchartEmbed_multievent-container__3U1YR"}},"./src/components/embed.js":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t.n(a),o=t("./src/config/index.js"),i=t("./node_modules/bootstrap/dist/css/bootstrap.min.css"),l=t.n(i),c=t("./src/components/BarChart/barchartEmbed.css"),u=t.n(c),s=t("./src/events/index.js"),m=t("./src/api/index.js"),p=t("./src/utils/index.js");function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f="function"===typeof Symbol&&"symbol"===d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}function v(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,n){return!n||"object"!==f(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,n){return(h=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var N=Object(m.f)();function g(e){return l.a[e]||u.a[e]||e}var E=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=y(this,b(n).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",numParties:5,electionEvents:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&h(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescription,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,p=t.numParties,d=t.electionEvents,f=N.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Votes Bar Chart Embed Script Generation "),r.a.createElement("div",{className:g("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:g("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:g("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:g("form-control"),value:i,onChange:this.onEventDescriptionChange.bind(this)},d.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:g("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:g("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},-1!=i.toLowerCase().indexOf("national")&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=l&&r.a.createElement("div",{className:g("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:g("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),N&&N.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:g("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:g("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),f&&f.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:g("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:g("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:g("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:g("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})}})),r.a.createElement("div",{className:g("form-group")},r.a.createElement("label",null,"Number Of Parties"),r.a.createElement("input",{type:"number",className:g("form-control"),placeholder:"5",value:p,onChange:function(n){return e.setState({numParties:n.target.value})}})),r.a.createElement("div",{className:g("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:g("btn")+" "+g("btn-primary")},"Preview")),r.a.createElement("div",{className:g("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:g("btn")+" "+g("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:g("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:g("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescription: "').concat(i,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            numParties: "').concat(p,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&v(t.prototype,i),l&&v(t,l),n}(),C=E;E.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var P=t("./src/components/RaceForSeatBarchart/barchartEmbed.css"),S=t.n(P);function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return(_="function"===typeof Symbol&&"symbol"===w(Symbol.iterator)?function(e){return w(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":w(e)})(e)}function O(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function k(e,n){return!n||"object"!==_(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,n){return(T=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var I=Object(m.f)();function x(e){return l.a[e]||S.a[e]||e}var j=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=k(this,A(n).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",numParties:5,electionEvents:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&T(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescription,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,p=t.numParties,d=t.electionEvents,f=I.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seat Bar Chart Embed Script Generation "),r.a.createElement("div",{className:x("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:x("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:x("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:x("form-control"),value:i,onChange:this.onEventDescriptionChange.bind(this)},d.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:x("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:x("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},-1!=i.toLowerCase().indexOf("national")&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"))),"national"!=l&&r.a.createElement("div",{className:x("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:x("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),I&&I.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:x("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:x("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),f&&f.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:x("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:x("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})},disabled:"national"==l})),"municipality-vd"==l&&r.a.createElement("div",{className:x("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:x("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})},disabled:"national"==l})),r.a.createElement("div",{className:x("form-group")},r.a.createElement("label",null,"Number Of Parties"),r.a.createElement("input",{type:"number",className:x("form-control"),placeholder:"5",value:p,onChange:function(n){return e.setState({numParties:n.target.value})}})),r.a.createElement("div",{className:x("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:x("btn")+" "+x("btn-primary")},"Preview")),r.a.createElement("div",{className:x("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:x("btn")+" "+x("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:x("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:x("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescription: "').concat(i,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            numParties: "').concat(p,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&O(t.prototype,i),l&&O(t,l),n}(),R=j;j.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var G=t("./src/components/SpoiltBarchart/barchartEmbed.css"),M=t.n(G);function D(e){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e){return(L="function"===typeof Symbol&&"symbol"===D(Symbol.iterator)?function(e){return D(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":D(e)})(e)}function V(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function W(e,n){return!n||"object"!==L(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,n){return(K=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Z=Object(m.f)();function U(e){return l.a[e]||M.a[e]||e}var F=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=W(this,B(n).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",electionEvents:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&K(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescription,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,p=t.electionEvents,d=Z.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seat Bar Chart Embed Script Generation "),r.a.createElement("div",{className:U("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:U("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:U("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:U("form-control"),value:i,onChange:this.onEventDescriptionChange.bind(this)},p.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:U("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:U("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},-1!=i.toLowerCase().indexOf("national")&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=l&&r.a.createElement("div",{className:U("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:U("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Z&&Z.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:U("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:U("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),d&&d.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:U("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:U("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})},disabled:"national"==l})),"municipality-vd"==l&&r.a.createElement("div",{className:U("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:U("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})},disabled:"national"==l})),r.a.createElement("div",{className:U("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:U("btn")+" "+U("btn-primary")},"Preview")),r.a.createElement("div",{className:U("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:U("btn")+" "+U("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:U("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:U("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showSpoiltBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescription: "').concat(i,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&V(t.prototype,i),l&&V(t,l),n}(),H=F;F.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var z=t("./src/components/Map/mapEmbed.css"),q=t.n(z);function X(e){return(X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e){return(Y="function"===typeof Symbol&&"symbol"===X(Symbol.iterator)?function(e){return X(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":X(e)})(e)}function J(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Q(e,n){return!n||"object"!==Y(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,n){return(ee=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var ne=Object(m.f)();function te(e){return l.a[e]||q.a[e]||e}var ae=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Q(this,$(n).call(this,e))).state={elementId:"root",disableNavigation:!1,regionType:"province",provinceName:"Western Cape",muniName:""},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ee(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.MAP_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.disableNavigation,l=t.regionType,c=t.provinceName,u=t.muniName,s=ne.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Map Embed Script Generation "),r.a.createElement("div",{className:te("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:te("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:te("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:te("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"))),"national"!=l&&r.a.createElement("div",{className:te("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:te("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),ne&&ne.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:te("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:te("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),s&&s.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),r.a.createElement("div",{className:te("form-check")},r.a.createElement("label",{className:te("form-check-label")},r.a.createElement("input",{type:"checkbox",className:te("form-check-input"),value:i,onChange:function(n){return e.setState({disableNavigation:n.target.checked})}}),"\xa0\xa0Disable Navigation")),r.a.createElement("div",{className:te("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:te("btn")+" "+te("btn-primary")},"Preview")),r.a.createElement("div",{className:te("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:te("btn")+" "+te("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:te("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:te("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>\n                        showMap(document.getElementById("').concat(a,'"),{\n                            disableNavigation: ').concat(i,',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&J(t.prototype,i),l&&J(t,l),n}(),re=ae;ae.__docgenInfo={description:"",methods:[{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"MapEmbed"};var oe=t("./src/components/TurnoutMap/mapEmbed.css"),ie=t.n(oe);function le(e){return(le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e){return(ce="function"===typeof Symbol&&"symbol"===le(Symbol.iterator)?function(e){return le(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":le(e)})(e)}function ue(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function se(e,n){return!n||"object"!==ce(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,n){return(pe=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var de=Object(m.f)();function fe(e){return l.a[e]||ie.a[e]||e}var ve=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=se(this,me(n).call(this,e))).state={elementId:"root",disableNavigation:!1,eventDescription:"2014 National Election",regionType:"province",provinceName:"Western Cape",muniName:"",electionEvents:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&pe(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.MAP_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.disableNavigation,l=t.eventDescription,c=t.regionType,u=t.provinceName,s=t.muniName,m=t.electionEvents,p=de.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Map Embed Script Generation "),r.a.createElement("div",{className:fe("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:fe("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:fe("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:fe("form-control"),value:l,onChange:this.onEventDescriptionChange.bind(this)},m.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:fe("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:fe("form-control"),value:c,onChange:this.onRegionTypeChange.bind(this)},-1!=l.toLowerCase().indexOf("national")&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"))),"national"!=c&&r.a.createElement("div",{className:fe("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:fe("form-control"),value:u,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),de&&de.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==c&&r.a.createElement("div",{className:fe("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:fe("form-control"),value:s,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),p&&p.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),r.a.createElement("div",{className:fe("form-check")},r.a.createElement("label",{className:fe("form-check-label")},r.a.createElement("input",{type:"checkbox",className:fe("form-check-input"),value:i,onChange:function(n){return e.setState({disableNavigation:n.target.checked})}}),"\xa0\xa0Disable Navigation")),r.a.createElement("div",{className:fe("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:fe("btn")+" "+fe("btn-primary")},"Preview")),r.a.createElement("div",{className:fe("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:fe("btn")+" "+fe("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:fe("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:fe("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>\n                        showTurnoutMap(document.getElementById("').concat(a,'"),{\n                            disableNavigation: ').concat(i,',\n                            regionType: "').concat(c,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&ue(t.prototype,i),l&&ue(t,l),n}(),ye=ve;ve.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"MapEmbed"};var be=t("./src/components/TurnoutBarchart/barchartEmbed.css"),he=t.n(be);function Ne(e){return(Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e){return(ge="function"===typeof Symbol&&"symbol"===Ne(Symbol.iterator)?function(e){return Ne(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ne(e)})(e)}function Ee(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ce(e,n){return!n||"object"!==ge(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,n){return(Se=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var we=Object(m.f)();function _e(e){return l.a[e]||he.a[e]||e}var Oe=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Ce(this,Pe(n).call(this,e))).state={elementId:"root",eventType:"national",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",electionEvents:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Se(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventType,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,p=(t.electionEvents,we.filter(function(e){return e.name==c})[0]);return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seat Bar Chart Embed Script Generation "),r.a.createElement("div",{className:_e("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:_e("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:_e("form-group")},r.a.createElement("label",null,"Event Type"),r.a.createElement("select",{className:_e("form-control"),value:i,onChange:function(n){return e.setState({eventType:n.target.value})}},r.a.createElement("option",{value:"national"},"National"),r.a.createElement("option",{value:"provincial"},"Provincial"))),r.a.createElement("div",{className:_e("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:_e("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:""},"Select ..."),"national"==i&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=l&&r.a.createElement("div",{className:_e("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:_e("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),we&&we.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:_e("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:_e("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),p&&p.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:_e("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:_e("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})},disabled:"national"==l})),"municipality-vd"==l&&r.a.createElement("div",{className:_e("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:_e("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})},disabled:"national"==l})),r.a.createElement("div",{className:_e("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:_e("btn")+" "+_e("btn-primary")},"Preview")),r.a.createElement("div",{className:_e("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:_e("btn")+" "+_e("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:_e("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:_e("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showTurnoutBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventType: "').concat(i,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Ee(t.prototype,i),l&&Ee(t,l),n}(),ke=Oe;Oe.__docgenInfo={description:"",methods:[{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var Ae=t("./src/components/BarchartWithNavMap/barchartMapEmbed.css"),Te=t.n(Ae);function Ie(e){return(Ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e){return(xe="function"===typeof Symbol&&"symbol"===Ie(Symbol.iterator)?function(e){return Ie(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ie(e)})(e)}function je(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,n){return(Ge=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var De=Object(m.f)();function Le(e){return l.a[e]||Te.a[e]||e}var Ve=function(e){function n(e){var t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),t=function(e,n){return!n||"object"!==xe(n)&&"function"!==typeof n?Me(e):n}(this,Re(n).call(this,e));var a=Me(Me(t));return t.state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",numParties:5,electionEvents:[]},Object(m.a)().then(function(e){var n=e.data.allEvents.map(function(e){return e.description});a.setState({electionEvents:n})}).catch(function(e){return console.error(e)}),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ge(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state),Object(p.u)(s.a.MAP_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_SUPERWIDGET_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescription,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,p=t.numParties,d=t.electionEvents,f=De.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Map + Barchart Embed Script Generation "),r.a.createElement("div",{className:Le("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Le("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",null,"Way to customize size and position of Bar Chart and Map.",r.a.createElement("br",null),"For bar chart, you can use .barchart-container",r.a.createElement("div",{className:Le("embedcode")},".barchart-container {\n                        width: 1000px;\n                        height: 300px;\n                        margin-left: 100px;\n                    }"),"For Map, you can use .map-container",r.a.createElement("div",{className:Le("embedcode")},".map-container {\n                        width: 1000px;\n                        height: 300px;\n                        margin-left: 100px;\n                    }")),r.a.createElement("div",{className:Le("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:Le("form-control"),value:i,onChange:this.onEventDescriptionChange.bind(this)},d.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:Le("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Le("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},-1!=i.toLowerCase().indexOf("national")&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"))),"national"!=l&&r.a.createElement("div",{className:Le("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Le("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),De&&De.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:Le("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Le("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),f&&f.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),r.a.createElement("div",{className:Le("form-group")},r.a.createElement("label",null,"Number Of Parties"),r.a.createElement("input",{type:"number",className:Le("form-control"),placeholder:"5",value:p,onChange:function(n){return e.setState({numParties:n.target.value})}})),r.a.createElement("div",{className:Le("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Le("btn")+" "+Le("btn-primary")},"Preview")),r.a.createElement("div",{className:Le("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Le("btn")+" "+Le("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Le("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Le("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showBarchartWithNavMap(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescription: "').concat(i,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            numParties: "').concat(p,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&je(t.prototype,i),l&&je(t,l),n}(),We=Ve;Ve.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartWithNavMapEmbed"};var Be=t("./src/components/QuickResultsWidget/quickResultsWidgetEmbed.css"),Ke=t.n(Be);function Ze(e){return(Ze="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e){return(Ue="function"===typeof Symbol&&"symbol"===Ze(Symbol.iterator)?function(e){return Ze(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ze(e)})(e)}function Fe(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function He(e,n){return!n||"object"!==Ue(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,n){return(qe=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Xe=Object(m.f)();function Ye(e){return l.a[e]||Ke.a[e]||e}var Je=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=He(this,ze(n).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"none",numParties:5,electionEvents:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&qe(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.QUICK_RESULTS_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_SUPERWIDGET_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.stylesheetFor,l=t.eventDescription,c=t.regionType,u=t.provinceName,s=t.muniName,m=t.muniCode,p=t.iecId,d=t.numParties,f=t.electionEvents,v=Xe.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Quick Results Embed Script Generation "),r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Ye("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:Ye("form-control"),value:i,onChange:function(n){return e.setState({stylesheetFor:n.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:Ye("form-control"),value:l,onChange:this.onEventDescriptionChange.bind(this)},f.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Ye("form-control"),value:c,onChange:this.onRegionTypeChange.bind(this)},-1!=l.toLowerCase().indexOf("national")&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"))),"national"!=c&&r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Ye("form-control"),value:u,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Xe&&Xe.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==c&&r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Ye("form-control"),value:s,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),v&&v.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("label",null,"Number Of Parties for Bar Chart"),r.a.createElement("input",{type:"number",className:Ye("form-control"),placeholder:"5",value:d,onChange:function(n){return e.setState({numParties:n.target.value})}})),r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Ye("btn")+" "+Ye("btn-primary")},"Preview")),r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Ye("btn")+" "+Ye("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Ye("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Ye("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showQuickResultsWidget(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescription: "').concat(l,'",\n                            regionType: "').concat(c,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'",\n                            numParties: "').concat(d,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Fe(t.prototype,i),l&&Fe(t,l),n}(),Qe=Je;Je.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"QuickResultsWidgetEmbed"};var $e=t("./src/components/ProgVotesCountPiechart/piechartEmbed.css"),en=t.n($e);function nn(e){return(nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e){return(tn="function"===typeof Symbol&&"symbol"===nn(Symbol.iterator)?function(e){return nn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":nn(e)})(e)}function an(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function rn(e,n){return!n||"object"!==tn(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,n){return(ln=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var cn=Object(m.f)();function un(e){return l.a[e]||en.a[e]||e}var sn=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=rn(this,on(n).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",electionEvents:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ln(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescription,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,p=t.electionEvents,d=cn.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Progress on Votes Count Embed Script Generation "),r.a.createElement("div",{className:un("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:un("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:un("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:un("form-control"),value:i,onChange:this.onEventDescriptionChange.bind(this)},p.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:un("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:un("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},-1!=i.toLowerCase().indexOf("national")&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=l&&r.a.createElement("div",{className:un("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:un("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),cn&&cn.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:un("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:un("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),d&&d.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:un("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:un("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})},disabled:"national"==l})),"municipality-vd"==l&&r.a.createElement("div",{className:un("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:un("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})},disabled:"national"==l})),r.a.createElement("div",{className:un("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:un("btn")+" "+un("btn-primary")},"Preview")),r.a.createElement("div",{className:un("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:un("btn")+" "+un("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:un("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:un("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescription: "').concat(i,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&an(t.prototype,i),l&&an(t,l),n}(),mn=sn;sn.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"PieChartEmbed"};var pn=t("./src/components/SeatCompBarchart/barchartEmbed.css"),dn=t.n(pn);function fn(e){return(fn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e){return(vn="function"===typeof Symbol&&"symbol"===fn(Symbol.iterator)?function(e){return fn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":fn(e)})(e)}function yn(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function bn(e,n){return!n||"object"!==vn(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,n){return(Nn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var gn=Object(m.f)();function En(e){return l.a[e]||dn.a[e]||e}var Cn=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=bn(this,hn(n).call(this,e))).state={elementId:"root",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbr:"ANC",electionEvents:[],allParties:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Nn(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)}),Object(m.d)().then(function(n){var t=n.data.allParties.edges.map(function(e){return e.node});t=t.filter(function(e,n,t){return n===t.findIndex(function(n){return n.abbreviation===e.abbreviation})}),e.setState({allParties:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);this.setState({eventDescriptions:t})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescriptions,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,p=t.partyAbbr,d=t.electionEvents,f=t.allParties,v=gn.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seats Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:En("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:En("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:En("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:En("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),r.a.createElement("div",{className:En("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{multiple:!0,className:En("form-control")+" "+En("multievent-container"),value:i,onChange:this.onEventDescriptionChange.bind(this)},d.filter(function(e){return-1!=e.toLowerCase().indexOf("national"==l?"national":"provincial")}).map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),"national"!=l&&r.a.createElement("div",{className:En("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:En("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),gn&&gn.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:En("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:En("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),v&&v.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:En("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:En("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:En("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:En("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})}})),r.a.createElement("div",{className:En("form-group")},r.a.createElement("label",null,"Party Name"),r.a.createElement("select",{className:En("form-control"),value:p,onChange:function(n){return e.setState({partyAbbr:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),f&&f.map(function(e){return r.a.createElement("option",{key:e.name,value:e.abbreviation},e.name)}))),r.a.createElement("div",{className:En("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:En("btn")+" "+En("btn-primary")},"Preview")),r.a.createElement("div",{className:En("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:En("btn")+" "+En("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:En("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:En("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showRaceForVotesCompBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescriptions: ').concat(JSON.stringify(i),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            partyAbbr: "').concat(p,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&yn(t.prototype,i),l&&yn(t,l),n}(),Pn=Cn;Cn.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var Sn=t("./src/components/SeatHorseShoeChart/horseshoeEmbed.css"),wn=t.n(Sn);function _n(e){return(_n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e){return(On="function"===typeof Symbol&&"symbol"===_n(Symbol.iterator)?function(e){return _n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_n(e)})(e)}function kn(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function An(e,n){return!n||"object"!==On(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e,n){return(In=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var xn=Object(m.f)();function jn(e){return l.a[e]||wn.a[e]||e}var Rn=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=An(this,Tn(n).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",electionEvents:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&In(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value,regionType:"national"})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescription,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,p=t.electionEvents,d=xn.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seat Bar Chart Embed Script Generation "),r.a.createElement("div",{className:jn("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:jn("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:jn("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:jn("form-control"),value:i,onChange:this.onEventDescriptionChange.bind(this)},p.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),"national"!=l&&r.a.createElement("div",{className:jn("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:jn("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),xn&&xn.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:jn("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:jn("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),d&&d.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:jn("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:jn("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})},disabled:"national"==l})),"municipality-vd"==l&&r.a.createElement("div",{className:jn("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:jn("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})},disabled:"national"==l})),r.a.createElement("div",{className:jn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:jn("btn")+" "+jn("btn-primary")},"Preview")),r.a.createElement("div",{className:jn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:jn("btn")+" "+jn("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:jn("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:jn("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescription: "').concat(i,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&kn(t.prototype,i),l&&kn(t,l),n}(),Gn=Rn;Rn.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"HorseShoeEmbed"};var Mn=t("./src/components/VoteCompBarchart/barchartEmbed.css"),Dn=t.n(Mn);function Ln(e){return(Ln="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e){return(Vn="function"===typeof Symbol&&"symbol"===Ln(Symbol.iterator)?function(e){return Ln(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ln(e)})(e)}function Wn(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Bn(e,n){return!n||"object"!==Vn(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,n){return(Zn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Un=Object(m.f)();function Fn(e){return l.a[e]||Dn.a[e]||e}var Hn=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Bn(this,Kn(n).call(this,e))).state={elementId:"root",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbr:"ANC",electionEvents:[],allParties:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Zn(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)}),Object(m.d)().then(function(n){var t=n.data.allParties.edges.map(function(e){return e.node});t=t.filter(function(e,n,t){return n===t.findIndex(function(n){return n.abbreviation===e.abbreviation})}),e.setState({allParties:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);this.setState({eventDescriptions:t})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescriptions,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,p=t.partyAbbr,d=t.electionEvents,f=t.allParties,v=Un.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Votes Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Fn("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{multiple:!0,className:Fn("form-control")+" "+Fn("multievent-container"),value:i,onChange:this.onEventDescriptionChange.bind(this)},d.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Fn("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=l&&r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Fn("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Un&&Un.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Fn("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),v&&v.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:Fn("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:Fn("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})}})),r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("label",null,"Party Name"),r.a.createElement("select",{className:Fn("form-control"),value:p,onChange:function(n){return e.setState({partyAbbr:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),f&&f.map(function(e){return r.a.createElement("option",{key:e.name,value:e.abbreviation},e.name)}))),r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Fn("btn")+" "+Fn("btn-primary")},"Preview")),r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Fn("btn")+" "+Fn("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Fn("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Fn("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showRaceForVotesCompBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescriptions: ').concat(JSON.stringify(i),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            partyAbbr: "').concat(p,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Wn(t.prototype,i),l&&Wn(t,l),n}(),zn=Hn;Hn.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var qn=t("./src/components/TVSeatCompBarchart/barchartEmbed.css"),Xn=t.n(qn);function Yn(e){return(Yn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e){return(Jn="function"===typeof Symbol&&"symbol"===Yn(Symbol.iterator)?function(e){return Yn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Yn(e)})(e)}function Qn(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $n(e,n){return!n||"object"!==Jn(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,n){return(nt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var tt=Object(m.f)();function at(e){return l.a[e]||Xn.a[e]||e}var rt=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=$n(this,et(n).call(this,e))).state={elementId:"root",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbrs:["ANC","DA","EFF"],electionEvents:[],allParties:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&nt(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)}),Object(m.d)().then(function(n){var t=n.data.allParties.edges.map(function(e){return e.node});t=t.filter(function(e,n,t){return n===t.findIndex(function(n){return n.abbreviation===e.abbreviation})}),e.setState({allParties:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);t=t.slice(0,4),this.setState({eventDescriptions:t})}},{key:"onPartyAbbrsChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);t=t.slice(0,4),this.setState({partyAbbrs:t})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescriptions,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,d=t.partyAbbrs,f=(t.partyAbbr,t.electionEvents),v=t.allParties,y=tt.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seats Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:at("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:at("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"))),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Events "),r.a.createElement("select",{multiple:!0,className:at("form-control")+" "+at("multievent-container"),value:i,onChange:this.onEventDescriptionChange.bind(this)},f.filter(function(e){return-1!=e.toLowerCase().indexOf("national"==l?"national":"provincial")}).map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),"national"!=l&&r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:at("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),tt&&tt.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:at("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),y&&y.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:at("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:at("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})}})),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Party Names"),r.a.createElement("select",{multiple:!0,className:at("form-control")+" "+at("multiparties-container"),value:d,onChange:this.onPartyAbbrsChange.bind(this)},v&&v.map(function(e){return r.a.createElement("option",{key:e.abbreviation,value:e.abbreviation},Object(p.c)(e.name))}))),r.a.createElement("div",{className:at("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:at("btn")+" "+at("btn-primary")},"Preview")),r.a.createElement("div",{className:at("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:at("btn")+" "+at("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:at("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showTVSeatCompBarchart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescriptions: ').concat(JSON.stringify(i),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            partyAbbrs: "').concat(d,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Qn(t.prototype,i),l&&Qn(t,l),n}(),ot=rt;rt.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPartyAbbrsChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var it=t("./src/components/TVSeatSwingBarchart/barchartEmbed.css"),lt=t.n(it);function ct(e){return(ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e){return(ut="function"===typeof Symbol&&"symbol"===ct(Symbol.iterator)?function(e){return ct(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ct(e)})(e)}function st(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mt(e,n){return!n||"object"!==ut(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,n){return(dt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var ft=Object(m.f)();function vt(e){return l.a[e]||lt.a[e]||e}var yt=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=mt(this,pt(n).call(this,e))).state={elementId:"root",eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbrs:["ANC","DA","EFF"],electionEvents:[],allParties:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&dt(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)}),Object(m.d)().then(function(n){var t=n.data.allParties.edges.map(function(e){return e.node});t=t.filter(function(e,n,t){return n===t.findIndex(function(n){return n.abbreviation===e.abbreviation})}),e.setState({allParties:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);t=t.slice(0,2),this.setState({eventDescriptions:t})}},{key:"onPartyAbbrsChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);t=t.slice(0,4),this.setState({partyAbbrs:t})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescriptions,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,d=t.partyAbbrs,f=(t.partyAbbr,t.electionEvents),v=t.allParties,y=ft.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seats Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:vt("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:vt("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"))),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Events "),r.a.createElement("select",{multiple:!0,className:vt("form-control")+" "+vt("multievent-container"),value:i,onChange:this.onEventDescriptionChange.bind(this)},f.filter(function(e){return-1!=e.toLowerCase().indexOf("national"==l?"national":"provincial")}).map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),"national"!=l&&r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:vt("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),ft&&ft.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:vt("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),y&&y.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:vt("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:vt("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})}})),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Party Names"),r.a.createElement("select",{multiple:!0,className:vt("form-control")+" "+vt("multiparties-container"),value:d,onChange:this.onPartyAbbrsChange.bind(this)},v&&v.map(function(e){return r.a.createElement("option",{key:e.abbreviation,value:e.abbreviation},Object(p.c)(e.name))}))),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:vt("btn")+" "+vt("btn-primary")},"Preview")),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:vt("btn")+" "+vt("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:vt("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showTVSeatSwingBarchart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescriptions: ').concat(JSON.stringify(i),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            partyAbbrs: "').concat(d,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&st(t.prototype,i),l&&st(t,l),n}(),bt=yt;yt.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPartyAbbrsChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var ht=t("./src/components/TVVoteCompBarchart/barchartEmbed.css"),Nt=t.n(ht);function gt(e){return(gt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e){return(Et="function"===typeof Symbol&&"symbol"===gt(Symbol.iterator)?function(e){return gt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":gt(e)})(e)}function Ct(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Pt(e,n){return!n||"object"!==Et(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,n){return(wt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var _t=Object(m.f)();function Ot(e){return l.a[e]||Nt.a[e]||e}var kt=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Pt(this,St(n).call(this,e))).state={elementId:"root",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbrs:["ANC","DA","EFF"],electionEvents:[],allParties:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&wt(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)}),Object(m.d)().then(function(n){var t=n.data.allParties.edges.map(function(e){return e.node});t=t.filter(function(e,n,t){return n===t.findIndex(function(n){return n.abbreviation===e.abbreviation})}),e.setState({allParties:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);t=t.slice(0,4),this.setState({eventDescriptions:t})}},{key:"onPartyAbbrsChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);t=t.slice(0,4),this.setState({partyAbbrs:t})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescriptions,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,d=t.partyAbbrs,f=t.electionEvents,v=t.allParties,y=_t.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Votes Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Ot("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Ot("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Events "),r.a.createElement("select",{multiple:!0,className:Ot("form-control")+" "+Ot("multievent-container"),value:i,onChange:this.onEventDescriptionChange.bind(this)},f.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),"national"!=l&&r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Ot("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),_t&&_t.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Ot("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),y&&y.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:Ot("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:Ot("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})}})),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Party Names"),r.a.createElement("select",{multiple:!0,className:Ot("form-control")+" "+Ot("multiparties-container"),value:d,onChange:this.onPartyAbbrsChange.bind(this)},v&&v.map(function(e){return r.a.createElement("option",{key:e.abbreviation,value:e.abbreviation},Object(p.c)(e.name))}))),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Ot("btn")+" "+Ot("btn-primary")},"Preview")),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Ot("btn")+" "+Ot("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Ot("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showTVVoteCompBarchart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescriptions: ').concat(JSON.stringify(i),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            partyAbbrs: "').concat(d,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Ct(t.prototype,i),l&&Ct(t,l),n}(),At=kt;kt.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPartyAbbrsChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var Tt=t("./src/components/TVVoteSwingBarchart/barchartEmbed.css"),It=t.n(Tt);function xt(e){return(xt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e){return(jt="function"===typeof Symbol&&"symbol"===xt(Symbol.iterator)?function(e){return xt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":xt(e)})(e)}function Rt(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gt(e,n){return!n||"object"!==jt(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,n){return(Dt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Lt=Object(m.f)();function Vt(e){return l.a[e]||It.a[e]||e}var Wt=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Gt(this,Mt(n).call(this,e))).state={elementId:"root",eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbrs:["ANC","DA","EFF"],electionEvents:[],allParties:[]},t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Dt(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;Object(m.a)().then(function(n){var t=n.data.allEvents.map(function(e){return e.description});e.setState({electionEvents:t})}).catch(function(e){return console.error(e)}),Object(m.d)().then(function(n){var t=n.data.allParties.edges.map(function(e){return e.node});t=t.filter(function(e,n,t){return n===t.findIndex(function(n){return n.abbreviation===e.abbreviation})}),e.setState({allParties:t})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);t=t.slice(0,2),this.setState({eventDescriptions:t})}},{key:"onPartyAbbrsChange",value:function(e){for(var n=e.target.options,t=[],a=0,r=n.length;a<r;a++)n[a].selected&&t.push(n[a].value);t=t.slice(0,4),this.setState({partyAbbrs:t})}},{key:"onRegionTypeChange",value:function(e){var n={regionType:e.target.value};this.setState(n)}},{key:"onPreview",value:function(e){Object(p.u)(s.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(p.u)(s.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,n=o.a.DOMAIN,t=this.state,a=t.elementId,i=t.eventDescriptions,l=t.regionType,c=t.provinceName,u=t.muniName,s=t.muniCode,m=t.iecId,d=t.partyAbbrs,f=t.electionEvents,v=t.allParties,y=Lt.filter(function(e){return e.name==c})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Votes Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Vt("form-control"),placeholder:"chart-container",onChange:function(n){return e.setState({elementId:n.target.value})}})),r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Vt("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("label",null,"Events "),r.a.createElement("select",{multiple:!0,className:Vt("form-control")+" "+Vt("multievent-container"),value:i,onChange:this.onEventDescriptionChange.bind(this)},f.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),"national"!=l&&r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Vt("form-control"),value:c,onChange:function(n){return e.setState({provinceName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Lt&&Lt.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Vt("form-control"),value:u,onChange:function(n){return e.setState({muniName:n.target.value})}},r.a.createElement("option",{value:""},"Select ..."),y&&y.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:Vt("form-control"),placeholder:"CPT",value:s,onChange:function(n){return e.setState({muniCode:n.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:Vt("form-control"),placeholder:"97860055",value:m,onChange:function(n){return e.setState({iecId:n.target.value})}})),r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("label",null,"Party Names"),r.a.createElement("select",{multiple:!0,className:Vt("form-control")+" "+Vt("multiparties-container"),value:d,onChange:this.onPartyAbbrsChange.bind(this)},v&&v.map(function(e){return r.a.createElement("option",{key:e.abbreviation,value:e.abbreviation},Object(p.c)(e.name))}))),r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Vt("btn")+" "+Vt("btn-primary")},"Preview")),r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Vt("btn")+" "+Vt("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Vt("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Vt("embedcode")},r.a.createElement("span",null,'<script src="'.concat(n,'/embed/embed.js"><\/script>\n                    <script>showTVVoteSwingBarchart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            eventDescriptions: ').concat(JSON.stringify(i),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(c,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            partyAbbrs: "').concat(d,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Rt(t.prototype,i),l&&Rt(t,l),n}(),Bt=Wt;Wt.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPartyAbbrsChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"},t.d(n,"a",function(){return C}),t.d(n,"f",function(){return R}),t.d(n,"i",function(){return H}),t.d(n,"c",function(){return re}),t.d(n,"o",function(){return ye}),t.d(n,"n",function(){return ke}),t.d(n,"b",function(){return We}),t.d(n,"e",function(){return Qe}),t.d(n,"d",function(){return mn}),t.d(n,"g",function(){return Pn}),t.d(n,"h",function(){return Gn}),t.d(n,"p",function(){return zn}),t.d(n,"j",function(){return ot}),t.d(n,"k",function(){return bt}),t.d(n,"l",function(){return At}),t.d(n,"m",function(){return Bt})},"./src/components/index.js":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t.n(a),o=t("./node_modules/d3/index.js"),i=t("./src/components/BarChart/barchart.css"),l=t.n(i),c=t("./src/utils/index.js"),u=(t("./node_modules/os-browserify/browser.js"),t("./src/config/index.js"));function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return(m="function"===typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}function p(e,n,t,a,r){r||(r={}),r.chartType||(r.chartType="Race For Votes"),r.yAxisLabel||(r.yAxisLabel="PERCENTAGE VOTES"),r.yValue||(r.yValue=function(e){return e.percOfVotes}),r.yValueFormat||(r.yValueFormat=function(e){return e+"%"}),e.selectAll("svg").remove();var i=["blue","yellow","red"],l=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 770 220").classed("svg-content",!0),s=Object(c.a)(a),p=o.m().rangeRound([70,700]),d=o.n().rangeRound([200,20]);l.append("g").attr("transform","translate(20,110)").append("text").attr("class",a(u.a.CSS_PREFIX+"percentage-label")).attr("transform","rotate(-90)").text(r.yAxisLabel).attr("text-anchor","middle"),l.append("g").attr("class","x axis").attr("transform","translate(0,200)"),l.append("g").attr("class","y axis").attr("transform","translate(70, 0)");var f=l.append("g").attr("class",a("bar-container")),v=l.append("g").attr("class",a("bartext-container")),y=l.append("g").attr("transform","translate(350,100)").append("text").attr("text-anchor","middle");this.draw=function(e,n){if(e){y.text("");var t={};if(r.noXaxisByParty);else{var u=n;u&&u.data.allParties.edges&&u.data.allParties.edges.forEach(function(e){t[e.node.name]=e.node.colour})}p.domain(e.map(function(e){return e.name}));var b=[0,100];r.dynamicYAxisFromValues&&(b[1]=o.j(e,function(e){return r.yValue(e)})+1),d.domain(b),l.select(".x.axis").transition().duration(300).call(o.b(p)),l.select(".y.axis").transition().duration(300).call(o.c(d).ticks(6).tickFormat(function(e){return r.yValueFormat(e)}));var h=f.selectAll(".".concat(a("bar"))).data(e);h.exit().transition().duration(300).attr("y",function(e){return d(0)}).attr("height",0).style("fill-opacity",1e-6).remove(),h.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",function(e){return p(e.name)+p.bandwidth()/20}).attr("width",9*p.bandwidth()/10).attr("fill",function(e,n){return g(e,n)}).on("mousemove",function(e,n){o.o(this).attr("opacity",.8),s.transition().duration(200).style("opacity",.9),s.html(function(e,n){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(r.yValue(e)):Object(c.c)(e.partyInfo.name)+" : "+r.yValueFormat(r.yValue(e))}(e)).style("left",o.d.pageX+"px").style("top",o.d.pageY-28+"px")}).on("mouseout",function(e){o.o(this).attr("opacity",1),s.transition().duration(200).style("opacity",0)}).attr("y",function(e){return d(0)}).attr("height",0),f.selectAll(".".concat(a("bar"))).data(e).attr("fill",function(e,n){return g(e,n)}).transition().duration(300).attr("y",function(e){return d(Number(r.yValue(e)))}).attr("height",function(e){return 200-d(Number(r.yValue(e)))});var N=v.selectAll(".".concat(a("bartext"))).data(e);N.exit().transition().duration(300).attr("y",function(e){return d(0)-5}).style("fill-opacity",1e-6).remove(),N.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return p(e.name)+p.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","12px").attr("y",function(e){return d(0)-5}),v.selectAll(".".concat(a("bartext"))).data(e).text(function(e){return r.yValueFormat(r.yValue(e))}).transition().duration(300).attr("y",function(e){return d(Number(r.yValue(e)))-5})}else y.text("chart data is not available");function g(e,a){return r.noXaxisByParty?"object"==m(n)?n[e.name]:"function"==typeof n?n(e,a):n:function(e,n){return t[e.split("/")[0]]||i[n%i.length]}(e.partyInfo.name,a)}},this.destroy=function(){l.remove()}}var d=t("./node_modules/save-svg-as-png/lib/saveSvgAsPng.js"),f=t.n(d),v=t("./src/events/index.js"),y=t("./src/api/index.js");function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return(h="function"===typeof Symbol&&"symbol"===b(Symbol.iterator)?function(e){return b(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":b(e)})(e)}function N(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,n){return(E=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var P,S;Object(y.f)();function w(e){return l.a[e]||e}var _=0,O="Race For Votes",k=function(e){function n(e){var t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),t=function(e,n){return!n||"object"!==h(n)&&"function"!==typeof n?C(e):n}(this,g(n).call(this,e));C(C(t));return t.state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.numParties&&(t.state.numParties=e.numParties),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(C(C(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(C(C(t))),t.handleRegionChange=t.handleRegionChange.bind(C(C(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(C(C(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&E(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),_=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){P&&(P.destroy(),P=null),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(_)}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-barchart(".concat(Object(c.h)(this.state),").png"))}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;P&&P.destroy(),P=new p(this.getContainer(),null,null,w),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:w("barchart")},r.a.createElement("div",{className:w(u.a.CSS_PREFIX+"chart-title")},O," (",Object(c.h)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:w("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.m)(n)];if(!S){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];S=S||a[1],t.drawGraph(e,n,r,S)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.t)(t,n);console.log("before parse chartData",t),console.log("parsed chartData",r),P||(P=new p(e,null,null,w)),P.draw(r,a)}}])&&N(t.prototype,i),l&&N(t,l),n}(),A=k;function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return(I="function"===typeof Symbol&&"symbol"===T(Symbol.iterator)?function(e){return T(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":T(e)})(e)}function x(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,n){return(R=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}k.__docgenInfo={description:"",methods:[{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var M,D,L={chartType:"Race For Seats",yAxisLabel:"Seats Count",dynamicYAxisFromValues:!0,yValue:function(e){return e.seats},yValueFormat:function(e){return e}};function V(e){return l.a[e]||e}var W=0,B=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=j(n).call(this,e))||"object"!==I(r)&&"function"!==typeof r?G(a):r).state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.numParties&&(t.state.numParties=e.numParties),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(G(G(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(G(G(t))),t.handleRegionChange=t.handleRegionChange.bind(G(G(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(G(G(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&R(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),W=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){M=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(W)}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-barchart(".concat(Object(c.f)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;M&&M.destroy(),M=new p(this.getContainer(),null,null,V,L),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:"barchart"},r.a.createElement("div",{className:V(u.a.CSS_PREFIX+"chart-title")},L.chartType," (",Object(c.f)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:V("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.g)(n)];if(!D){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];D=D||a[1],t.drawGraph(e,n,r,D)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.n)(t,n);M||(M=new p(e,null,null,V,L)),M.draw(r,a)}}])&&x(t.prototype,i),l&&x(t,l),n}(),K=B;function Z(e){return(Z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e){return(U="function"===typeof Symbol&&"symbol"===Z(Symbol.iterator)?function(e){return Z(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Z(e)})(e)}function F(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,n){return(z=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}B.__docgenInfo={description:"",methods:[{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var X,Y={chartType:"Spoilt vs Valid Votes",yAxisLabel:"PERCENTAGE VOTES",noXaxisByParty:!0,yValue:function(e){return e.percent},yValueFormat:function(e){return e+"%"}};function J(e){return l.a[e]||e}var Q=0,$=function(e){function n(e){var t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),t=function(e,n){return!n||"object"!==U(n)&&"function"!==typeof n?q(e):n}(this,H(n).call(this,e));q(q(t));return t.state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.numParties&&(t.state.numParties=e.numParties),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(q(q(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(q(q(t))),t.handleRegionChange=t.handleRegionChange.bind(q(q(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(q(q(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&z(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),Q=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){X=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(Q)}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"spoilt-barchart(".concat(Object(c.h)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;X&&X.destroy(),X=new p(this.getContainer(),null,null,J,Y),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:"barchart"},r.a.createElement("div",{className:J(u.a.CSS_PREFIX+"chart-title")},Y.chartType," (",Object(c.h)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:J("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.i)(n)];Promise.all(a).then(function(a){var r=a[0];t.drawGraph(e,n,r)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t){var a=Object(c.o)(t,n);X||(X=new p(e,null,null,J,Y)),X.draw(a,{Valid:"rgb(0,255,0)",Spoilt:"rgb(255,0,0)"})}}])&&F(t.prototype,i),l&&F(t,l),n}(),ee=$;$.__docgenInfo={description:"",methods:[{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null}],returns:null}],displayName:"BarChart"};var ne=t("./node_modules/topojson-client/index.js"),te=t("./node_modules/canvg/dist/browser/canvg.min.js"),ae=t.n(te),re=t("./node_modules/polylabel/index.js"),oe=t.n(re),ie=t("./src/components/Map/map.css"),le=t.n(ie),ce=t("./node_modules/react-loading/dist/react-loading.js"),ue=t.n(ce);function se(e){return(se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e){return(me="function"===typeof Symbol&&"symbol"===se(Symbol.iterator)?function(e){return se(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":se(e)})(e)}function pe(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,n){return(fe=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ye,be="#9c9c9c";function he(e){return le.a[e]||e}Object(y.f)();var Ne=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=de(n).call(this,e))||"object"!==me(r)&&"function"!==typeof r?ve(a):r).state={disableNavigation:!1,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web"},e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),e.disableNavigation&&(t.state.disableNavigation=e.disableNavigation),e.stylesheetFor&&(t.state.stylesheetFor=e.stylesheetFor),t.exportAsPNGUri=t.exportAsPNGUri.bind(ve(ve(t))),t.exportAsPNG=t.exportAsPNG.bind(ve(ve(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(ve(ve(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&fe(e,n)}(n,a["Component"]),t=n,(i=[{key:"draw",value:function(e,n){this.drawGraph(e,n)}},{key:"componentDidMount",value:function(){this.draw(this.getContainer(),this.state),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentWillUnmount",value:function(){this.getContainer().selectAll("svg").remove(),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){var a=950,r=890,o=document.createElement("canvas");o.setAttribute("width",a),o.setAttribute("height",r),ae()(o,e.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:a,scaleHeight:r}),n(o.toDataURL("image/png;base64").split(",")[1])})}},{key:"exportAsPNG",value:function(e){var n=950,t=890,a=document.createElement("canvas");a.setAttribute("width",n),a.setAttribute("height",t),ae()(a,this.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:n,scaleHeight:t});var r,o=a,i="race-for-votes-map(".concat(Object(c.h)(this.state),").png"),l=document.createElement("a");l.download=i,l.href=o.toDataURL("image/png;base64"),document.createEvent?((r=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l.dispatchEvent(r)):l.fireEvent&&l.fireEvent("onclick")}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"getLoadingSpinner",value:function(){return o.o(this.refs.loading)}},{key:"render",value:function(){var e=this.state,n=(e.disableNavigation,e.stylesheetFor);return r.a.createElement("div",{className:he("map-widget")+" "+he("".concat(u.a.CSS_PREFIX,"stylesheet-").concat(n))},r.a.createElement("div",{className:he(u.a.CSS_PREFIX+"map-title")},Object(c.h)(this.state)),r.a.createElement("div",{ref:"vizcontainer",className:he("map")}),r.a.createElement("div",{className:he(u.a.CSS_PREFIX+"loading-spinner"),ref:"loading"},r.a.createElement(ue.a,{type:"spin",color:"#777",height:100,width:100})))}},{key:"drawGraph",value:function(e,n){var t=this,a=u.a.DOMAIN+"/mapdata/"+Object(c.g)(t.state);t.getLoadingSpinner().style("display","block").transition().duration(200).style("opacity",1);var r=Object(c.a)(he),i=800;e.selectAll("svg").remove();var l=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 950 "+(i+90)).classed("svg-content",!0),s=[o.i(a),Object(y.b)(n)];if(!ye){var m=Object(y.d)();s.push(m)}Promise.all(s).then(function(e){var u=e[0],s=Object(c.j)(e[1],n);ye=ye||e[2];var m,p={},d={};function f(e){return e&&p[e.split("/")[0]]||be}function y(e,n){var a,r=t.state.regionType;if("national"===r){var o=e.properties.SPROVINCE;a=s[o]}else if("province"===r){var i=Object(c.d)(e.properties);a=s[i]}else if("municipality"===r){var l=Object(c.e)(e.properties);a=s[l]}else{l=Object(c.e)(e.properties);a=s[l]}return a}if(ye&&ye.data.allParties.edges&&ye.data.allParties.edges.forEach(function(e){p[e.node.name]=e.node.colour,d[e.node.name]=e.node.abbreviation}),-1!==a.indexOf(".topojson")){if(!u.objects[t.state.muniCode])return;u=ne.a(u,u.objects[t.state.muniCode])}m=u.features;var b=o.f().fitSize([900,i],u),h=o.g().projection(b);l.selectAll(".".concat(he("region"))).data(m).enter().append("path").attr("class",he("region")).attr("stroke","#eeeeee").attr("fill",function(e,n){return f(y(e))}).attr("id",function(e,n){return"region-".concat(n)}).attr("d",h);var N=[],g=[];m.forEach(function(e,n){var t=y(e);-1==N.indexOf(t)?(N.push(t),g.push(1)):g[N.indexOf(t)]++}),N.sort(function(e,n){return g[N.indexOf(n)]-g[N.indexOf(e)]});var E=l.selectAll(".".concat(he("legend"))).data(N).enter().append("g").attr("class",he("legend")).attr("transform",function(e,n){return"translate("+function(e){return[e%5*150,i+10+40*parseInt(e/5)]}(n)+")"});if(E.append("rect").attr("width",20).attr("height",20).attr("x",0).attr("y",0).attr("fill",function(e,n){return f(e)}),E.append("text").attr("x",30).attr("y",16).text(function(e){return d[e]}),-1==t.state.regionType.indexOf("municipality")&&l.selectAll(".place-label").data(m).enter().append("text").attr("class","place-label").attr("font-size","12px").attr("transform",function(e){var n,t;return"Polygon"===e.geometry.type?(n=oe()(e.geometry.coordinates),(t=b(n))[1]-=12,"translate("+t+")"):(n=oe()(e.geometry.coordinates[0]),(t=b(n))[1]-=5,"translate("+t+")")}).attr("dy",".35em").style("text-anchor","middle").text(function(e){return Object(c.i)(e.properties,t.state)}),-1==t.state.regionType.indexOf("municipality")&&Object(c.b)(),l.selectAll(".eventLayer").data(m).enter().append("path").attr("d",h).attr("class","eventLayer").attr("id",function(e,n){return"eventLayer-".concat(n)}).attr("fill","transparent").on("mouseover",function(e,n){o.o("#region-".concat(n)).attr("stroke-width",3).style("fill-opacity",.8)}).on("mousemove",function(e,n){"municipality"!==t.state.regionType&&(r.transition().duration(200).style("opacity",1),r.html(Object(c.i)(e.properties,t.state)+" : "+y(e)).style("left",o.d.pageX+"px").style("top",o.d.pageY-28+"px"))}).on("mouseout",function(e,n){o.o("#region-".concat(n)).attr("stroke-width",1).style("fill-opacity",1),"municipality"!==t.state.regionType&&r.transition().duration(200).style("opacity",0)}).on("click",function(e,n){if(!t.state.disableNavigation){r.transition().duration(200).style("opacity",0);var a=t.state.regionType;if("national"===a)o={regionType:"province",provinceName:e.properties.SPROVINCE},Object(c.u)(v.a.REGION_CHANGE,o),t.setState(o);else if("province"===a)o={regionType:"municipality",provinceName:t.state.provinceName,muniName:e.properties.smunicipal,muniCode:Object(c.d)(e.properties)},Object(c.u)(v.a.REGION_CHANGE,o),t.setState(o);else{var o={regionType:"municipality-vd",provinceName:t.state.provinceName,muniName:t.state.muniName,muniCode:t.state.muniCode,iecId:Object(c.e)(e.properties)};Object(c.u)(v.a.REGION_CHANGE,o),t.setState(o)}}}),!t.state.disableNavigation){var C=function(e,n,t){t&&e.append("span").html(">"),e.append("span").style("height","30px").style("color","black").style("cursor","default").html(n)},P=function(e,n,a,r){r&&e.append("span").html(">"),e.append("a").style("height","30px").style("color","black").style("cursor","pointer").html(n).on("click",function(){!function(e){var n;(n={regionType:t.state.regionType,provinceName:t.state.provinceName,muniName:t.state.muniName,muniImuniCodeD:t.state.muniCode,iecId:t.state.iecId}).regionType=e,Object(c.u)(v.a.REGION_CHANGE,n),t.setState(n)}(a)})},S=l.append("foreignObject").attr("x",400).attr("y",10).attr("width",500).attr("height",30).attr("class","map-controls").append("xhtml:div").style("float","right"),w=t.state.regionType;"national"==w?C(S,"South Africa",!1):(P(S,"South Africa","national",!1),"province"==w?C(S,t.state.provinceName,!0):(P(S,t.state.provinceName,"province",!0),"municipality"==w?C(S,t.state.muniCode,!0):(P(S,t.state.muniCode,"municipality",!0),C(S,t.state.iecId,!0))))}t.getLoadingSpinner().style("display","none")}).catch(function(e){console.error(e),t.getLoadingSpinner().style("display","none");var n=t.state.regionType,a={regionType:t.state.regionType,provinceName:t.state.provinceName,muniName:t.state.muniName,muniImuniCodeD:t.state.muniCode,iecId:t.state.iecId};"province"===n?a.regionType="national":"municipality"===n?a.regionType="province":"municipality-vd"===n&&(a.regionType="municipality"),Object(c.u)(v.a.REGION_CHANGE,a),t.setState(a),setTimeout(function(){alert("This region has been disestablished")},300)})}}])&&pe(t.prototype,i),l&&pe(t,l),n}(),ge=Ne;function Ee(e){return(Ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e){return(Ce="function"===typeof Symbol&&"symbol"===Ee(Symbol.iterator)?function(e){return Ee(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ee(e)})(e)}function Pe(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,n){return(we=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ne.__docgenInfo={description:"",methods:[{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"getLoadingSpinner",docblock:null,modifiers:[],params:[],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null}],displayName:"Map"};function Oe(e){return le.a[e]||e}Object(y.f)();var ke=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=Se(n).call(this,e))||"object"!==Ce(r)&&"function"!==typeof r?_e(a):r).state={disableNavigation:!1,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web"},e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),e.disableNavigation&&(t.state.disableNavigation=e.disableNavigation),e.stylesheetFor&&(t.state.stylesheetFor=e.stylesheetFor),t.exportAsPNGUri=t.exportAsPNGUri.bind(_e(_e(t))),t.exportAsPNG=t.exportAsPNG.bind(_e(_e(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(_e(_e(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&we(e,n)}(n,a["Component"]),t=n,(i=[{key:"draw",value:function(e,n){this.drawGraph(e,n)}},{key:"componentDidMount",value:function(){this.draw(this.getContainer(),this.state),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentWillUnmount",value:function(){this.getContainer().selectAll("svg").remove(),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){console.log("componentDidUpdate",this.state),this.draw(this.getContainer(),this.state)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){var a=950,r=890,o=document.createElement("canvas");o.setAttribute("width",a),o.setAttribute("height",r),ae()(o,e.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:a,scaleHeight:r}),n(o.toDataURL("image/png;base64").split(",")[1])})}},{key:"exportAsPNG",value:function(e){var n=950,t=890,a=document.createElement("canvas");a.setAttribute("width",n),a.setAttribute("height",t),ae()(a,this.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:n,scaleHeight:t});var r,o=a,i="turnout-map(".concat(Object(c.h)(this.state),").png"),l=document.createElement("a");l.download=i,l.href=o.toDataURL("image/png;base64"),document.createEvent?((r=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l.dispatchEvent(r)):l.fireEvent&&l.fireEvent("onclick")}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"getLoadingSpinner",value:function(){return o.o(this.refs.loading)}},{key:"render",value:function(){var e=this.state,n=(e.disableNavigation,e.stylesheetFor);return r.a.createElement("div",{className:Oe("map-container")+" "+Oe("".concat(u.a.CSS_PREFIX,"stylesheet-").concat(n))},r.a.createElement("div",{className:Oe(u.a.CSS_PREFIX+"map-title")},Object(c.h)(this.state)),r.a.createElement("div",{ref:"vizcontainer",className:Oe("map")}),r.a.createElement("div",{className:Oe(u.a.CSS_PREFIX+"loading-spinner"),ref:"loading"},r.a.createElement(ue.a,{type:"spin",color:"#777",height:100,width:100})))}},{key:"drawGraph",value:function(e,n){var t=this,a=u.a.DOMAIN+"/mapdata/"+Object(c.g)(t.state);t.getLoadingSpinner().style("display","block").transition().duration(200).style("opacity",1);var r=Object(c.a)(Oe),i=800;e.selectAll("svg").remove();var l=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 950 "+(i+90)).classed("svg-content",!0),s=[o.i(a),Object(y.j)(n)];Promise.all(s).then(function(e){var u,s=e[0],m=Object(c.p)(e[1],n);function p(e){return e>65?"#39711D":e>=60?"#458923":e>=55?"#53B025":e>=50?"#4BDC02":e>=45?"#7CE547":e>=40?"#93E968":e>=35?"#A6ED83":e>=30?"#C5F3AF":"#D3F6C3"}function d(e,n){var a,r=t.state.regionType;if("national"===r){var o=e.properties.SPROVINCE;a=m[o]}else if("province"===r){var i=Object(c.d)(e.properties);a=m[i]}else if("municipality"===r){var l=Object(c.e)(e.properties);a=m[l]}else{l=Object(c.e)(e.properties);a=m[l]}return a}if(-1!==a.indexOf(".topojson")){if(!s.objects[t.state.muniCode])return;s=ne.a(s,s.objects[t.state.muniCode])}u=s.features;var f=o.f().fitSize([900,i],s),y=o.g().projection(f);l.selectAll(".".concat(Oe("region"))).data(u).enter().append("path").attr("class",Oe("region")).attr("stroke","#eeeeee").attr("fill",function(e,n){return p(d(e))}).attr("id",function(e,n){return"region-".concat(n)}).attr("d",y);var b=l.selectAll(".".concat(Oe("legend"))).data([{text:"More than 65%",turnout:66},{text:"60% - 65%",turnout:60},{text:"55% - 60%",turnout:55},{text:"50% - 55%",turnout:50},{text:"45% - 50%",turnout:45},{text:"40% - 45%",turnout:40},{text:"35% - 40%",turnout:35},{text:"30% - 35%",turnout:30},{text:"Less than 30%",turnout:15}]).enter().append("g").attr("class",Oe("legend")).attr("transform",function(e,n){return"translate("+function(e){return[e%5*170,i+10+40*parseInt(e/5)]}(n)+")"});if(b.append("rect").attr("width",20).attr("height",20).attr("x",0).attr("y",0).attr("fill",function(e){return p(e.turnout)}),b.append("text").attr("x",30).attr("y",16).text(function(e){return e.text}),"municipality"!==t.state.regionType&&l.selectAll(".place-label").data(u).enter().append("text").attr("class","place-label").attr("font-size","12px").attr("transform",function(e){var n,t;return"Polygon"===e.geometry.type?(n=oe()(e.geometry.coordinates),(t=f(n))[1]-=12,"translate("+t+")"):(n=oe()(e.geometry.coordinates[0]),(t=f(n))[1]-=5,"translate("+t+")")}).attr("dy",".35em").style("text-anchor","middle").text(function(e){return Object(c.i)(e.properties,t.state)}),"municipality"!==t.state.regionType&&Object(c.b)(),l.selectAll(".eventLayer").data(u).enter().append("path").attr("d",y).attr("class","eventLayer").attr("id",function(e,n){return"eventLayer-".concat(n)}).attr("fill","transparent").on("mouseover",function(e,n){o.o("#region-".concat(n)).attr("stroke-width",3).style("fill-opacity",.8)}).on("mousemove",function(e,n){r.transition().duration(200).style("opacity",1),r.html(Object(c.i)(e.properties,t.state)+" : "+d(e)+"%").style("left",o.d.pageX+"px").style("top",o.d.pageY-28+"px")}).on("mouseout",function(e,n){o.o("#region-".concat(n)).attr("stroke-width",1).style("fill-opacity",1),"municipality"!==t.state.regionType&&r.transition().duration(200).style("opacity",0)}).on("click",function(e,n){if(!t.state.disableNavigation){r.transition().duration(200).style("opacity",0);var a=t.state.regionType;if("national"===a)o={regionType:"province",provinceName:e.properties.SPROVINCE},Object(c.u)(v.a.REGION_CHANGE,o),t.setState(o);else if("province"===a)o={regionType:"municipality",provinceName:t.state.provinceName,muniName:e.properties.smunicipal,muniCode:Object(c.d)(e.properties)},Object(c.u)(v.a.REGION_CHANGE,o),t.setState(o);else{var o={regionType:"municipality-vd",provinceName:t.state.provinceName,muniName:t.state.muniName,muniCode:t.state.muniCode,iecId:Object(c.e)(e.properties)};Object(c.u)(v.a.REGION_CHANGE,o),t.setState(o)}}}),!t.state.disableNavigation){var h=function(e,n,t){t&&e.append("span").html(">"),e.append("span").style("height","30px").style("color","black").style("cursor","default").html(n)},N=function(e,n,a,r){r&&e.append("span").html(">"),e.append("a").style("height","30px").style("color","black").style("cursor","pointer").html(n).on("click",function(){!function(e){var n;(n={regionType:t.state.regionType,provinceName:t.state.provinceName,muniName:t.state.muniName,muniImuniCodeD:t.state.muniCode,iecId:t.state.iecId}).regionType=e,Object(c.u)(v.a.REGION_CHANGE,n),t.setState(n)}(a)})},g=l.append("foreignObject").attr("x",400).attr("y",10).attr("width",500).attr("height",30).attr("class","map-controls").append("xhtml:div").style("float","right"),E=t.state.regionType;"national"==E?h(g,"South Africa",!1):(N(g,"South Africa","national",!1),"province"==E?h(g,t.state.provinceName,!0):(N(g,t.state.provinceName,"province",!0),"municipality"==E?h(g,t.state.muniCode,!0):(N(g,t.state.muniCode,"municipality",!0),h(g,t.state.iecId,!0))))}t.getLoadingSpinner().style("display","none")}).catch(function(e){console.error(e),t.getLoadingSpinner().style("display","none");var n=t.state.regionType,a={regionType:t.state.regionType,provinceName:t.state.provinceName,muniName:t.state.muniName,muniImuniCodeD:t.state.muniCode,iecId:t.state.iecId};"province"===n?a.regionType="national":"municipality"===n?a.regionType="province":"municipality-vd"===n&&(a.regionType="municipality"),Object(c.u)(v.a.REGION_CHANGE,a),t.setState(a),setTimeout(function(){alert("This region has been disestablished")},300)})}}])&&Pe(t.prototype,i),l&&Pe(t,l),n}(),Ae=ke;function Te(e){return(Te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e){return(Ie="function"===typeof Symbol&&"symbol"===Te(Symbol.iterator)?function(e){return Te(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Te(e)})(e)}function xe(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,n){return(Re=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}ke.__docgenInfo={description:"",methods:[{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"getLoadingSpinner",docblock:null,modifiers:[],params:[],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null}],displayName:"Map"};var Me,De={chartType:"Turnout Barchart",yAxisLabel:"PERCENTAGE",noXaxisByParty:!0,yValue:function(e){return e.percVoterTurnout},yValueFormat:function(e){return e+"%"}};function Le(e){return l.a[e]||e}var Ve=0,We=function(e){function n(e){var t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),t=function(e,n){return!n||"object"!==Ie(n)&&"function"!==typeof n?Ge(e):n}(this,je(n).call(this,e));Ge(Ge(t));return t.state={eventType:"national",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(Ge(Ge(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(Ge(Ge(t))),t.handleRegionChange=t.handleRegionChange.bind(Ge(Ge(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(Ge(Ge(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Re(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),Ve=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){Me=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(Ve)}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"turnout-barchart(".concat(Object(c.h)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;Me&&Me.destroy(),Me=new p(this.getContainer(),null,null,Le,De),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:"barchart"},r.a.createElement("div",{className:Le(u.a.CSS_PREFIX+"chart-title")},De.chartType," (",Object(c.h)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:Le("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.k)(n)];Promise.all(a).then(function(a){var r=a[0];t.drawGraph(e,n,r,"rgb(157,51,55)")}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.q)(t,n);Me||(Me=new p(e,null,null,Le,De)),Me.draw(r,a)}}])&&xe(t.prototype,i),l&&xe(t,l),n}(),Be=We;We.__docgenInfo={description:"",methods:[{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"colorsData",type:null}],returns:null}],displayName:"BarChart"};var Ke=t("./src/components/BarchartWithNavMap/barchartMap.css"),Ze=t.n(Ke),Ue=t("./node_modules/jszip/lib/index.js"),Fe=t.n(Ue),He=t("./node_modules/file-saver/dist/FileSaver.min.js");function ze(e){return(ze="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e){return(qe="function"===typeof Symbol&&"symbol"===ze(Symbol.iterator)?function(e){return ze(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ze(e)})(e)}function Xe(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,n){return(Je=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return Ze.a[e]||e}var en=function(e){function n(e){var t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),t=function(e,n){return!n||"object"!==qe(n)&&"function"!==typeof n?Qe(e):n}(this,Ye(n).call(this,e));Qe(Qe(t));return t.state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.numParties&&(t.state.numParties=e.numParties),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(Qe(Qe(t))),t}var t,o,i;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Je(e,n)}(n,a["Component"]),t=n,(o=[{key:"exportAsPNG",value:function(e){var n=this;Promise.all([n.barchartInstance.exportAsPNGUri(),n.mapInstance.exportAsPNGUri()]).then(function(e){console.log("exporting ...");var t=new Fe.a,a=t.folder("export-images");a.file("barchart.png",e[0],{base64:!0}),a.file("map.png",e[1],{base64:!0}),t.generateAsync({type:"blob"}).then(function(e){Object(He.saveAs)(e,"race-for-votes-barchart-map(".concat(Object(c.h)(n.state),").zip")),console.log("exporting ended successfully")})}).catch(function(e){console.error("export error",e)})}},{key:"componentDidMount",value:function(){document.addEventListener(v.a.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(v.a.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:"superwidget"},r.a.createElement("div",{className:$e("barchart-container"),ref:"barchart"},r.a.createElement(A,Object.assign({ref:function(n){e.barchartInstance=n}},this.state))),r.a.createElement("div",{className:$e("map-container")},r.a.createElement(ge,Object.assign({ref:function(n){e.mapInstance=n}},this.state))))}}])&&Xe(t.prototype,o),i&&Xe(t,i),n}(),nn=en;en.__docgenInfo={description:"",methods:[{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"BarchartWithNavMap"};var tn=t("./src/components/QuickResultsWidget/quickResultsWidget.css"),an=t.n(tn),rn=t("./src/components/ProgVotesCountPiechart/piechart.css"),on=t.n(rn);function ln(e,n,t,a,r){var i=[],l=10,c=10,u=10,s=10,m="name",p=o.e(".4r"),d=null;function f(e){return d&&d[e]?d[e]:"rgb("+250*Math.random()+","+250*Math.random()+","+250*Math.random()+")"}e.selectAll("svg").remove();var v=Math.min(700,300)/2,y=o.l().value(function(e){return p(e.percent)}).sort(null),b=o.a().outerRadius(.8*v).innerRadius(.6*v).cornerRadius(3).padAngle(.015),h=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+(700+s+c)+" "+(300+l+u)).classed("svg-content",!0).append("g").attr("transform","translate(350,150)");h.append("g").attr("class","slices"),h.append("g").attr("class","lines");var N=h.select(".slices").selectAll("path").data(y(i)).enter().append("path").attr("fill",function(e){return f(e.data[m])}).attr("d",b),g=h.append("g").append("text").attr("text-anchor","middle");function E(e){e.on("mouseenter",function(e){h.append("text").attr("class","toolCircle").attr("dy",-15).html(function(e){var n="";return n+='<tspan x="0">Progress: '+e.data.percent+"%</tspan>",n+='<tspan x="0" dy="1.2em">Captured Votes: '+e.data.count+"</tspan>",n+='<tspan x="0" dy="1.2em">Total: '+e.data.totalCount+"</tspan>"}(e)).style("font-size",".7em").style("text-anchor","middle"),h.append("circle").attr("class","toolCircle").attr("r",.55*v).style("fill",f(e.data[m])).style("fill-opacity",.35)}),e.on("mouseout",function(){o.p(".toolCircle").remove()})}function C(e){var n=o.h(this._current,e);return this._current=n(0),function(e){return b(n(e))}}function P(e){return e.data[m]}this.destroy=function(){e.selectAll("svg").remove()},this.draw=function(e,n){if(e){g.text(""),d=n,i=e;var t=o.o(".slices").selectAll("path"),a=N.data(),r=y(i);(t=t.data(r,P)).enter().append("path").each(function(e,n){this._current=function(e,n,t,a){var r;return(r=function(e,n,t,a){var r=n.length;for(;--e>=0;)for(var o=a(t[e]),i=0;i<r;++i)if(a(n[i])===o)return n[i]}(e,n,t,a))?{startAngle:r.endAngle,endAngle:r.endAngle}:(r=function(e,n,t,a){var r=t.length,o=n.length;for(;++e<r;)for(var i=a(t[e]),l=0;l<o;++l)if(a(n[l])===i)return n[l]}(e,n,t,a))?{startAngle:r.startAngle,endAngle:r.startAngle}:null}(n,a,r,P)||e}).attr("fill",function(e){return f(e.data[m])}).attr("d",b),t.exit().transition().duration(750).attrTween("d",C).remove(),t.transition().duration(750).attrTween("d",C),o.p(".labelName text, .slices path").call(E)}else g.text("chart data is not available")}}function cn(e){return(cn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e){return(un="function"===typeof Symbol&&"symbol"===cn(Symbol.iterator)?function(e){return cn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":cn(e)})(e)}function sn(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mn(e){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,n){return(pn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var fn,vn={chartType:"Progress on Votes Count"};function yn(e){return on.a[e]||e}var bn=0,hn=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=mn(n).call(this,e))||"object"!==un(r)&&"function"!==typeof r?dn(a):r).state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.numParties&&(t.state.numParties=e.numParties),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(dn(dn(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(dn(dn(t))),t.handleRegionChange=t.handleRegionChange.bind(dn(dn(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(dn(dn(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&pn(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),bn=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){fn=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(bn)}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"progress-on-votes-piechart(".concat(Object(c.h)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;fn&&fn.destroy(),fn=new ln(this.getContainer(),null,null,yn,vn),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:"piechart"},r.a.createElement("div",{className:yn(u.a.CSS_PREFIX+"chart-title")},vn.chartType," (",Object(c.h)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:yn("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.e)(n)];Promise.all(a).then(function(a){var r=a[0];t.drawGraph(e,n,r)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t){var a=Object(c.k)(t,n);fn||(fn=new ln(e,null,null,yn,vn)),fn.draw(a,{Completed:"#15707C","Not Completed":"#CCCCCC"})}}])&&sn(t.prototype,i),l&&sn(t,l),n}(),Nn=hn;hn.__docgenInfo={description:"",methods:[{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null}],returns:null}],displayName:"PieChart"};var gn=t("./node_modules/react-metismenu/lib/index.js"),En=t.n(gn),Cn=t("./src/components/NavBar/navbar.css"),Pn=t.n(Cn);function Sn(e){return(Sn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e){return(wn="function"===typeof Symbol&&"symbol"===Sn(Symbol.iterator)?function(e){return Sn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Sn(e)})(e)}function _n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function On(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function kn(e,n,t){return n&&On(e.prototype,n),t&&On(e,t),e}function An(e,n){return!n||"object"!==wn(n)&&"function"!==typeof n?jn(e):n}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&xn(e,n)}function xn(e,n){return(xn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e){return u.a.CSS_PREFIX+e}var Gn=Object(y.f)(),Mn=Object(y.c)(),Dn=function(e){function n(){var e;return _n(this,n),(e=An(this,Tn(n).call(this))).onClick=e.onClick.bind(jn(jn(e))),e}return In(n,r.a.Component),kn(n,[{key:"onClick",value:function(e){this.props.hasSubMenu?this.props.toggleSubMenu(e):this.props.activateMe({newLocation:this.props.to,selectedMenuLabel:this.props.label})}},{key:"render",value:function(){return r.a.createElement("div",{className:"metismenu-link",onClick:this.onClick},this.props.children)}}]),n}(),Ln=function(e){function n(e){var t;return _n(this,n),(t=An(this,Tn(n).call(this,e))).state={eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",activeLinkId:""},e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),t.handleNavBarSelection=t.handleNavBarSelection.bind(jn(jn(t))),t}return In(n,a["Component"]),kn(n,[{key:"componentDidMount",value:function(){var e;document.getElementById("navbarcss")||((e=document.createElement("link")).id="navbarcss",e.rel="stylesheet",e.href=u.a.DOMAIN+"/navbar.css",document.head.appendChild(e));document.getElementById("font-awesome")||((e=document.createElement("link")).id="font-awesome",e.rel="stylesheet",e.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",document.head.appendChild(e));this.refs.navbar.addEventListener("click",this.handleNavBarSelection)}},{key:"componentWillUnmount",value:function(){this.refs.navbar.removeEventListener("click",this.handleNavBarSelection)}},{key:"componentDidUpdate",value:function(){}},{key:"handleNavBarSelection",value:function(e){if(-1!=e.target.className.indexOf("metismenu-link")){var n,t,a=e.target.childNodes[0].className.split(" "),r=a[a.length-1].split("-"),o={},i="";if("1"==r[1])n="national",i="1";else if("2"==r[1])n="province",o=Gn[r[2]];else if("3"==r[1])n="municipality",o=Gn[r[2]].munis[r[3]],i="3-".concat(r[2],"-").concat(r[3]);else{if("4"!=r[1])return;n="municipality",o=Mn[r[2]],i="4-".concat(r[2])}if(e.preventDefault(),"national"==n){if(t={regionType:n},this.state.regionType==t.regionType)return}else if("province"==n){if(t={regionType:n,provinceName:o.name},this.state.regionType==t.regionType&&this.state.provinceName==t.provinceName)return}else if("municipality"==n&&(t={regionType:n,provinceName:o.provinceName,muniName:o.muniName,muniCode:o.muniCode},this.state.regionType==t.regionType&&this.state.provinceName==t.provinceName&&this.state.newState==t.muniName))return;Object(c.u)(v.a.REGION_CHANGE,t),Object(c.u)(v.a.MAP_PREVIEW,t),t.activeLinkId=i,this.setState(t)}}},{key:"render",value:function(){var e,n=[{icon:"1",label:"National",to:"1"},{icon:"",label:"Provinces",content:Gn.map(function(e,n){return{icon:"2-".concat(n),label:e.name,to:"2-".concat(n)}})},{icon:"",label:"Metros",content:Mn.map(function(e,n){return{icon:"4-".concat(n),label:e.muniName.split("-")[1].split("[")[0],to:"4-".concat(n)}})}];return r.a.createElement("div",{className:[(e=Rn("menu-widget"),Pn.a[e]||e),Rn("menu-widget")].join(" "),ref:"navbar"},r.a.createElement(En.a,{activeLinkId:this.state.activeLinkId,content:n,LinkComponent:Dn}))}}]),n}(),Vn=Ln;function Wn(e){return(Wn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e){return(Bn="function"===typeof Symbol&&"symbol"===Wn(Symbol.iterator)?function(e){return Wn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Wn(e)})(e)}function Kn(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,n){return(Un=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e){return an.a[e]||e}function zn(e){return Hn(u.a.CSS_PREFIX+e)}Ln.__docgenInfo={description:"",methods:[{name:"handleNavBarSelection",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"NavBar"};var qn=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=Zn(n).call(this,e))||"object"!==Bn(r)&&"function"!==typeof r?Fn(a):r).state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",comp:"race for votes",stylesheetFor:"web"},e.numParties&&(t.state.numParties=e.numParties),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),e.stylesheetFor&&(t.state.stylesheetFor=e.stylesheetFor),t.exportAsPNG=t.exportAsPNG.bind(Fn(Fn(t))),t.handleRegionChange=t.handleRegionChange.bind(Fn(Fn(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(Fn(Fn(t))),t}var t,o,i;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Un(e,n)}(n,a["Component"]),t=n,(o=[{key:"componentDidMount",value:function(){document.addEventListener(v.a.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.QUICK_RESULTS_PREVIEW,this.handlePreviewEvent)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(v.a.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.QUICK_RESULTS_PREVIEW,this.handlePreviewEvent)}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"exportAsPNG",value:function(e){var n=this.state.comp,t="quick-results-widget-".concat(n.replace(/\s/gi,"-"),"(").concat(Object(c.h)(this.state),")"),a=[];"race for votes"==n?a=[this.votesInstance1.exportAsPNGUri(),this.votesInstance2.exportAsPNGUri()]:"race for seats"==n?a=[this.seatsInstance1.exportAsPNGUri(),this.seatsInstance2.exportAsPNGUri()]:"turnout"==n?a=[this.turnoutInstance1.exportAsPNGUri(),this.turnoutInstance2.exportAsPNGUri()]:"counting progress"==n?a=[this.progressInstance1.exportAsPNGUri(),this.progressInstance2.exportAsPNGUri()]:"spoilt votes"==n&&(a=[this.spoiltInstance1.exportAsPNGUri(),this.spoiltInstance2.exportAsPNGUri()]),Promise.all(a).then(function(e){console.log("exporting ...");var n=new Fe.a,a=n.folder(t);a.file("image1.png",e[0],{base64:!0}),a.file("image2.png",e[1],{base64:!0}),n.generateAsync({type:"blob"}).then(function(e){Object(He.saveAs)(e,"".concat(t,".zip")),console.log("exporting ended successfully")})}).catch(function(e){console.error("export error",e)})}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;this.setState(n),Object(c.u)(v.a.CHART_PREVIEW,n),Object(c.u)(v.a.MAP_PREVIEW,n)}},{key:"render",value:function(){var e=this,n=this.state,t=n.comp,a=(n.numParties,n.eventDescription),o=n.stylesheetFor;n.regionType,n.provinceName,n.muniName,n.muniCode,n.iecId,t=n.comp;return r.a.createElement("div",{className:zn("stylesheet-".concat(o))},r.a.createElement("div",{className:zn("row")+" "+zn("component-transition-menu")},r.a.createElement("div",{className:zn("col-md-2")+" "+Hn("label")},"Show Results"),r.a.createElement("div",{className:zn("col-md-2")},r.a.createElement("button",{className:"race for votes"==t?Hn("active"):"",onClick:function(){return e.setState({comp:"race for votes"})}}," Race for votes ")),r.a.createElement("div",{className:zn("col-md-2")},r.a.createElement("button",{className:"race for seats"==t?Hn("active"):"",onClick:function(){return e.setState({comp:"race for seats"})}}," Race for seats")),r.a.createElement("div",{className:zn("col-md-2")},r.a.createElement("button",{className:"turnout"==t?Hn("active"):"",onClick:function(){return e.setState({comp:"turnout"})}}," Turnout")),-1!=a.indexOf("2014")&&r.a.createElement("div",{className:zn("col-md-2")},r.a.createElement("button",{className:"counting progress"==t?Hn("active"):"",onClick:function(){return e.setState({comp:"counting progress"})}}," Counting progress ")),r.a.createElement("div",{className:zn("col-md-2")},r.a.createElement("button",{className:"spoilt votes"==t?Hn("active"):"",onClick:function(){return e.setState({comp:"spoilt votes"})}}," Spoilt Votes "))),r.a.createElement("div",{className:zn("row")},r.a.createElement("div",{className:zn("col-md-4")+" "+Hn("main-left-part")},r.a.createElement(Vn,null)),"race for votes"==t&&r.a.createElement("div",{className:zn("col-md-8")+" "+Hn("main-right-part")},r.a.createElement("div",{className:Hn("barchart-container")},r.a.createElement(A,Object.assign({ref:function(n){e.votesInstance1=n}},this.state))),r.a.createElement("div",{className:Hn("map-container")},r.a.createElement(ge,Object.assign({ref:function(n){e.votesInstance2=n}},this.state)))),"race for seats"==t&&r.a.createElement("div",{className:zn("col-md-8")+" "+Hn("main-right-part")},r.a.createElement("div",{className:Hn("barchart-container")},r.a.createElement(K,Object.assign({ref:function(n){e.seatsInstance1=n}},this.state))),r.a.createElement("div",{className:Hn("map-container")},r.a.createElement(ge,Object.assign({ref:function(n){e.seatsInstance2=n}},this.state)))),"turnout"==t&&r.a.createElement("div",{className:zn("col-md-8")+" "+Hn("main-right-part")},r.a.createElement("div",{className:Hn("barchart-container")},r.a.createElement(Be,Object.assign({ref:function(n){e.turnoutInstance1=n}},this.state))),r.a.createElement("div",{className:Hn("map-container")},r.a.createElement(Ae,Object.assign({ref:function(n){e.turnoutInstance2=n}},this.state)))),"counting progress"==t&&r.a.createElement("div",{className:zn("col-md-8")+" "+Hn("main-right-part")},r.a.createElement("div",{className:Hn("barchart-container")},r.a.createElement(Nn,Object.assign({ref:function(n){e.progressInstance1=n}},this.state))),r.a.createElement("div",{className:Hn("map-container")},r.a.createElement(ge,Object.assign({ref:function(n){e.progressInstance2=n}},this.state)))),"spoilt votes"==t&&r.a.createElement("div",{className:zn("col-md-8")+" "+Hn("main-right-part")},r.a.createElement("div",{className:Hn("barchart-container")},r.a.createElement(ee,Object.assign({ref:function(n){e.spoiltInstance1=n}},this.state))),r.a.createElement("div",{className:Hn("map-container")},r.a.createElement(ge,Object.assign({ref:function(n){e.spoiltInstance2=n}},this.state))))))}}])&&Kn(t.prototype,o),i&&Kn(t,i),n}(),Xn=qn;function Yn(e){return(Yn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e){return(Jn="function"===typeof Symbol&&"symbol"===Yn(Symbol.iterator)?function(e){return Yn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Yn(e)})(e)}function Qn(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,n){return(et=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}qn.__docgenInfo={description:"",methods:[{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"QuickResultsWidget"};var tt,at,rt={chartType:"Race For Seats Comparison",yAxisLabel:"Seats Count",dynamicYAxisFromValues:!0,yValue:function(e){return e.seats},yValueFormat:function(e){return e}};function ot(e){return l.a[e]||e}var it=0,lt=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=$n(n).call(this,e))||"object"!==Jn(r)&&"function"!==typeof r?nt(a):r).state={partyAbbr:"ANC",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.partyAbbr&&(t.state.partyAbbr=e.partyAbbr),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(nt(nt(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(nt(nt(t))),t.handleRegionChange=t.handleRegionChange.bind(nt(nt(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(nt(nt(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&et(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),it=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){tt=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(it)}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-comparison-barchart(".concat(Object(c.f)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;tt&&tt.destroy(),tt=new p(this.getContainer(),null,null,ot,rt),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:"barchart"},r.a.createElement("div",{className:ot(u.a.CSS_PREFIX+"chart-title")},rt.chartType," (",Object(c.f)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:ot("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.h)(n)];if(!at){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];at=at||a[1],t.drawGraph(e,n,r,at)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.l)(t,n);tt||(tt=new p(e,null,null,ot,rt)),tt.draw(r,a)}}])&&Qn(t.prototype,i),l&&Qn(t,l),n}(),ct=lt;lt.__docgenInfo={description:"",methods:[{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var ut=t("./src/components/SeatHorseShoeChart/horseshoe.css"),st=t.n(ut);function mt(e,n,t,a,r){r||(r={}),e.selectAll("svg").remove();var i=["blue","yellow","red"],l=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 360 185").classed("svg-content",!0),u=Object(c.a)(a),s=l.append("g"),m=l.append("g").attr("transform","translate(180,92.5)").append("text").attr("text-anchor","middle");this.draw=function(e,n){var t=[];if(e){m.text("");for(var a=e.length-1;a>=0;a-=2)t.push(e[a]);for(a=-1-a;a<e.length;a+=2)t.push(e[a]);var r={},l=n;l&&l.data.allParties.edges&&l.data.allParties.edges.forEach(function(e){r[e.node.name]=e.node.colour});var c=0;for(a=0;a<t.length;a++)c+=t[a].seats;!function(e,n){var a,r,i,l,c,s,m=[3,15,33,61,95,138,189,247,313,388,469,559,657,762,876,997,1126,1263,1408,1560,1722,1889,2066,2250,2442,2641,2850,3064,3289,3519,3759,4005,4261,4522,4794,5071,5358,5652,5953,6263,6581,6906,7239,7581,7929,8287,8650,9024,9404,9793,10187,10594,11003,11425,11850,12288,12729,13183,13638,14109,14580,15066,15553,16055,16557,17075,17592,18126,18660,19208,19758,20323,20888,21468,22050,22645,23243,23853,24467,25094,25723,26364,27011,27667,28329,29001,29679,30367,31061];e>m[m.length-1]&&console.error("total seats >",m[m.length-1]),e<1&&console.error("total seats < 1");for(var d=0;d<m.length;d++)if(m[d]>=e){a=d+1;break}for(r=.4/a,i=[],d=1;d<a;d++)if(c=(3*a+4*d-2)/(4*a),1==(l=parseInt(e/m[a-1]*Math.PI/(2*Math.asin(2/(3*a+4*d-2))))))i.push({angle:Math.PI/2,x:1.75*c,y:c});else for(var f=0;f<l;f++)s=f*(Math.PI-2*Math.sin(r/c))/(l-1)+Math.sin(r/c),i.push({angle:s,x:c*Math.cos(s)+1.75,y:c*Math.sin(s)});if(c=(7*a-2)/(4*a),1==(l=e-i.length))i.push({angle:Math.PI/2,x:1.75*c,y:c});else for(f=0;f<l;f++)s=f*(Math.PI-2*Math.sin(r/c))/(l-1)+Math.sin(r/c),i.push({angle:s,x:c*Math.cos(s)+1.75,y:c*Math.sin(s)});function v(e,n){var a;e.attr("opacity",.8),u.transition().duration(200).style("opacity",.9),u.html((a=t[n],a.name)).style("left",o.d.pageX+"px").style("top",o.d.pageY-28+"px")}function y(e){e.attr("opacity",1),u.transition().duration(200).style("opacity",0)}i.sort(function(e,n){function t(e){return e.angle-Math.PI/2}return t(n)-t(e)}),n.append("text").attr("x",175).attr("y",175).attr("style","font-size:36px;font-weight:bold;text-align:center;text-anchor:middle;font-family:sans-serif").text(e);var b=0;for(d=0;d<t.length;d++){var h=n.append("g").attr("fill",p(t[d].partyInfo.name,d)).attr("id",t[d].name);for(h.on("mousemove",v.bind(this,h,d)).on("mouseout",y.bind(this,h)),f=0;f<t[d].seats;f++,b++)h.append("circle").attr("cx",100*i[b].x+5).attr("cy",100*(1.75-i[b].y)+5).attr("r",100*r)}}(c,s)}else m.text("chart data is not available");function p(e,n){return r[e.split("/")[0]]||i[n%i.length]}},this.destroy=function(){l.remove()}}function pt(e){return(pt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e){return(dt="function"===typeof Symbol&&"symbol"===pt(Symbol.iterator)?function(e){return pt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":pt(e)})(e)}function ft(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,n){return(yt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ht,Nt,gt={chartType:"Race For Seats HorseShoe Chart"};function Et(e){return st.a[e]||e}var Ct=0,Pt=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=vt(n).call(this,e))||"object"!==dt(r)&&"function"!==typeof r?bt(a):r).state={numParties:100,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(bt(bt(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(bt(bt(t))),t.handleRegionChange=t.handleRegionChange.bind(bt(bt(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(bt(bt(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&yt(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),Ct=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){ht=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(Ct)}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-horseshoe-chart(".concat(Object(c.f)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;ht&&ht.destroy(),ht=new mt(this.getContainer(),null,null,Et,gt),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:"horseshoechart"},r.a.createElement("div",{className:Et(u.a.CSS_PREFIX+"chart-title")},gt.chartType," (",Object(c.f)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:Et("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.g)(n)];if(!Nt){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Nt=Nt||a[1],t.drawGraph(e,n,r,Nt)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.n)(t,n);ht||(ht=new mt(e,null,null,Et,gt)),ht.draw(r,a)}}])&&ft(t.prototype,i),l&&ft(t,l),n}(),St=Pt;function wt(e){return(wt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e){return(_t="function"===typeof Symbol&&"symbol"===wt(Symbol.iterator)?function(e){return wt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wt(e)})(e)}function Ot(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,n){return(At=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Pt.__docgenInfo={description:"",methods:[{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"HorseShoeChart"};var It,xt;Object(y.f)();function jt(e){return l.a[e]||e}var Rt=0,Gt="Race For Votes Comparison",Mt=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=kt(n).call(this,e))||"object"!==_t(r)&&"function"!==typeof r?Tt(a):r).state={partyAbbr:"ANC",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.partyAbbr&&(t.state.partyAbbr=e.partyAbbr),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(Tt(Tt(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(Tt(Tt(t))),t.handleRegionChange=t.handleRegionChange.bind(Tt(Tt(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(Tt(Tt(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&At(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),Rt=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){It&&(It.destroy(),It=null),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(Rt)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-comparison-barchart(".concat(Object(c.h)(this.state),").png"))}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;It&&It.destroy(),It=new p(this.getContainer(),null,null,jt),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:jt("barchart")},r.a.createElement("div",{className:jt(u.a.CSS_PREFIX+"chart-title")},Gt," (",Object(c.h)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:jt("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.l)(n)];if(!xt){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];xt=xt||a[1],t.drawGraph(e,n,r,xt)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.r)(t,n);It||(It=new p(e,null,null,jt)),It.draw(r,a)}}])&&Ot(t.prototype,i),l&&Ot(t,l),n}(),Dt=Mt;function Lt(e,n,t,a,r){r||(r={}),e.selectAll("svg").remove();var i=["blue","yellow","red"],l=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 770 420").classed("svg-content",!0),u=Object(c.a)(a),s=o.m().rangeRound([70,700]),m=o.n().rangeRound([300,120]),p=l.append("g").attr("transform","translate(350,150)").append("text").attr("text-anchor","middle");this.draw=function(e,n){if(console.log("groupChartData",e),l.selectAll(".topLabel").remove(),l.append("text").attr("class","topLabel").attr("text-anchor","middle").attr("x",350).attr("y",20).text(r.topLabel),e){p.text("");var t={},d=n;d&&d.data.allParties.edges&&d.data.allParties.edges.forEach(function(e){t[e.node.name]=e.node.colour}),s.domain(e.map(function(e){return e.partyAbbr}));var f=[0,100];r.dynamicYAxisFromValues&&(f[1]=o.j(e.map(function(e){return o.j(e.data,function(e){return r.yValue(e)})}))+1),m.domain(f);var v=l.selectAll(".bar-group").data(e);v.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),(b=v.enter().append("g").attr("class",function(e){return"bar-group ".concat(e.partyAbbr)}).attr("transform",function(e){return"translate(".concat(s(e.partyAbbr),", 0)")})).append("rect").attr("fill","#DEDEDE").attr("x",1*-s.bandwidth()/12).attr("y",35).attr("width",5*s.bandwidth()/6).attr("height",300),b.append("g").attr("class","groupname-container").attr("transform","translate(".concat(1*s.bandwidth()/3,", ").concat(70,")")).append("text").attr("text-anchor","middle").text(function(e){return e.partyAbbr}),b.append("g").attr("class","bar-container"),b.append("g").attr("class","bartext-container"),b.append("g").attr("class","baraxistext-container");for(var y=0;y<e.length;y++){var b,h=e[y].partyAbbr,N=e[y].data,g=o.m().rangeRound([0,2*s.bandwidth()/3]).domain(N.map(function(e){return e.name})),E=(b=l.selectAll(".bar-group.".concat(h))).select(".bar-container"),C=b.select(".bartext-container"),P=b.select(".baraxistext-container"),S=E.selectAll(".".concat(a("bar"))).data(N);S.exit().transition().duration(300).attr("y",function(e){return m(0)}).attr("height",0).style("fill-opacity",1e-6).remove(),S.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",function(e,n){return g(e.name)+g.bandwidth()/4}).attr("width",1*g.bandwidth()/2).attr("fill",function(e,n){return O(e,n)}).on("mousemove",function(e,n){o.o(this).attr("opacity",.8),u.transition().duration(200).style("opacity",.9),u.html(k(e)).style("left",o.d.pageX+"px").style("top",o.d.pageY-28+"px")}).on("mouseout",function(e){o.o(this).attr("opacity",1),u.transition().duration(200).style("opacity",0)}).attr("y",function(e){return m(0)}).attr("height",0),E.selectAll(".".concat(a("bar"))).data(N).attr("fill",function(e,n){return O(e,n)}).transition().duration(300).attr("y",function(e){return m(Number(r.yValue(e)))}).attr("height",function(e){return 300-m(Number(r.yValue(e)))});var w=P.selectAll(".".concat(a("bartext"))).data(N);w.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),w.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return g(e.name)+g.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","7px").attr("y",function(e){return m(0)+18}),P.selectAll(".".concat(a("bartext"))).data(N).text(function(e){return/(19|20)\d{2}/g.exec(e.name)[0]});var _=C.selectAll(".".concat(a("bartext"))).data(N);_.exit().transition().duration(300).attr("y",function(e){return m(0)-5}).style("fill-opacity",1e-6).remove(),_.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return g(e.name)+g.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","7px").attr("y",function(e){return m(0)-5}),C.selectAll(".".concat(a("bartext"))).data(N).text(function(e){return r.yValueFormat(r.yValue(e))}).transition().duration(300).attr("y",function(e){return m(Number(r.yValue(e)))-5})}}else p.text("chart data is not available");function O(e,n){return function(e,n){return t[e.split("/")[0]]||i[n%i.length]}(e.partyInfo.name,n)}function k(e,n){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(r.yValue(e)):Object(c.c)(e.partyInfo.name)+" : "+r.yValueFormat(r.yValue(e))}},this.destroy=function(){l.remove()}}function Vt(e){return(Vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e){return(Wt="function"===typeof Symbol&&"symbol"===Vt(Symbol.iterator)?function(e){return Vt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Vt(e)})(e)}function Bt(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,n){return(Zt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Mt.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var Ft,Ht,zt={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"SEATS COUNTED",yValue:function(e){return e.seats},yValueFormat:function(e){return e},dynamicYAxisFromValues:!0};function qt(e){return l.a[e]||e}var Xt=0,Yt=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=Kt(n).call(this,e))||"object"!==Wt(r)&&"function"!==typeof r?Ut(a):r).state={partyAbbrs:["ANC","DA","EFF","ID"],eventDescriptions:["14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.partyAbbrs&&(t.state.partyAbbrs=e.partyAbbrs),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(Ut(Ut(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(Ut(Ut(t))),t.handleRegionChange=t.handleRegionChange.bind(Ut(Ut(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(Ut(Ut(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Zt(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),Xt=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){Ft=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(Xt)}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-comparison-barchart(".concat(Object(c.f)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;Ft&&Ft.destroy(),Ft=new Lt(this.getContainer(),null,null,qt,zt),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:"barchart"},r.a.createElement("div",{ref:"vizcontainer",className:qt("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.h)(n)];if(zt.topLabel="".concat(n.regionType.toUpperCase()," ASSEMBLY: ").concat(n.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join(", ")),"national"==n.regionType?zt.topLabel="Race for Seats Comparison - National Assembly":zt.topLabel="Race for Seats Comparison - ".concat(Object(c.f)(n)),!Ht){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Ht=Ht||a[1],t.drawGraph(e,n,r,Ht)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.m)(t,n);Ft||(Ft=new Lt(e,null,null,qt,zt)),Ft.draw(r,a)}}])&&Bt(t.prototype,i),l&&Bt(t,l),n}(),Jt=Yt;function Qt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){$t(e,n,t[n])})}return e}function $t(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ea(e,n,t,a,r){r||(r={}),e.selectAll("svg").remove();var i=["blue","yellow","red"],l=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 770 420").classed("svg-content",!0),u=Object(c.a)(a),s=o.m().rangeRound([70,700]),m=o.n().rangeRound([300,120]),p=l.append("g").attr("transform","translate(350,150)").append("text").attr("text-anchor","middle");this.draw=function(e,n){if(l.selectAll(".topLabel").remove(),l.append("text").attr("text-anchor","middle").attr("class","topLabel").attr("x",350).attr("y",20).text(r.topLabel),e){p.text("");var t={},d=n;d&&d.data.allParties.edges&&d.data.allParties.edges.forEach(function(e){t[e.node.name]=e.node.colour});var f=e.map(function(e){var n=e.data;return Qt({},e,{data:[Qt({},n[1],{delta:r.yValue(n[1])-r.yValue(n[0])})]})});s.domain(e.map(function(e){return e.partyAbbr}));var v=[-100,100];r.dynamicYAxisFromValues&&(v[1]=o.j(f.map(function(e){return e.data[0].delta}))+1,v[0]=o.k(f.map(function(e){return e.data[0].delta}))-1),m.domain(v),l.selectAll(".xAxisLine").remove();l.append("line").attr("class","xAxisLine").attr("stroke-width",2).attr("stroke","black").attr("x1",70).attr("y1",m(0)-1).attr("x2",700).attr("y2",m(0)-1);var y=l.selectAll(".bar-group").data(f);y.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),(h=y.enter().append("g").attr("class",function(e){return"bar-group ".concat(e.partyAbbr)}).attr("transform",function(e){return"translate(".concat(s(e.partyAbbr),", 0)")})).append("g").attr("class","groupname-container").attr("transform","translate(".concat(1*s.bandwidth()/3,", ").concat(70,")")).append("text").attr("text-anchor","middle").text(function(e){return e.partyAbbr}),h.append("g").attr("class","bar-container"),h.append("g").attr("class","bartext-container");for(var b=0;b<f.length;b++){var h,N=f[b].partyAbbr,g=f[b].data,E=(h=l.selectAll(".bar-group.".concat(N))).select(".bar-container"),C=h.select(".bartext-container"),P=E.selectAll(".".concat(a("bar"))).data(g);P.exit().transition().duration(300).attr("height",0).style("fill-opacity",1e-6).remove(),P.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",s.bandwidth()/6).attr("width",1*s.bandwidth()/3).attr("fill",function(e,n){return w(e,n)}).on("mousemove",function(e,n){o.o(this).attr("opacity",.8),u.transition().duration(200).style("opacity",.9),u.html(_(e)).style("left",o.d.pageX+"px").style("top",o.d.pageY-28+"px")}).on("mouseout",function(e){o.o(this).attr("opacity",1),u.transition().duration(200).style("opacity",0)}).attr("y",function(e){return m(0)}).attr("height",0),E.selectAll(".".concat(a("bar"))).data(g).attr("fill",function(e,n){return w(e,n)}).transition().duration(300).attr("y",function(e){return Math.min(m(Number(e.delta)),m(0))}).attr("height",function(e){return Math.abs(m(Number(e.delta))-m(0))});var S=C.selectAll(".".concat(a("bartext"))).data(g);S.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),S.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return s.bandwidth()/3}).attr("text-anchor","middle").attr("font-size","12px").attr("y",function(e){return e.delta>0?m(0)-5:m(0)+5}),C.selectAll(".".concat(a("bartext"))).data(g).text(function(e){return r.yValueFormat(e.delta)}).transition().duration(300).attr("y",function(e){var n=0;return n=e.delta>0?-5:15,m(Number(e.delta))+n})}}else p.text("chart data is not available");function w(e,n){return function(e,n){return t[e.split("/")[0]]||i[n%i.length]}(e.partyInfo.name,n)}function _(e,n){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(e.delta):Object(c.c)(e.partyInfo.name)+" : "+r.yValueFormat(e.delta)}},this.destroy=function(){l.remove()}}function na(e){return(na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e){return(ta="function"===typeof Symbol&&"symbol"===na(Symbol.iterator)?function(e){return na(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":na(e)})(e)}function aa(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oa(e,n){return(oa=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ia(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Yt.__docgenInfo={description:"",methods:[{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var la,ca,ua={topLabel:"NATIONAL ASSEMBLY: 2009, 2014",usedValue:"SEATS COUNTED",yValue:function(e){return e.seats},yValueFormat:function(e){return e},dynamicYAxisFromValues:!0};function sa(e){return l.a[e]||e}var ma=0,pa=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=ra(n).call(this,e))||"object"!==ta(r)&&"function"!==typeof r?ia(a):r).state={partyAbbrs:["ANC","DA","EFF","ID"],eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.partyAbbrs&&(t.state.partyAbbrs=e.partyAbbrs),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(ia(ia(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(ia(ia(t))),t.handleRegionChange=t.handleRegionChange.bind(ia(ia(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(ia(ia(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&oa(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),ma=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){la=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(ma)}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-swing-barchart(".concat(Object(c.f)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;la&&la.destroy(),la=new ea(this.getContainer(),null,null,sa,ua),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:"barchart"},r.a.createElement("div",{ref:"vizcontainer",className:sa("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.h)(n)],r=n.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join("/");if("national"==n.regionType?ua.topLabel="National Assembly: Swing ".concat(r):ua.topLabel="".concat(Object(c.f)(n),": Swing ").concat(r),!ca){var o=Object(y.d)();a.push(o)}Promise.all(a).then(function(a){var r=a[0];ca=ca||a[1],t.drawGraph(e,n,r,ca)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.m)(t,n);la||(la=new ea(e,null,null,sa,ua)),la.draw(r,a)}}])&&aa(t.prototype,i),l&&aa(t,l),n}(),da=pa;function fa(e){return(fa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e){return(va="function"===typeof Symbol&&"symbol"===fa(Symbol.iterator)?function(e){return fa(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":fa(e)})(e)}function ya(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ba(e){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,n){return(ha=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}pa.__docgenInfo={description:"",methods:[{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var ga,Ea;Object(y.f)();function Ca(e){return l.a[e]||e}var Pa=0,Sa={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"% VDS COUNTED",yValue:function(e){return e.percOfVotes},yValueFormat:function(e){return e+"%"},dynamicYAxisFromValues:!0},wa=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=ba(n).call(this,e))||"object"!==va(r)&&"function"!==typeof r?Na(a):r).state={partyAbbrs:["ANC","DA","EFF","ID"],eventDescriptions:["14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.partyAbbrs&&(t.state.partyAbbrs=e.partyAbbrs),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(Na(Na(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(Na(Na(t))),t.handleRegionChange=t.handleRegionChange.bind(Na(Na(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(Na(Na(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ha(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),Pa=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){ga&&(ga.destroy(),ga=null),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(Pa)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-comparison-barchart(".concat(Object(c.h)(this.state),").png"))}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;ga&&ga.destroy(),ga=new Lt(this.getContainer(),null,null,Ca,Sa),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:Ca("barchart")},r.a.createElement("div",{ref:"vizcontainer",className:Ca("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.l)(n)];if(Sa.topLabel="".concat(n.regionType.toUpperCase()," ASSEMBLY: ").concat(n.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join(", ")),"national"==n.regionType?Sa.topLabel="Race for Votes Comparison - National Assembly":Sa.topLabel="Race for Votes Comparison - ".concat(Object(c.h)(n)),!Ea){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Ea=Ea||a[1],t.drawGraph(e,n,r,Ea)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.s)(t,n);ga||(ga=new Lt(e,null,null,Ca,Sa)),ga.draw(r,a)}}])&&ya(t.prototype,i),l&&ya(t,l),n}(),_a=wa;function Oa(e){return(Oa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(e){return(ka="function"===typeof Symbol&&"symbol"===Oa(Symbol.iterator)?function(e){return Oa(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Oa(e)})(e)}function Aa(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ia(e,n){return(Ia=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}wa.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var ja,Ra;Object(y.f)();function Ga(e){return l.a[e]||e}var Ma=0,Da={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"% VDS COUNTED",yValue:function(e){return e.percOfVotes},yValueFormat:function(e){return(e>0?"+":"")+e.toFixed(2)+"%"},dynamicYAxisFromValues:!0},La=function(e){function n(e){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=Ta(n).call(this,e))||"object"!==ka(r)&&"function"!==typeof r?xa(a):r).state={partyAbbrs:["ANC","DA","EFF","ID"],eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:""},e.partyAbbrs&&(t.state.partyAbbrs=e.partyAbbrs),e.regionType&&(t.state.regionType=e.regionType),e.provinceName&&(t.state.provinceName=e.provinceName),e.muniName&&(t.state.muniName=e.muniName),e.muniCode&&(t.state.muniCode=e.muniCode),e.iecId&&(t.state.iecId=e.iecId),t.exportAsPNG=t.exportAsPNG.bind(xa(xa(t))),t.exportAsPNGUri=t.exportAsPNGUri.bind(xa(xa(t))),t.handleRegionChange=t.handleRegionChange.bind(xa(xa(t))),t.handlePreviewEvent=t.handlePreviewEvent.bind(xa(xa(t))),t}var t,i,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ia(e,n)}(n,a["Component"]),t=n,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),Ma=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){ja&&(ja.destroy(),ja=null),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(Ma)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(n,t){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){n(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-swing-barchart(".concat(Object(c.h)(this.state),").png"))}},{key:"handleRegionChange",value:function(e){var n=e.detail;this.setState(n)}},{key:"handlePreviewEvent",value:function(e){var n=e.detail;ja&&ja.destroy(),ja=new ea(this.getContainer(),null,null,Ga,Da),this.setState(n)}},{key:"getContainer",value:function(){return o.o(this.refs.vizcontainer)}},{key:"render",value:function(){return r.a.createElement("div",{className:Ga("barchart")},r.a.createElement("div",{ref:"vizcontainer",className:Ga("chart-body")}))}},{key:"draw",value:function(e,n){var t=this,a=[Object(y.l)(n)],r=n.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join("/");if("national"==n.regionType?Da.topLabel="National Assembly: Swing ".concat(r):Da.topLabel="".concat(Object(c.h)(n),": Swing ").concat(r),!Ra){var o=Object(y.d)();a.push(o)}Promise.all(a).then(function(a){var r=a[0];Ra=Ra||a[1],t.drawGraph(e,n,r,Ra)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,n,t,a){var r=Object(c.s)(t,n);ja||(ja=new ea(e,null,null,Ga,Da)),ja.draw(r,a)}}])&&Aa(t.prototype,i),l&&Aa(t,l),n}(),Va=La;La.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleRegionChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"},t.d(n,"a",function(){return A}),t.d(n,"f",function(){return K}),t.d(n,"i",function(){return ee}),t.d(n,"c",function(){return ge}),t.d(n,"o",function(){return Ae}),t.d(n,"n",function(){return Be}),t.d(n,"b",function(){return nn}),t.d(n,"e",function(){return Xn}),t.d(n,"d",function(){return Nn}),t.d(n,"g",function(){return ct}),t.d(n,"h",function(){return St}),t.d(n,"p",function(){return Dt}),t.d(n,"j",function(){return Jt}),t.d(n,"k",function(){return da}),t.d(n,"l",function(){return _a}),t.d(n,"m",function(){return Va})},"./src/config/index.js":function(e,n,t){"use strict";n.a={DOMAIN:"https://sabc-eds.github.io/elections-dataviz",CSS_PREFIX:"ELVIZ_"}},"./src/events/index.js":function(e,n,t){"use strict";n.a={REGION_CHANGE:"region-change",CHART_PREVIEW:"chart-preview",MAP_PREVIEW:"map-preview",QUICK_RESULTS_PREVIEW:"quick-results-preview",EXPORT_PNG:"export-png"}},"./src/utils/index.js":function(e,n,t){"use strict";t.d(n,"t",function(){return c}),t.d(n,"r",function(){return u}),t.d(n,"s",function(){return s}),t.d(n,"k",function(){return m}),t.d(n,"j",function(){return p}),t.d(n,"n",function(){return d}),t.d(n,"l",function(){return f}),t.d(n,"m",function(){return v}),t.d(n,"p",function(){return y}),t.d(n,"q",function(){return b}),t.d(n,"o",function(){return h}),t.d(n,"h",function(){return N}),t.d(n,"f",function(){return g}),t.d(n,"a",function(){return E}),t.d(n,"b",function(){return C}),t.d(n,"u",function(){return P}),t.d(n,"c",function(){return S}),t.d(n,"i",function(){return w}),t.d(n,"d",function(){return _}),t.d(n,"e",function(){return O}),t.d(n,"g",function(){return k});var a=t("./node_modules/d3/index.js"),r=t("./src/config/index.js");function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){i(e,n,t[n])})}return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){return 0==n?0:(e/n*100).toFixed(2)}function c(e,n){var t,a=n.regionType;if(!(t="national"==a?e.data.allBallots.edges[0]:"province"==a?e.data.allProvincialBallots.edges[0]:"municipality"==a?e.data.allMunicipalBallots.edges[0]:e.data.allVotingDistrictBallots.edges[0]))return console.error("party data is empty!!"),null;var r=t.node;return(r.partyResults||r.topResult).edges.sort(function(e,n){return n.node.percOfVotes-e.node.percOfVotes}).slice(0,n.numParties).map(function(e){var n=e.node;return{name:n.party.abbreviation,validVotes:n.validVotes,percOfVotes:n.percOfVotes,partyInfo:n.party}})}function u(e,n){for(var t=n.regionType,a=("national"==t?e.data.allBallots.edges:"province"==t?e.data.allProvincialBallots.edges:"municipality"==t?e.data.allMunicipalBallots.edges:e.data.allVotingDistrictBallots.edges).map(function(e){var t=e.node,r=t.partyResults||t.topResult,o=(a=r.edges.filter(function(e){return e.node.party.abbreviation==n.partyAbbr}))[0];if(o){var i=o.node;return{name:t.event.description,percOfVotes:i.percOfVotes,partyInfo:i.party}}return{name:t.event.description,percOfVotes:0,partyInfo:{name:n.partyAbbr,abbreviation:n.partyAbbr}}}).filter(function(e){return-1!=n.eventDescriptions.indexOf(e.name)}).reverse(),r=[],o=0;o<n.eventDescriptions.length;o++){for(var i=!1,l=0;l<a.length;l++)if(a[l].name==n.eventDescriptions[o]){i=!0;r.push(a[l]);break}i||r.push({name:n.eventDescriptions[o],percOfVotes:0,partyInfo:{name:n.partyAbbr,abbreviation:n.partyAbbr}})}return r}function s(e,n){return n.partyAbbrs.map(function(t){var a=o({},n);return a.partyAbbr=t,{partyAbbr:t,data:u(e,a)}})}function m(e,n){var t,a=n.regionType;if(!(t="national"==a?e.data.allBallots.edges[0]:"province"==a?e.data.allProvincialBallots.edges[0]:"municipality"==a?e.data.allMunicipalBallots.edges[0]:e.data.allVotingDistrictBallots.edges[0]))return console.error("progress votes count data is empty!!"),null;var r=t.node;return[{name:"Completed",percent:l(r.vdWithResultsCaptured,r.vdCount),totalCount:r.vdCount,count:r.vdWithResultsCaptured},{name:"Not Completed",percent:100-l(r.vdWithResultsCaptured,r.vdCount),totalCount:r.vdCount,count:r.vdCount-r.vdWithResultsCaptured}]}function p(e,n){if(!e)return null;var t={},a=n.regionType;return"national"===a?e.data.topPartiesByProvince.edges.forEach(function(e){var n=e.node,a=n.location.name,r=n.topParty.party.name;t[a]=r}):"province"===a?e.data.topPartiesByMunicipality.edges.forEach(function(e){var n=e.node,a=n.location.code,r=n.topParty.party.name;t[a]=r}):e.data.topPartiesByVotingDistrict.edges.forEach(function(e){var n=e.node,a=n.location.iecId,r=n.topParty.party.name;t[a]=r}),t}function d(e,n){if(!e)return null;var t=e.data.allSeatCalculations.edges,a=n.regionType;return t.map(function(e){var n=e.node;return{seats:"national"===a?n.nationalPr+n.regional:n.regional,name:n.party.abbreviation,partyInfo:n.party}}).slice(0,n.numParties)}function f(e,n){if(!e)return null;for(var t=e.data.allSeatCalculations.edges,a=n.regionType,r=t.map(function(e){var n=e.node;return{seats:"national"===a?n.nationalPr+n.regional:n.regional,name:n.party.event.description,partyInfo:n.party}}).filter(function(e){return-1!=n.eventDescriptions.indexOf(e.name)}).filter(function(e){return e.partyInfo.abbreviation==n.partyAbbr}),o=[],i=0;i<n.eventDescriptions.length;i++){for(var l=!1,c=0;c<r.length;c++)if(r[c].name==n.eventDescriptions[i]){l=!0;o.push(r[c]);break}l||o.push({name:n.eventDescriptions[i],seats:0,partyInfo:{name:n.partyAbbr,abbreviation:n.partyAbbr}})}return o}function v(e,n){return n.partyAbbrs.map(function(t){var a=o({},n);return a.partyAbbr=t,{partyAbbr:t,data:f(e,a)}})}function y(e,n){if(!e)return null;var t={},a=n.regionType;return"national"===a?e.data.allProvincialBallots.edges.forEach(function(e){var n=e.node,a=n.location.name,r=n.percVoterTurnout;t[a]=r}):"province"===a?e.data.allMunicipalBallots.edges.forEach(function(e){var n=e.node,a=n.location.code,r=n.percVoterTurnout;t[a]=r}):e.data.allVotingDistrictBallots.edges.forEach(function(e){var n=e.node,a=n.location.iecId,r=n.percVoterTurnout;t[a]=r}),t}function b(e,n){if(!e)return null;var t,a=n.regionType;return"national"==a?t=e.data.allBallots.edges:"province"==a?t=e.data.allProvincialBallots.edges:"municipality"==a?t=e.data.allMunicipalBallots.edges:"municipality-vd"==a&&(t=e.data.allVotingDistrictBallots.edges),t.map(function(e){var n=e.node;return{name:n.event.description,percVoterTurnout:n.percVoterTurnout}}).filter(function(e){return-1!=e.name.toLowerCase().indexOf(n.eventType)})}function h(e,n){var t,a=n.regionType;if(!(t="national"==a?e.data.allBallots.edges[0]:"province"==a?e.data.allProvincialBallots.edges[0]:"municipality"==a?e.data.allMunicipalBallots.edges[0]:e.data.allVotingDistrictBallots.edges[0]))return console.error("spoilt data is empty!!"),null;var r=t.node;return[{name:"Valid",percent:l(r.totalValidVotes,r.totalVotesCast)},{name:"Spoilt",percent:l(r.spoiltVotes,r.totalVotesCast)}]}function N(e){function n(e){return-1!=e.indexOf(" - ")&&(e=e.split(" - ")[1]),-1!=e.indexOf("[")&&(e=e.split("[")[0]),e}return"national"==e.regionType?"South Africa":"province"==e.regionType?e.provinceName:"municipality"==e.regionType?n(e.muniName):"municipality-vd"==e.regionType?n(e.muniName)+"-"+e.iecId:void 0}function g(e){return"national"==e.regionType?"South Africa":e.provinceName}function E(e){var n=e(r.a.CSS_PREFIX+"tooltip");return document.getElementsByClassName(n)[0]?a.o(".".concat(n)):a.o("body").append("div").attr("class",n).style("opacity",0)}function C(){var e,n=document.getElementsByClassName("place-label"),t={},a={};for(e=0;e<n.length;e++)t[e]=n[e].getBoundingClientRect();for(e=0;e<n.length;e++){for(var r=0;r<e;r++){var o=t[e],i=t[r];!(o.right<i.left||o.left>i.right||o.bottom<i.top||o.top>i.bottom)&&(a[e]=a[e]?a[e]+1:1)}a[e]>2?n[e].setAttribute("opacity",0):a[e]>0&&(n[e].innerHTML=n[e].innerHTML.slice(0,3)+"...")}}function P(e,n){var t=new CustomEvent(e,{detail:n});document.dispatchEvent(t)}function S(e){return e.split("/")[0].toLowerCase().replace(/\b\w/g,function(e){return e.toUpperCase()})}function w(e,n){return"national"===n.regionType?e.SPROVINCE:"province"===n.regionType?e.smunicipal&&e.smunicipal.split(" - ")[1].split("[")[0]:e.Municipali?e.Municipali.split(" - ")[1].split("[")[0]:e.SMUNICIPAL&&e.SMUNICIPAL.split(" - ")[1].split("[")[0]}function _(e){return e.code||e.smunicipal&&e.smunicipal.split(" - ")[0].replace(/\s/g,"")}function O(e){return e.VDNumber||e.PKLVDNUMBE}function k(e){switch(e.regionType){case"national":return"province_lo-res.geojson";case"province":return{Limpopo:"lim_lo-res.geojson",Mpumalanga:"mp_lo-res.geojson",Gauteng:"gt_lo-res.geojson","KwaZulu-Natal":"kzn_lo-res.geojson","North West":"nw_lo-res.geojson","Free State":"fs_lo-res.geojson","Eastern Cape":"ec_lo-res.geojson","Northern Cape":"nc_lo-res.geojson","Western Cape":"wc_lo-res.geojson"}[e.provinceName];case"municipality":return e.muniCode+".geojson";case"municipality-vd":return"vd-data/"+e.muniCode+"-"+e.iecId+".geojson";default:return null}}},1:function(e,n){},2:function(e,n){}}]);
//# sourceMappingURL=src-components-quickresults~src-components-race-for-seats~src-components-race-for-votes~src-componen~3364f670.737aa0c8f4abe2142871.js.map