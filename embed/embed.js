!function(e){function t(t){for(var a,i,s=t[0],c=t[1],u=t[2],m=0,p=[];m<s.length;m++)i=s[m],r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={0:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([144,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74]),n()}({10:function(e,t,n){var a=n(97);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(26)(a,r);a.locals&&(e.exports=a.locals)},122:function(e,t,n){(e.exports=n(25)(!1)).push([e.i,"text {\n    user-select: none;\n}\n.ELVIZ_map-title {\n    font-weight: bold;\n    text-align: center;\n}\n\n.ELVIZ_loading-spinner {\n    position: absolute;\n    left: calc(50% - 50px);\n    top: calc(50% - 50px);\n}\n\n.ELVIZ_tooltip {\t\n    position: absolute;\t\t\t\n    text-align: center;\t\t\t\t\n    display: inline-block;\t\t\n    padding: 4px;\t\t\t\t\n    font: 12px sans-serif;\t\t\n    background: white;\t\n    display: inline-block;\n    border: 0px;\t\t\n    border-radius: 3px;\t\t\t\n    pointer-events: none;\t\t\t\n}\n\n.map-widget.ELVIZ_stylesheet-tv {\n  background: rgb(0, 53, 97);\n  color: white;\n  overflow: hidden;\n}\n\n.map-widget.ELVIZ_stylesheet-tv a{\n  color: white;\n}\n.map-widget.ELVIZ_stylesheet-tv a:hover{\n  color: white;\n}\n\n.map-widget.ELVIZ_stylesheet-tv .legend {\n    fill: white;\n}\n\n.map-widget.ELVIZ_stylesheet-tv .legend text{\n    fill: white;\n}\n\n.map-widget.ELVIZ_stylesheet-web a{\n  color: black;\n}\n\n.map-widget.ELVIZ_stylesheet-none a{\n  color: black;\n}\n\n.map-widget.ELVIZ_stylesheet-web a:hover{\n  color: purple;\n}\n\n.map-widget.ELVIZ_stylesheet-none a:hover{\n  color: purple;\n}",""])},123:function(e,t,n){(e.exports=n(25)(!1)).push([e.i,".ELVIZ_tooltip {\t\n    position: absolute;\t\t\t\n    text-align: center;\t\t\t\t\n    display: inline-block;\t\t\n    padding: 4px;\t\t\t\t\n    font: 12px sans-serif;\t\t\n    background: white;\t\n    display: inline-block;\n    border: 0px;\t\t\n    border-radius: 3px;\t\t\t\n    pointer-events: none;\t\t\t\n  }\n\n  .barchart-map.ELVIZ_stylesheet-tv {\n    background: rgb(0, 53, 97);\n    color: white;\n    overflow: hidden;\n  }",""])},124:function(e,t,n){(e.exports=n(25)(!1)).push([e.i,'.ELVIZ_tooltip {\t\n    position: absolute;\t\t\t\n    text-align: center;\t\t\t\t\n    display: inline-block;\t\t\n    padding: 4px;\t\t\t\t\n    font: 12px sans-serif;\t\t\n    background: white;\t\n    display: inline-block;\n    border: 0px;\t\t\n    border-radius: 3px;\t\t\t\n    pointer-events: none;\t\t\t\n}\n.ELVIZ_component-transition-menu {\n  padding: 15px;\n}\n.ELVIZ_component-transition-menu .label {\n  font-size: 12px;\n  line-height: 45px;\n}\n\n.ELVIZ_component-transition-menu button {\n  font-size: 14px;\n  height: 45px;\n  border-radius: 4px;\n  width: 100%;\n  outline: none;\n  color: black;\n}\n\n.ELVIZ_component-transition-menu button.active {\n  border: solid green 1px;\n}\n\n.quickresultswidget.ELVIZ_stylesheet-tv {\n  background: rgb(0, 53, 97);\n  color: white;\n  overflow: hidden;\n}\n\n.ELVIZ_row {\n  margin-right: -15px;\n  margin-left: -15px;\n}\n\n.ELVIZ_row::before {\n  display: table;\n  content: " ";\n}\n\n.ELVIZ_row::after {    \n  clear: both;\n  display: table;\n  content: " ";\n}\n\n@media (min-width: 992px) {\n  .ELVIZ_col-md-2 {\n    width: 14%;\n    float: left;\n    position: relative;\n    min-height: 1px;\n    padding-right: 15px;\n    padding-left: 15px;\n  }\n  \n  .ELVIZ_col-md-4 {\n    width: 32%;\n    float: left;\n    position: relative;\n    min-height: 1px;\n    padding-right: 15px;\n    padding-left: 15px;\n  }\n  \n  .ELVIZ_col-md-8 {\n    width: 62%;\n    float: left;\n    position: relative;\n    min-height: 1px;\n    padding-right: 15px;\n    padding-left: 15px;\n  }\n}',""])},125:function(e,t,n){(e.exports=n(25)(!1)).push([e.i,".ELVIZ_chart-title {\n    font-weight: bold;\n    text-align: center;\n}\n\n.piechart.ELVIZ_stylesheet-tv {\n  background: rgb(0, 53, 97);\n  color: white;\n  overflow: hidden;\n}\n\n.piechart.ELVIZ_stylesheet-tv svg {\n  color: white;\n}\n.piechart.ELVIZ_stylesheet-tv text {\n  fill: white;\n  color: white;\n}",""])},142:function(e,t,n){(e.exports=n(25)(!1)).push([e.i,".ELVIZ_menu-widget {\n    max-height: 80vh;\n    overflow-y: scroll;\n}\n\n.ELVIZ_menu-widget::-webkit-scrollbar-track\n{\n\tbackground-color: transparent;\n}\n\n.ELVIZ_menu-widget::-webkit-scrollbar\n{\n\twidth: 6px;\n\tbackground-color: transparent;\n}\n\n.ELVIZ_menu-widget::-webkit-scrollbar-thumb\n{\n\tbackground-color: #000000;\n}",""])},143:function(e,t,n){(e.exports=n(25)(!1)).push([e.i,".ELVIZ_chart-title {\n  font-weight: bold;\n  text-align: center;\n}\n\n.ELVIZ_tooltip {\t\n  position: absolute;\t\t\t\n  text-align: center;\t\t\t\t\n  display: inline-block;\t\t\n  padding: 4px;\t\t\t\t\n  font: 12px sans-serif;\t\t\n  background: white;\t\n  display: inline-block;\n  border: 0px;\t\t\n  border-radius: 3px;\t\t\t\n  pointer-events: none;\t\t\t\n}\n\n.horseshoechart.ELVIZ_stylesheet-tv {\n  background: rgb(0, 53, 97);\n  color: white;\n  overflow: hidden;\n}\n\n.horseshoechart.ELVIZ_stylesheet-tv svg {\n  color: white;\n}\n.horseshoechart.ELVIZ_stylesheet-tv text {\n  fill: white;\n  color: white;\n}",""])},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),i=n.n(o),s=n(2),c=n(10),u=n.n(c),l={DOMAIN:"https://sabc-eds.github.io/elections-dataviz",CSS_PREFIX:"ELVIZ_"};function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return 0==t?0:(e/t*100).toFixed(2)}function v(e,t){for(var n=t.regionType,a=("national"==n?e.data.allBallots.edges:"province"==n?e.data.allProvincialBallots.edges:"municipality"==n?e.data.allMunicipalBallots.edges:e.data.allVotingDistrictBallots.edges).map(function(e){var n=e.node,r=n.partyResults||n.topResult,o=(a=r.edges.filter(function(e){return e.node.party.abbreviation==t.partyAbbr}))[0];if(o){var i=o.node;return{name:n.event.description,percOfVotes:i.percOfVotes,partyInfo:i.party}}return{name:n.event.description,percOfVotes:0,partyInfo:{name:t.partyAbbr,abbreviation:t.partyAbbr}}}).filter(function(e){return-1!=t.eventDescriptions.indexOf(e.name)}).reverse(),r=[],o=0;o<t.eventDescriptions.length;o++){for(var i=!1,s=0;s<a.length;s++)if(a[s].name==t.eventDescriptions[o]){i=!0;r.push(a[s]);break}i||r.push({name:t.eventDescriptions[o],percOfVotes:0,partyInfo:{name:t.partyAbbr,abbreviation:t.partyAbbr}})}return r}function f(e,t){return t.partyAbbrs.map(function(n){var a=m({},t);return a.partyAbbr=n,{partyAbbr:n,data:v(e,a)}})}function h(e,t){if(!e)return null;var n=e.data.allSeatCalculations.edges,a=t.regionType;return n.map(function(e){var t=e.node;return{seats:"national"===a?t.nationalPr+t.regional:t.regional,name:t.party.abbreviation,partyInfo:t.party}}).slice(0,t.numParties)}function y(e,t){if(!e)return null;for(var n=e.data.allSeatCalculations.edges,a=t.regionType,r=n.map(function(e){var t=e.node;return{seats:"national"===a?t.nationalPr+t.regional:t.regional,name:t.party.event.description,partyInfo:t.party}}).filter(function(e){return-1!=t.eventDescriptions.indexOf(e.name)}).filter(function(e){return e.partyInfo.abbreviation==t.partyAbbr}),o=[],i=0;i<t.eventDescriptions.length;i++){for(var s=!1,c=0;c<r.length;c++)if(r[c].name==t.eventDescriptions[i]){s=!0;o.push(r[c]);break}s||o.push({name:t.eventDescriptions[i],seats:0,partyInfo:{name:t.partyAbbr,abbreviation:t.partyAbbr}})}return o}function N(e,t){return t.partyAbbrs.map(function(n){var a=m({},t);return a.partyAbbr=n,{partyAbbr:n,data:y(e,a)}})}function g(e){function t(e){return-1!=e.indexOf(" - ")&&(e=e.split(" - ")[1]),-1!=e.indexOf("[")&&(e=e.split("[")[0]),e}return"national"==e.regionType?"South Africa":"province"==e.regionType?e.provinceName:"municipality"==e.regionType?t(e.muniName):"municipality-vd"==e.regionType?t(e.muniName)+"-"+e.iecId:void 0}function b(e){return"national"==e.regionType?"South Africa":e.provinceName}function C(e){var t=e(l.CSS_PREFIX+"tooltip");return document.getElementsByClassName(t)[0]?s.o(".".concat(t)):s.o("body").append("div").attr("class",t).style("opacity",0)}function E(){var e,t=document.getElementsByClassName("place-label"),n={},a={};for(e=0;e<t.length;e++)n[e]=t[e].getBoundingClientRect();for(e=0;e<t.length;e++){for(var r=0;r<e;r++){var o=n[e],i=n[r];!(o.right<i.left||o.left>i.right||o.bottom<i.top||o.top>i.bottom)&&(a[e]=a[e]?a[e]+1:1)}a[e]>2?t[e].setAttribute("opacity",0):a[e]>0&&(t[e].innerHTML=t[e].innerHTML.slice(0,3)+"...")}}function w(e,t){var n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}function P(e){return e.split("/")[0].toLowerCase().replace(/\b\w/g,function(e){return e.toUpperCase()})}function I(e,t){return"national"===t.regionType?e.SPROVINCE:"province"===t.regionType?e.smunicipal&&e.smunicipal.split(" - ")[1].split("[")[0]:e.Municipali?e.Municipali.split(" - ")[1].split("[")[0]:e.SMUNICIPAL&&e.SMUNICIPAL.split(" - ")[1].split("[")[0]}function A(e){return e.code||e.smunicipal&&e.smunicipal.split(" - ")[0].replace(/\s/g,"")}function x(e){return e.VDNumber||e.PKLVDNUMBE}function _(e){switch(e.regionType){case"national":return"province_lo-res.geojson";case"province":return function(e){return{Limpopo:"lim_lo-res.geojson",Mpumalanga:"mp_lo-res.geojson",Gauteng:"gt_lo-res.geojson","KwaZulu-Natal":"kzn_lo-res.geojson","North West":"nw_lo-res.geojson","Free State":"fs_lo-res.geojson","Eastern Cape":"ec_lo-res.geojson","Northern Cape":"nc_lo-res.geojson","Western Cape":"wc_lo-res.geojson"}[e]}(e.provinceName);case"municipality":return e.muniCode+".topojson";case"municipality-vd":return"vd-data/"+e.muniCode+"-"+e.iecId+".topojson";default:return null}}n(99);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,n,a,r){r||(r={}),r.chartType||(r.chartType="Race For Votes"),r.yAxisLabel||(r.yAxisLabel="PERCENTAGE VOTES"),r.yValue||(r.yValue=function(e){return e.percOfVotes}),r.yValueFormat||(r.yValueFormat=function(e){return e+"%"}),e.selectAll("svg").remove();var o=["blue","yellow","red"],i=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 770 220").classed("svg-content",!0),c=C(a),u=s.m().rangeRound([70,700]),m=s.n().rangeRound([200,20]);i.append("g").attr("transform","translate(20,110)").append("text").attr("class",a(l.CSS_PREFIX+"percentage-label")).attr("transform","rotate(-90)").text(r.yAxisLabel).attr("text-anchor","middle"),i.append("g").attr("class","x axis").attr("transform","translate(0,200)"),i.append("g").attr("class","y axis").attr("transform","translate(70, 0)");var p=i.append("g").attr("class",a("bar-container")),d=i.append("g").attr("class",a("bartext-container")),v=i.append("g").attr("transform","translate(350,100)").append("text").attr("text-anchor","middle");this.draw=function(e,t){if(e){v.text("");var n={};if(r.noXaxisByParty);else{var l=t;l&&l.data.allParties.edges&&l.data.allParties.edges.forEach(function(e){n[e.node.name]=e.node.colour})}u.domain(e.map(function(e){return e.name}));var f=[0,100];r.dynamicYAxisFromValues&&(f[1]=s.j(e,function(e){return r.yValue(e)})+1),m.domain(f),i.select(".x.axis").transition().duration(300).call(s.b(u)),i.select(".y.axis").transition().duration(300).call(s.c(m).ticks(6).tickFormat(function(e){return r.yValueFormat(e)}));var h=p.selectAll(".".concat(a("bar"))).data(e);h.exit().transition().duration(300).attr("y",function(e){return m(0)}).attr("height",0).style("fill-opacity",1e-6).remove(),h.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",function(e){return u(e.name)+u.bandwidth()/20}).attr("width",9*u.bandwidth()/10).attr("fill",function(e,t){return N(e,t)}).on("mousemove",function(e,t){s.o(this).attr("opacity",.8),c.transition().duration(200).style("opacity",.9),c.html(function(e,t){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(r.yValue(e)):P(e.partyInfo.name)+" : "+r.yValueFormat(r.yValue(e))}(e)).style("left",s.d.pageX+"px").style("top",s.d.pageY-28+"px")}).on("mouseout",function(e){s.o(this).attr("opacity",1),c.transition().duration(200).style("opacity",0)}).attr("y",function(e){return m(0)}).attr("height",0),p.selectAll(".".concat(a("bar"))).data(e).attr("fill",function(e,t){return N(e,t)}).transition().duration(300).attr("y",function(e){return m(Number(r.yValue(e)))}).attr("height",function(e){return 200-m(Number(r.yValue(e)))});var y=d.selectAll(".".concat(a("bartext"))).data(e);y.exit().transition().duration(300).attr("y",function(e){return m(0)-5}).style("fill-opacity",1e-6).remove(),y.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return u(e.name)+u.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","12px").attr("y",function(e){return m(0)-5}),d.selectAll(".".concat(a("bartext"))).data(e).text(function(e){return r.yValueFormat(r.yValue(e))}).transition().duration(300).attr("y",function(e){return m(Number(r.yValue(e)))-5})}else v.text("chart data is not available");function N(e,a){return r.noXaxisByParty?"object"==S(t)?t[e.name]:"function"==typeof t?t(e,a):t:function(e,t){return n[e.split("/")[0]]||o[t%o.length]}(e.partyInfo.name,a)}},this.destroy=function(){i.remove()}}var O=n(7),k=n.n(O),M={REGION_CHANGE:"region-change",CHART_PREVIEW:"chart-preview",MAP_PREVIEW:"map-preview",QUICK_RESULTS_PREVIEW:"quick-results-preview",EXPORT_PNG:"export-png"},G=n(6),R=n.n(G),L=n(154),D=n(79),V=n(155),W=new L.a({link:new D.a({uri:"https://elections2019.xyz/graphql",useGETForQueries:!0,headers:{"Content-Type":"application/graphql"}}),cache:new V.a});function F(){var e=B(['\n        {\n            allSeatCalculations(province_Name:"','", party_Event_Description:"','", orderBy:["-regional"]){\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        ']);return F=function(){return e},e}function Z(){var e=B(['\n        {\n            allSeatCalculations(party_Event_Description:"','", orderBy:["-national_pr"]){\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        ']);return Z=function(){return e},e}function j(){var e=B(['\n      {\n          allSeatCalculations(province_Name:"','", orderBy:["-regional"]){\n            edges{\n              node\n              {\n                nationalPr\n                regional\n                party{\n                  event {\n                    description\n                  }\n                  name\n                  abbreviation\n                }\n                province{\n                  name\n                }\n              }\n            }\n          }\n      }\n      ']);return j=function(){return e},e}function K(){var e=B(['\n      {\n          allSeatCalculations(\n            party_Event_Description_Icontains:"national",\n            orderBy:["-national_pr"]){\n            edges{\n              node\n              {\n                nationalPr\n                regional\n                party{\n                  event {\n                    description\n                  }\n                  name\n                  abbreviation\n                }\n                province{\n                  name\n                }\n              }\n            }\n          }\n      }\n      ']);return K=function(){return e},e}function B(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function U(e){return"national"==e.regionType?W.query({query:R()(K())}):W.query({query:R()(j(),e.provinceName)})}function z(e){var t=e.eventDescription;if(t)return"national"==e.regionType?W.query({query:R()(Z(),t)}):(t=(t=(t=t.replace("National","Provincial")).replace("NATIONAL","PROVINCIAL")).replace("national","provincial"),W.query({query:R()(F(),e.provinceName,t)}))}function H(){var e=re(['\n          {\n            topPartiesByVotingDistrict(\n              location_Ward_Municipality_Province_Country_Event_Description:"','", \n              location_Ward_Municipality_Province_Name:"','",\n              location_Ward_Municipality_Code: "','"\n            ) {\n              \n              edges {\n                node {\n                  location{\n                    iecId\n                  }\n                  topParty{\n                    party{\n                      name\n                      abbreviation\n                    }\n                  }\n                }\n              }\n            }\n          }\n          ']);return H=function(){return e},e}function q(){var e=re(['\n        {\n          topPartiesByMunicipality(\n            location_Province_Country_Event_Description:"','", \n            location_Province_Name:"','") {\n            \n            edges {\n              node {\n                location{\n                    code\n                    name\n                    longName\n                }\n                totalVotesCast\n                topParty{\n                  party {               \n                    name\n                    abbreviation\n                  }\n                  validVotes\n                  percOfVotes\n                }\n              }\n            }\n          }\n        }\n        ']);return q=function(){return e},e}function X(){var e=re(['\n        {\n          topPartiesByProvince(location_Country_Event_Description:"','") {\n            edges {\n              node {\n                location{\n                  id\n                  name\n                }\n                totalVotesCast\n                topParty{\n                  validVotes\n                  percOfVotes\n                  party {\n                      id\n                      name\n                      abbreviation\n                  }\n                }\n              }\n            }\n          }\n        }\n        ']);return X=function(){return e},e}function Y(){var e=re(['\n        {\n          allVotingDistrictBallots(\n            event_Description:"','",\n            location_IecId:"','", \n            location_Ward_Municipality_Code:"','"\n          ) {\n            edges{\n              node{\n                location {\n                  iecId\n                }\n                partyResults {\n                  edges{\n                    node{\n                      party{\n                        name\n                        abbreviation\n                      }\n                      percOfVotes\n                    }\n                  }  \n                }\n              }\n            }\n          }\n        }\n        ']);return Y=function(){return e},e}function J(){var e=re(['\n        {\n          allMunicipalBallots(\n            event_Description:"','",\n            location_Province_Name:"','", \n            location_Code: "','"\n          ) {\n            edges{\n              node {\n                partyResults {\n                  edges{\n                    node{\n                      party {               \n                        name\n                        abbreviation\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }\n                  \n                }\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        ']);return J=function(){return e},e}function Q(){var e=re(['\n        {\n          allProvincialBallots(\n            event_Description:"','",\n            location_Name:"','"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                      }\n                    }\n                  }\n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return Q=function(){return e},e}function $(){var e=re(['\n        {\n          allBallots(\n            event_Description:"','"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                      }\n                    }\n                  }\n                  \n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return $=function(){return e},e}function ee(){var e=re(['\n      {\n        allVotingDistrictBallots(\n          location_IecId:"','", \n          location_Ward_Municipality_Code:"','"\n        ) {\n          edges{\n            node{\n              event {\n                description\n              }\n              location {\n                iecId\n              }\n              partyResults {\n                edges{\n                  node{\n                    party{\n                      name\n                    }\n                    percOfVotes\n                  }\n                }  \n              }\n            }\n          }\n        }\n      }\n      ']);return ee=function(){return e},e}function te(){var e=re(['\n      {\n        allMunicipalBallots(\n          location_Province_Name:"','", \n          location_Code: "','"\n        ) {\n          edges{\n            node {\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    party {               \n                      name\n                      abbreviation\n                    }\n                    validVotes\n                    percOfVotes\n                  }\n                }\n                \n              }\n              location {\n                code\n                name\n                longName\n              }\n            }\n          }\n        }\n      }\n      ']);return te=function(){return e},e}function ne(){var e=re(['\n      {\n        allProvincialBallots(\n          location_Name:"','"\n        ){\n          edges{\n            node{\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    percOfVotes\n                    party {\n                      name\n                      abbreviation\n                    }\n                  }\n                }\n              }\n              location {\n                name\n              }\n            }\n          }\n        }\n      }\n      ']);return ne=function(){return e},e}function ae(){var e=re(["\n      {\n        allBallots{\n          edges{\n            node{\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    percOfVotes\n                    party {\n                      name\n                      abbreviation\n                    }\n                  }\n                }\n              }\n              location {\n                name\n              }\n            }\n          }\n        }\n      }\n      "]);return ae=function(){return e},e}function re(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function oe(e){if("national"==e.regionType)return W.query({query:R()(ae())});if("province"==e.regionType)return W.query({query:R()(ne(),e.provinceName)});if("municipality"==e.regionType){var t=e.muniCode||e.muniName.split(" - ")[0];return W.query({query:R()(te(),e.provinceName,t)})}return"municipality-vd"==e.regionType?W.query({query:R()(ee(),e.iecId,e.muniCode)}):void 0}function ie(){var e=de(['\n          {\n            allVotingDistrictBallots(\n                location_IecId:"','", \n                location_Ward_Municipality_Code:"','"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return ie=function(){return e},e}function se(){var e=de(['\n          {\n            allMunicipalBallots( \n                location_Province_Name:"','", \n                location_Code: "','"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return se=function(){return e},e}function ce(){var e=de(['\n        {\n          allProvincialBallots(\n            location_Name:"','"\n          ) {\n            edges{\n              node {\n                event {\n                  description\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        ']);return ce=function(){return e},e}function ue(){var e=de(["\n        {\n          allBallots{\n            edges{\n              node{\n                event {\n                  description\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        "]);return ue=function(){return e},e}function le(){var e=de(['\n          {\n            allVotingDistrictBallots( \n            event_Description:"','",\n            location_Ward_Municipality_Name_Icontains:"','") {\n              edges{\n                node{\n                  location {\n                    iecId\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return le=function(){return e},e}function me(){var e=de(['\n        {\n          allMunicipalBallots(\n            event_Description:"','",\n            location_Province_Name:"','"\n          ) {\n            edges{\n              node {\n                percVoterTurnout\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        ']);return me=function(){return e},e}function pe(){var e=de(['\n        {\n          allProvincialBallots(\n            event_Description:"','"\n          ){\n            edges{\n              node{\n                percVoterTurnout\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return pe=function(){return e},e}function de(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ve(){var e=Ne(['\n          {\n            allVotingDistrictBallots(\n                event_Description:"','",\n                location_IecId:"','", \n                location_Ward_Municipality_Code:"','"\n            ) {\n              edges{\n                node{\n                  location {\n                    iecId\n                  }\n                  spoiltVotes\n                  totalVotesCast\n                  totalValidVotes\n                }\n              }\n            }\n          }\n          ']);return ve=function(){return e},e}function fe(){var e=Ne(['\n          {\n            allMunicipalBallots( \n                event_Description:"','",\n                location_Province_Name:"','", \n                location_Code: "','"\n            ) {\n              edges{\n                node{\n                  location {\n                    code\n                    name\n                    longName\n                  }\n                  spoiltVotes\n                  totalVotesCast\n                  totalValidVotes\n                }\n              }\n            }\n          }\n          ']);return fe=function(){return e},e}function he(){var e=Ne(['\n        {\n          allProvincialBallots(\n            event_Description:"','",\n            location_Name:"','"\n          ) {\n            edges{\n              node {\n                spoiltVotes\n                totalVotesCast\n                totalValidVotes\n                location {\n                    id\n                    name\n                }\n              }\n            }\n          }\n        }\n        ']);return he=function(){return e},e}function ye(){var e=Ne(['\n        {\n          allBallots(\n            event_Description:"','"\n          ){\n            edges{\n              node{\n                spoiltVotes\n                totalVotesCast\n                totalValidVotes\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return ye=function(){return e},e}function Ne(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ge(){var e=we(['\n        {\n          allVotingDistrictBallots(\n            event_Description:"','",\n            location_IecId:"','", \n            location_Ward_Municipality_Code:"','"\n          ) {\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return ge=function(){return e},e}function be(){var e=we(['\n        {\n          allMunicipalBallots(\n            event_Description:"','",\n            location_Province_Name:"','", \n            location_Code: "','"\n          ) {\n            edges{\n              node {\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return be=function(){return e},e}function Ce(){var e=we(['\n        {\n          allProvincialBallots(\n            event_Description:"','",\n            location_Name:"','"\n          ){\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return Ce=function(){return e},e}function Ee(){var e=we(['\n        {\n          allBallots(\n            event_Description:"','"\n          ){\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return Ee=function(){return e},e}function we(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Pe(){var e=Ie(["\n    {\n      allParties {\n        edges{\n          node{\n            name\n            abbreviation\n            colour\n          }\n        }\n      }\n    }\n    "]);return Pe=function(){return e},e}function Ie(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ae(){return W.query({query:R()(Pe())})}function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ke;function Me(e){return u.a[e]||e}function Ge(e){return Me(l.CSS_PREFIX+e)}var Re="Race For Votes",Le=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);Oe(Oe(n=function(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?Oe(e):t}(this,Se(t).call(this,e))));return n.state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:1},e.numParties&&(n.state.numParties=e.numParties),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.componentID&&(n.state.componentID=e.componentID),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Oe(Oe(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Oe(Oe(n))),n.handleRegionChange=n.handleRegionChange.bind(Oe(Oe(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Oe(Oe(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,a["Component"]),function(e,t,n){t&&_e(e.prototype,t),n&&_e(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null),document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-barchart(".concat(g(this.state),").png"))}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new T(this.getContainer(),null,null,Me),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:Me("barchart")+" "+Ge("stylesheet-".concat(e))},r.a.createElement("div",{className:Ge("chart-title")},Re," (",g(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:Me("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[function(e){var t=e.eventDescription;if(t){if("national"==e.regionType)return W.query({query:R()($(),t)});if("province"==e.regionType)return W.query({query:R()(Q(),t,e.provinceName)});if("municipality"==e.regionType){var n=e.muniCode||e.muniName.split(" - ")[0];return W.query({query:R()(J(),t,e.provinceName,n)})}return"municipality-vd"==e.regionType?W.query({query:R()(Y(),t,e.iecId,e.muniCode)}):void 0}}(t)];if(!ke){var r=Ae();a.push(r)}Promise.all(a).then(function(a){var r=a[0];ke=ke||a[1],n.drawGraph(e,t,r,ke)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=function(e,t){var n,a=t.regionType;if(!(n="national"==a?e.data.allBallots.edges[0]:"province"==a?e.data.allProvincialBallots.edges[0]:"municipality"==a?e.data.allMunicipalBallots.edges[0]:e.data.allVotingDistrictBallots.edges[0]))return console.error("party data is empty!!"),null;var r=n.node;return(r.partyResults||r.topResult).edges.sort(function(e,t){return t.node.percOfVotes-e.node.percOfVotes}).slice(0,t.numParties).map(function(e){var t=e.node;return{name:t.party.abbreviation,validVotes:t.validVotes,percOfVotes:t.percOfVotes,partyInfo:t.party}})}(n,t);this.chart||(this.chart=new T(e,null,null,Me)),this.chart.draw(r,a)}}]),t}();function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var je,Ke={chartType:"Race For Seats",yAxisLabel:"Seats Count",dynamicYAxisFromValues:!0,yValue:function(e){return e.seats},yValueFormat:function(e){return e}};function Be(e){return u.a[e]||e}function Ue(e){return Be(l.CSS_PREFIX+e)}var ze=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?Ze(e):t}(this,We(t).call(this,e))).state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:6},e.numParties&&(n.state.numParties=e.numParties),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Ze(Ze(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Ze(Ze(n))),n.handleRegionChange=n.handleRegionChange.bind(Ze(Ze(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Ze(Ze(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,a["Component"]),function(e,t,n){t&&Ve(e.prototype,t),n&&Ve(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-barchart(".concat(b(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new T(this.getContainer(),null,null,Be,Ke),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:Be("barchart")+" "+Ue("stylesheet-".concat(e))},r.a.createElement("div",{className:Ue("chart-title")},Ke.chartType," (",b(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:Be("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[z(t)];if(!je){var r=Ae();a.push(r)}Promise.all(a).then(function(a){var r=a[0];je=je||a[1],n.drawGraph(e,t,r,je)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=h(n,t);this.chart||(this.chart=new T(e,null,null,Be,Ke)),this.chart.draw(r,a)}}]),t}();function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Qe={chartType:"Spoilt vs Valid Votes",yAxisLabel:"PERCENTAGE VOTES",noXaxisByParty:!0,yValue:function(e){return e.percent},yValueFormat:function(e){return e+"%"}};function $e(e){return u.a[e]||e}function et(e){return $e(l.CSS_PREFIX+e)}var tt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);Je(Je(n=function(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?Je(e):t}(this,Xe(t).call(this,e))));return n.state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:9},e.numParties&&(n.state.numParties=e.numParties),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Je(Je(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Je(Je(n))),n.handleRegionChange=n.handleRegionChange.bind(Je(Je(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Je(Je(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,a["Component"]),function(e,t,n){t&&qe(e.prototype,t),n&&qe(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"spoilt-barchart(".concat(g(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new T(this.getContainer(),null,null,$e,Qe),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:$e("barchart")+" "+et("stylesheet-".concat(e))},r.a.createElement("div",{className:et("chart-title")},Qe.chartType," (",g(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:$e("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[function(e){var t=e.eventDescription;if(t){if("national"==e.regionType)return W.query({query:R()(ye(),t)});if("province"==e.regionType)return W.query({query:R()(he(),t,e.provinceName)});if("municipality"==e.regionType){var n=e.muniCode||e.muniName.split(" - ")[0];return W.query({query:R()(fe(),t,e.provinceName,n)})}return"municipality-vd"==e.regionType?W.query({query:R()(ve(),t,e.iecId,e.muniCode)}):void 0}}(t)];Promise.all(a).then(function(a){var r=a[0];n.drawGraph(e,t,r)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n){var a=function(e,t){var n,a=t.regionType;if(!(n="national"==a?e.data.allBallots.edges[0]:"province"==a?e.data.allProvincialBallots.edges[0]:"municipality"==a?e.data.allMunicipalBallots.edges[0]:e.data.allVotingDistrictBallots.edges[0]))return console.error("spoilt data is empty!!"),null;var r=n.node;return[{name:"Valid",percent:d(r.totalValidVotes,r.totalVotesCast)},{name:"Spoilt",percent:d(r.spoiltVotes,r.totalVotesCast)}]}(n,t);this.chart||(this.chart=new T(e,null,null,$e,Qe)),this.chart.draw(a,{Valid:"rgb(0,255,0)",Spoilt:"rgb(255,0,0)"})}}]),t}(),nt=n(34),at=n(33),rt=n.n(at),ot=n(42),it=n.n(ot),st=n(43),ct=n.n(st);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vt,ft="#9c9c9c";function ht(e){return it.a[e]||e}function yt(e){return ht(l.CSS_PREFIX+e)}var Nt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?dt(e):t}(this,mt(t).call(this,e))).state={disableNavigation:!1,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:3},e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.componentID&&(n.state.componentID=e.componentID),e.disableNavigation&&(n.state.disableNavigation=e.disableNavigation),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),n.exportAsPNGUri=n.exportAsPNGUri.bind(dt(dt(n))),n.exportAsPNG=n.exportAsPNG.bind(dt(dt(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(dt(dt(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,a["Component"]),function(e,t,n){t&&lt(e.prototype,t),n&&lt(e,n)}(t,[{key:"draw",value:function(e,t){this.drawGraph(e,t)}},{key:"componentDidMount",value:function(){this.draw(this.getContainer(),this.state),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentWillUnmount",value:function(){this.getContainer().selectAll("svg").remove(),document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){var a=950,r=890,o=document.createElement("canvas");o.setAttribute("width",a),o.setAttribute("height",r),window.canvg(o,e.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:a,scaleHeight:r}),t(o.toDataURL("image/png;base64").split(",")[1])})}},{key:"exportAsPNG",value:function(e){if(e.detail.componentID==this.state.componentID){var t=950,n=890,a=document.createElement("canvas");if(a.setAttribute("width",t),a.setAttribute("height",n),!window.canvg)return console.error("canvg module not available");window.canvg(a,this.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:t,scaleHeight:n});var r,o=a,i="race-for-votes-map(".concat(g(this.state),").png"),s=document.createElement("a");s.download=i,s.href=o.toDataURL("image/png;base64"),document.createEvent?((r=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(r)):s.fireEvent&&s.fireEvent("onclick")}}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"getLoadingSpinner",value:function(){return s.o(this.refs.loading)}},{key:"render",value:function(){var e=this.state,t=(e.disableNavigation,e.stylesheetFor);return r.a.createElement("div",{className:ht("map-widget")+" "+yt("stylesheet-".concat(t))},r.a.createElement("div",{className:yt("map-title")},g(this.state)),r.a.createElement("div",{ref:"vizcontainer",className:ht("map")}),r.a.createElement("div",{className:yt("loading-spinner"),ref:"loading"},r.a.createElement(ct.a,{type:"spin",color:"#777",height:100,width:100})))}},{key:"drawGraph",value:function(e,t){var n=this,a=this,r=l.DOMAIN+"/mapdata/"+_(a.state);a.getLoadingSpinner().style("display","block").transition().duration(200).style("opacity",1);var o=C(ht),i=800;e.selectAll("svg").remove();var c=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 950 "+(i+90)).classed("svg-content",!0),u=[s.i(r),function(e){var t=e.eventDescription;if(t)return"national"==e.regionType?W.query({query:R()(X(),t)}):"province"==e.regionType?W.query({query:R()(q(),t,e.provinceName)}):(e.muniName.split(" - ")[1],W.query({query:R()(H(),t,e.provinceName,e.muniCode)}))}(t)];if(!vt){var m=Ae();u.push(m)}Promise.all(u).then(function(e){var n,u=e[0],l=function(e,t){if(!e)return null;var n={},a=t.regionType;return"national"===a?e.data.topPartiesByProvince.edges.forEach(function(e){var t=e.node,a=t.location.name,r=t.topParty.party.name;n[a]=r}):"province"===a?e.data.topPartiesByMunicipality.edges.forEach(function(e){var t=e.node,a=t.location.code,r=t.topParty.party.name;n[a]=r}):e.data.topPartiesByVotingDistrict.edges.forEach(function(e){var t=e.node,a=t.location.iecId,r=t.topParty.party.name;n[a]=r}),n}(e[1],t),m={},p={};function d(e){return e&&m[e.split("/")[0]]||ft}function v(e,t){var n,r=a.state.regionType;if("national"===r){var o=e.properties.SPROVINCE;n=l[o]}else if("province"===r){var i=A(e.properties);n=l[i]}else if("municipality"===r){var s=x(e.properties);n=l[s]}else{s=x(e.properties);n=l[s]}return n}if((vt=vt||e[2])&&vt.data.allParties.edges&&vt.data.allParties.edges.forEach(function(e){m[e.node.name]=e.node.colour,p[e.node.name]=e.node.abbreviation}),-1!==r.indexOf(".topojson"))if("municipality"==(b=a.state.regionType)){if(!u.objects[a.state.muniCode])return;u=nt.a(u,u.objects[a.state.muniCode])}else{if(!u.objects[a.state.iecId])return;u=nt.a(u,u.objects[a.state.iecId])}n=u.features;var f=s.f().fitSize([900,i],u),h=s.g().projection(f);c.selectAll(".".concat(ht("region"))).data(n).enter().append("path").attr("class",ht("region")).attr("stroke","#eeeeee").attr("fill",function(e,t){return d(v(e))}).attr("id",function(e,t){return"region-".concat(t)}).attr("d",h);var y=[],N=[];n.forEach(function(e,t){var n=v(e);-1==y.indexOf(n)?(y.push(n),N.push(1)):N[y.indexOf(n)]++}),y.sort(function(e,t){return N[y.indexOf(t)]-N[y.indexOf(e)]});var g=c.selectAll(".".concat(ht("legend"))).data(y).enter().append("g").attr("class",ht("legend")).attr("transform",function(e,t){return"translate("+function(e){return[e%5*150,i+10+40*parseInt(e/5)]}(t)+")"});if(g.append("rect").attr("width",20).attr("height",20).attr("x",0).attr("y",0).attr("fill",function(e,t){return d(e)}),g.append("text").attr("x",30).attr("y",16).text(function(e){return p[e]}),-1==a.state.regionType.indexOf("municipality")&&c.selectAll(".place-label").data(n).enter().append("text").attr("class","place-label").attr("font-size","12px").attr("transform",function(e){var t,n;return"Polygon"===e.geometry.type?(t=rt()(e.geometry.coordinates),(n=f(t))[1]-=12,"translate("+n+")"):(t=rt()(e.geometry.coordinates[0]),(n=f(t))[1]-=5,"translate("+n+")")}).attr("dy",".35em").style("text-anchor","middle").text(function(e){return I(e.properties,a.state)}),-1==a.state.regionType.indexOf("municipality")&&E(),c.selectAll(".eventLayer").data(n).enter().append("path").attr("d",h).attr("class","eventLayer").attr("id",function(e,t){return"eventLayer-".concat(t)}).attr("fill","transparent").on("mouseover",function(e,t){s.o("#region-".concat(t)).attr("stroke-width",3).style("fill-opacity",.8)}).on("mousemove",function(e,t){"municipality"!==a.state.regionType&&(o.transition().duration(200).style("opacity",1),o.html(I(e.properties,a.state)+" : "+v(e)).style("left",s.d.pageX+"px").style("top",s.d.pageY-28+"px"))}).on("mouseout",function(e,t){s.o("#region-".concat(t)).attr("stroke-width",1).style("fill-opacity",1),"municipality"!==a.state.regionType&&o.transition().duration(200).style("opacity",0)}).on("click",function(e,t){if(!a.state.disableNavigation){o.transition().duration(200).style("opacity",0);var n=a.state.regionType;if("national"===n)r={regionType:"province",provinceName:e.properties.SPROVINCE},w(M.REGION_CHANGE,r),a.setState(r);else if("province"===n)r={regionType:"municipality",provinceName:a.state.provinceName,muniName:e.properties.smunicipal,muniCode:A(e.properties)},w(M.REGION_CHANGE,r),a.setState(r);else{var r={regionType:"municipality-vd",provinceName:a.state.provinceName,muniName:a.state.muniName,muniCode:a.state.muniCode,iecId:x(e.properties)};w(M.REGION_CHANGE,r),a.setState(r)}}}),!a.state.disableNavigation){var b,C=function(e,t,n){n&&e.append("span").html(" > "),e.append("span").style("height","30px").style("cursor","default").html(t)},P=function(e,t,n,r){r&&e.append("span").html(" > "),e.append("a").style("height","30px").style("cursor","pointer").html(t).on("click",function(){!function(e){var t;(t={regionType:a.state.regionType,provinceName:a.state.provinceName,muniName:a.state.muniName,muniImuniCodeD:a.state.muniCode,iecId:a.state.iecId}).regionType=e,w(M.REGION_CHANGE,t),a.setState(t)}(n)})},_=c.append("foreignObject").attr("x",0).attr("y",10).attr("width",500).attr("height",30).attr("class","map-controls").append("xhtml:div");"national"==(b=a.state.regionType)?C(_,"South Africa",!1):(P(_,"South Africa","national",!1),"province"==b?C(_,a.state.provinceName,!0):(P(_,a.state.provinceName,"province",!0),"municipality"==b?C(_,a.state.muniCode,!0):(P(_,a.state.muniCode,"municipality",!0),C(_,a.state.iecId,!0))))}a.getLoadingSpinner().style("display","none")}).catch(function(e){console.error(e),a.getLoadingSpinner().style("display","none");var t=g(n.state),r=a.state.regionType,o={regionType:a.state.regionType,provinceName:a.state.provinceName,muniName:a.state.muniName,muniImuniCodeD:a.state.muniCode,iecId:a.state.iecId};"province"===r?o.regionType="national":"municipality"===r?o.regionType="province":"municipality-vd"===r&&(o.regionType="municipality"),w(M.REGION_CHANGE,o),a.setState(o),setTimeout(function(){alert("".concat(t," has been disestablished"))},300)})}}]),t}();function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e){return it.a[e]||e}function It(e){return Pt(l.CSS_PREFIX+e)}var At=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?wt(e):t}(this,Ct(t).call(this,e))).state={disableNavigation:!1,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:11},e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),e.disableNavigation&&(n.state.disableNavigation=e.disableNavigation),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),n.exportAsPNGUri=n.exportAsPNGUri.bind(wt(wt(n))),n.exportAsPNG=n.exportAsPNG.bind(wt(wt(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(wt(wt(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,a["Component"]),function(e,t,n){t&&bt(e.prototype,t),n&&bt(e,n)}(t,[{key:"draw",value:function(e,t){this.drawGraph(e,t)}},{key:"componentDidMount",value:function(){this.draw(this.getContainer(),this.state),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentWillUnmount",value:function(){this.getContainer().selectAll("svg").remove(),document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){var a=950,r=890,o=document.createElement("canvas");if(o.setAttribute("width",a),o.setAttribute("height",r),!window.canvg)return n("canvg module not available");window.canvg(o,e.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:a,scaleHeight:r}),t(o.toDataURL("image/png;base64").split(",")[1])})}},{key:"exportAsPNG",value:function(e){if(e.detail.componentID==this.state.componentID){var t=950,n=890,a=document.createElement("canvas");if(a.setAttribute("width",t),a.setAttribute("height",n),!window.canvg)return console.error("canvg module not available");window.canvg(a,this.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:t,scaleHeight:n});var r,o=a,i="turnout-map(".concat(g(this.state),").png"),s=document.createElement("a");s.download=i,s.href=o.toDataURL("image/png;base64"),document.createEvent?((r=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(r)):s.fireEvent&&s.fireEvent("onclick")}}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"getLoadingSpinner",value:function(){return s.o(this.refs.loading)}},{key:"render",value:function(){var e=this.state,t=(e.disableNavigation,e.stylesheetFor);return r.a.createElement("div",{className:Pt("map-widget")+" "+It("stylesheet-".concat(t))},r.a.createElement("div",{className:It("map-title")},g(this.state)),r.a.createElement("div",{ref:"vizcontainer",className:Pt("map")}),r.a.createElement("div",{className:It("loading-spinner"),ref:"loading"},r.a.createElement(ct.a,{type:"spin",color:"#777",height:100,width:100})))}},{key:"drawGraph",value:function(e,t){var n=this,a=this,r=l.DOMAIN+"/mapdata/"+_(a.state);a.getLoadingSpinner().style("display","block").transition().duration(200).style("opacity",1);var o=C(Pt),i=800;e.selectAll("svg").remove();var c=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 950 "+(i+90)).classed("svg-content",!0),u=[s.i(r),function(e){var t=e.eventDescription;if(t){if("national"==e.regionType)return W.query({query:R()(pe(),t)});if("province"==e.regionType)return W.query({query:R()(me(),t,e.provinceName)});var n=e.muniName.split(" - ")[1];return W.query({query:R()(le(),t,n)})}}(t)];Promise.all(u).then(function(e){var n,u=e[0],l=function(e,t){if(!e)return null;var n={},a=t.regionType;return"national"===a?e.data.allProvincialBallots.edges.forEach(function(e){var t=e.node,a=t.location.name,r=t.percVoterTurnout;n[a]=r}):"province"===a?e.data.allMunicipalBallots.edges.forEach(function(e){var t=e.node,a=t.location.code,r=t.percVoterTurnout;n[a]=r}):e.data.allVotingDistrictBallots.edges.forEach(function(e){var t=e.node,a=t.location.iecId,r=t.percVoterTurnout;n[a]=r}),n}(e[1],t);function m(e){return e>65?"#39711D":e>=60?"#458923":e>=55?"#53B025":e>=50?"#4BDC02":e>=45?"#7CE547":e>=40?"#93E968":e>=35?"#A6ED83":e>=30?"#C5F3AF":"#D3F6C3"}function p(e,t){var n,r=a.state.regionType;if("national"===r){var o=e.properties.SPROVINCE;n=l[o]}else if("province"===r){var i=A(e.properties);n=l[i]}else if("municipality"===r){var s=x(e.properties);n=l[s]}else{s=x(e.properties);n=l[s]}return n}if(-1!==r.indexOf(".topojson"))if("municipality"==(h=a.state.regionType)){if(!u.objects[a.state.muniCode])return;u=nt.a(u,u.objects[a.state.muniCode])}else{if(!u.objects[a.state.iecId])return;u=nt.a(u,u.objects[a.state.iecId])}n=u.features;var d=s.f().fitSize([900,i],u),v=s.g().projection(d);c.selectAll(".".concat(Pt("region"))).data(n).enter().append("path").attr("class",Pt("region")).attr("stroke","#eeeeee").attr("fill",function(e,t){return m(p(e))}).attr("id",function(e,t){return"region-".concat(t)}).attr("d",v);var f=c.selectAll(".".concat(Pt("legend"))).data([{text:"More than 65%",turnout:66},{text:"60% - 65%",turnout:60},{text:"55% - 60%",turnout:55},{text:"50% - 55%",turnout:50},{text:"45% - 50%",turnout:45},{text:"40% - 45%",turnout:40},{text:"35% - 40%",turnout:35},{text:"30% - 35%",turnout:30},{text:"Less than 30%",turnout:15}]).enter().append("g").attr("class",Pt("legend")).attr("transform",function(e,t){return"translate("+function(e){return[e%5*170,i+10+40*parseInt(e/5)]}(t)+")"});if(f.append("rect").attr("width",20).attr("height",20).attr("x",0).attr("y",0).attr("fill",function(e){return m(e.turnout)}),f.append("text").attr("x",30).attr("y",16).text(function(e){return e.text}),"municipality"!==a.state.regionType&&c.selectAll(".place-label").data(n).enter().append("text").attr("class","place-label").attr("font-size","12px").attr("transform",function(e){var t,n;return"Polygon"===e.geometry.type?(t=rt()(e.geometry.coordinates),(n=d(t))[1]-=12,"translate("+n+")"):(t=rt()(e.geometry.coordinates[0]),(n=d(t))[1]-=5,"translate("+n+")")}).attr("dy",".35em").style("text-anchor","middle").text(function(e){return I(e.properties,a.state)}),"municipality"!==a.state.regionType&&E(),c.selectAll(".eventLayer").data(n).enter().append("path").attr("d",v).attr("class","eventLayer").attr("id",function(e,t){return"eventLayer-".concat(t)}).attr("fill","transparent").on("mouseover",function(e,t){s.o("#region-".concat(t)).attr("stroke-width",3).style("fill-opacity",.8)}).on("mousemove",function(e,t){o.transition().duration(200).style("opacity",1),o.html(I(e.properties,a.state)+" : "+p(e)+"%").style("left",s.d.pageX+"px").style("top",s.d.pageY-28+"px")}).on("mouseout",function(e,t){s.o("#region-".concat(t)).attr("stroke-width",1).style("fill-opacity",1),"municipality"!==a.state.regionType&&o.transition().duration(200).style("opacity",0)}).on("click",function(e,t){if(!a.state.disableNavigation){o.transition().duration(200).style("opacity",0);var n=a.state.regionType;if("national"===n)r={regionType:"province",provinceName:e.properties.SPROVINCE},w(M.REGION_CHANGE,r),a.setState(r);else if("province"===n)r={regionType:"municipality",provinceName:a.state.provinceName,muniName:e.properties.smunicipal,muniCode:A(e.properties)},w(M.REGION_CHANGE,r),a.setState(r);else{var r={regionType:"municipality-vd",provinceName:a.state.provinceName,muniName:a.state.muniName,muniCode:a.state.muniCode,iecId:x(e.properties)};w(M.REGION_CHANGE,r),a.setState(r)}}}),!a.state.disableNavigation){var h,y=function(e,t,n){n&&e.append("span").html(" > "),e.append("span").style("height","30px").style("cursor","default").html(t)},N=function(e,t,n,r){r&&e.append("span").html(" > "),e.append("a").style("height","30px").style("cursor","pointer").html(t).on("click",function(){!function(e){var t;(t={regionType:a.state.regionType,provinceName:a.state.provinceName,muniName:a.state.muniName,muniImuniCodeD:a.state.muniCode,iecId:a.state.iecId}).regionType=e,w(M.REGION_CHANGE,t),a.setState(t)}(n)})},g=c.append("foreignObject").attr("x",0).attr("y",10).attr("width",500).attr("height",30).attr("class","map-controls").append("xhtml:div");"national"==(h=a.state.regionType)?y(g,"South Africa",!1):(N(g,"South Africa","national",!1),"province"==h?y(g,a.state.provinceName,!0):(N(g,a.state.provinceName,"province",!0),"municipality"==h?y(g,a.state.muniCode,!0):(N(g,a.state.muniCode,"municipality",!0),y(g,a.state.iecId,!0))))}a.getLoadingSpinner().style("display","none")}).catch(function(e){console.error(e),a.getLoadingSpinner().style("display","none");var t=g(n.state),r=a.state.regionType,o={regionType:a.state.regionType,provinceName:a.state.provinceName,muniName:a.state.muniName,muniImuniCodeD:a.state.muniCode,iecId:a.state.iecId};"province"===r?o.regionType="national":"municipality"===r?o.regionType="province":"municipality-vd"===r&&(o.regionType="municipality"),w(M.REGION_CHANGE,o),a.setState(o),setTimeout(function(){alert("".concat(t," has been disestablished"))},300)})}}]),t}();function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var kt={chartType:"Turnout Barchart",yAxisLabel:"PERCENTAGE",noXaxisByParty:!0,yValue:function(e){return e.percVoterTurnout},yValueFormat:function(e){return e+"%"}};function Mt(e){return u.a[e]||e}function Gt(e){return Mt(l.CSS_PREFIX+e)}var Rt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);Ot(Ot(n=function(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?Ot(e):t}(this,St(t).call(this,e))));return n.state={eventType:"national",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:10},e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Ot(Ot(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Ot(Ot(n))),n.handleRegionChange=n.handleRegionChange.bind(Ot(Ot(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Ot(Ot(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,a["Component"]),function(e,t,n){t&&_t(e.prototype,t),n&&_t(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"turnout-barchart(".concat(g(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new T(this.getContainer(),null,null,Mt,kt),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:Mt("barchart")+" "+Gt("stylesheet-".concat(e))},r.a.createElement("div",{className:Gt("chart-title")},kt.chartType," (",g(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:Mt("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[function(e){if("national"==e.regionType)return W.query({query:R()(ue())});if("province"==e.regionType)return W.query({query:R()(ce(),e.provinceName)});if("municipality"==e.regionType){var t=e.muniCode||e.muniName.split(" - ")[0];return W.query({query:R()(se(),e.provinceName,t)})}return"municipality-vd"==e.regionType?W.query({query:R()(ie(),e.iecId,e.muniCode)}):void 0}(t)];Promise.all(a).then(function(a){var r=a[0];n.drawGraph(e,t,r,"rgb(157,51,55)")}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=function(e,t){if(!e)return null;var n,a=t.regionType;return"national"==a?n=e.data.allBallots.edges:"province"==a?n=e.data.allProvincialBallots.edges:"municipality"==a?n=e.data.allMunicipalBallots.edges:"municipality-vd"==a&&(n=e.data.allVotingDistrictBallots.edges),n.map(function(e){var t=e.node;return{name:t.event.description,percVoterTurnout:t.percVoterTurnout}}).filter(function(e){return-1!=e.name.toLowerCase().indexOf(t.eventType)})}(n,t);this.chart||(this.chart=new T(e,null,null,Mt,kt)),this.chart.draw(r,a)}}]),t}(),Lt=n(85),Dt=n.n(Lt),Vt=n(44);function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(){return(Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Zt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return Dt.a[e]||e}var zt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?Bt(e):t}(this,jt(t).call(this,e))).state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:2},e.numParties&&(n.state.numParties=e.numParties),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.exportAsPNG=n.exportAsPNG.bind(Bt(Bt(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,a["Component"]),function(e,t,n){t&&Zt(e.prototype,t),n&&Zt(e,n)}(t,[{key:"exportAsPNG",value:function(e){if(e.detail.componentID==this.state.componentID){var t=this;Promise.all([t.barchartInstance.exportAsPNGUri(),t.mapInstance.exportAsPNGUri()]).then(function(e){var n=new window.JSZip,a=n.folder("export-images");a.file("barchart.png",e[0],{base64:!0}),a.file("map.png",e[1],{base64:!0}),n.generateAsync({type:"blob"}).then(function(e){Object(Vt.saveAs)(e,"race-for-votes-barchart-map(".concat(g(t.state),").zip"))})}).catch(function(e){console.error("export error",e)})}}},{key:"componentDidMount",value:function(){document.addEventListener(M.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(M.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG)}},{key:"render",value:function(){var e=this,t=this.state.stylesheetFor;return r.a.createElement("div",{ref:"superwidget",className:Ut("barchart-map")+" "+function(e){return Ut(l.CSS_PREFIX+e)}("stylesheet-".concat(t))},r.a.createElement("div",{className:Ut("barchart-container"),ref:"barchart"},r.a.createElement(Le,Ft({ref:function(t){e.barchartInstance=t}},this.state,{componentID:-1e3}))),r.a.createElement("div",{className:Ut("map-container")},r.a.createElement(Nt,Ft({ref:function(t){e.mapInstance=t}},this.state,{componentID:-1e3}))))}}]),t}(),Ht=n(86),qt=n.n(Ht),Xt=n(87),Yt=n.n(Xt);function Jt(e,t,n,a,r){var o=[],i=10,c=10,u=10,l=10,m="name",p=s.e(".4r"),d=null;function v(e){return d&&d[e]?d[e]:"rgb("+250*Math.random()+","+250*Math.random()+","+250*Math.random()+")"}e.selectAll("svg").remove();var f=Math.min(700,300)/2,h=s.l().value(function(e){return p(e.percent)}).sort(null),y=s.a().outerRadius(.8*f).innerRadius(.6*f).cornerRadius(3).padAngle(.015),N=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+(700+l+c)+" "+(300+i+u)).classed("svg-content",!0),g=N.append("g").attr("transform","translate(150,150)"),b=N.append("g").attr("transform","translate(360,150)");g.append("g").attr("class","slices"),g.append("g").attr("class","lines");var C=g.select(".slices").selectAll("path").data(h(o)).enter().append("path").attr("fill",function(e){return v(e.data[m])}).attr("d",y),E=g.append("g").append("text").attr("text-anchor","middle");function w(e){e.on("mouseenter",function(e){g.append("text").attr("class","toolCircle").attr("dy",-15).html(function(e){var t="";return t+='<tspan x="0">Progress: '+e.data.percent+"%</tspan>",t+='<tspan x="0" dy="1.2em">Captured Votes: '+e.data.count+"</tspan>",t+='<tspan x="0" dy="1.2em">Total: '+e.data.totalCount+"</tspan>"}(e)).style("font-size",".7em").style("text-anchor","middle"),g.append("circle").attr("class","toolCircle").attr("r",.55*f).style("fill",v(e.data[m])).style("fill-opacity",.35)}),e.on("mouseout",function(){s.p(".toolCircle").remove()})}function P(e){var t=s.h(this._current,e);return this._current=t(0),function(e){return y(t(e))}}function I(e){return e.data[m]}this.destroy=function(){e.selectAll("svg").remove()},this.draw=function(e,t){if(e){E.text(""),d=t,o=e,b.append("text").attr("x",0).attr("y",-15).style("font-size",".7em").style("text-anchor","middle").text("Completed: "+o[0].percent+"%"),b.append("text").attr("x",0).attr("y",0).text("Captured Votes: "+o[0].count).style("font-size",".7em").style("text-anchor","middle"),b.append("text").attr("x",0).attr("y",15).text("Total: "+o[0].totalCount).style("font-size",".7em").style("text-anchor","middle");var n=s.o(".slices").selectAll("path"),a=C.data(),r=h(o);(n=n.data(r,I)).enter().append("path").each(function(e,t){this._current=function(e,t,n,a){var r;return(r=function(e,t,n,a){var r=t.length;for(;--e>=0;)for(var o=a(n[e]),i=0;i<r;++i)if(a(t[i])===o)return t[i]}(e,t,n,a))?{startAngle:r.endAngle,endAngle:r.endAngle}:(r=function(e,t,n,a){var r=n.length,o=t.length;for(;++e<r;)for(var i=a(n[e]),s=0;s<o;++s)if(a(t[s])===i)return t[s]}(e,t,n,a))?{startAngle:r.startAngle,endAngle:r.startAngle}:null}(t,a,r,I)||e}).attr("fill",function(e){return v(e.data[m])}).attr("d",y),n.exit().transition().duration(750).attrTween("d",P).remove(),n.transition().duration(750).attrTween("d",P),s.p(".labelName text, .slices path").call(w)}else E.text("chart data is not available")}}function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var an={chartType:"Progress on Votes Count"};function rn(e){return Yt.a[e]||e}function on(e){return rn(l.CSS_PREFIX+e)}var sn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?nn(e):t}(this,en(t).call(this,e))).state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:4},e.numParties&&(n.state.numParties=e.numParties),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(nn(nn(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(nn(nn(n))),n.handleRegionChange=n.handleRegionChange.bind(nn(nn(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(nn(nn(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,a["Component"]),function(e,t,n){t&&$t(e.prototype,t),n&&$t(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"progress-on-votes-piechart(".concat(g(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new Jt(this.getContainer(),null,null,rn,an),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:rn("piechart")+" "+on("stylesheet-".concat(e))},r.a.createElement("div",{className:on("chart-title")},an.chartType," (",g(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:rn("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[function(e){var t=e.eventDescription;if(t){if("national"==e.regionType)return W.query({query:R()(Ee(),t)});if("province"==e.regionType)return W.query({query:R()(Ce(),t,e.provinceName)});if("municipality"==e.regionType){var n=e.muniCode||e.muniName.split(" - ")[0];return W.query({query:R()(be(),t,e.provinceName,n)})}return"municipality-vd"==e.regionType?W.query({query:R()(ge(),t,e.iecId,e.muniCode)}):void 0}}(t)];Promise.all(a).then(function(a){var r=a[0];n.drawGraph(e,t,r)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n){var a=function(e,t){var n,a=t.regionType;if(!(n="national"==a?e.data.allBallots.edges[0]:"province"==a?e.data.allProvincialBallots.edges[0]:"municipality"==a?e.data.allMunicipalBallots.edges[0]:e.data.allVotingDistrictBallots.edges[0]))return console.error("progress votes count data is empty!!"),null;var r=n.node;return[{name:"Completed",percent:d(r.vdWithResultsCaptured,r.vdCount),totalCount:r.vdCount,count:r.vdWithResultsCaptured},{name:"Not Completed",percent:100-d(r.vdWithResultsCaptured,r.vdCount),totalCount:r.vdCount,count:r.vdCount-r.vdWithResultsCaptured}]}(n,t);this.chart||(this.chart=new Jt(e,null,null,rn,an)),this.chart.draw(a,{Completed:"#15707C","Not Completed":"#CCCCCC"})}}]),t}(),cn=n(88),un=n.n(cn),ln=n(91),mn=n.n(ln);function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fn(e,t,n){return t&&vn(e.prototype,t),n&&vn(e,n),e}function hn(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?bn(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e){return l.CSS_PREFIX+e}var En=[{name:"Limpopo",abbreviation:"LIM",munis:[{provinceName:"Limpopo",muniName:"LIM331 - Greater Giyani [Giyani]",muniCode:"LIM331"},{provinceName:"Limpopo",muniName:"LIM332 - Greater Letaba [Duiwelskloof]",muniCode:"LIM332"},{provinceName:"Limpopo",muniName:"LIM333 - Greater Tzaneen [Tzaneen]",muniCode:"LIM333"},{provinceName:"Limpopo",muniName:"LIM334 - Ba-Phalaborwa [Phalaborwa]",muniCode:"LIM334"},{provinceName:"Limpopo",muniName:"LIM335 - Maruleng [Hoedspruit]",muniCode:"LIM335"},{provinceName:"Limpopo",muniName:"LIM341 - Musina [Messina]",muniCode:"LIM341"},{provinceName:"Limpopo",muniName:"LIM342 - Mutale [Mutale-Masisi]",muniCode:"LIM342"},{provinceName:"Limpopo",muniName:"LIM343 - Thulamela [Thohoyandou]",muniCode:"LIM343"},{provinceName:"Limpopo",muniName:"LIM344 - Makhado [Louis Trichardt]",muniCode:"LIM344"},{provinceName:"Limpopo",muniName:"LIM351 - Blouberg [Bochum/My Darling]",muniCode:"LIM351"},{provinceName:"Limpopo",muniName:"LIM352 - Aganang [Moletji/Matlala]",muniCode:"LIM352"},{provinceName:"Limpopo",muniName:"LIM353 - Molemole [Dendron/Dikgale]",muniCode:"LIM353"},{provinceName:"Limpopo",muniName:"LIM354 - Polokwane [Pietersburg]",muniCode:"LIM354"},{provinceName:"Limpopo",muniName:"LIM355 - Lepele-Nkumpi [Lebowakgomo]",muniCode:"LIM355"},{provinceName:"Limpopo",muniName:"LIM361 - Thabazimbi [Thabazimbi]",muniCode:"LIM361"},{provinceName:"Limpopo",muniName:"LIM362 - Lephalale [Ellisras]",muniCode:"LIM362"},{provinceName:"Limpopo",muniName:"LIM364 - Mookgopong [Naboomspruit]",muniCode:"LIM364"},{provinceName:"Limpopo",muniName:"LIM365 - Modimolle [Nylstroom]",muniCode:"LIM365"},{provinceName:"Limpopo",muniName:"LIM366 - Bela-Bela [Warmbad]",muniCode:"LIM366"},{provinceName:"Limpopo",muniName:"LIM367 - Mogalakwena [Potgietersrus]",muniCode:"LIM367"},{provinceName:"Limpopo",muniName:"LIM471 - Ephraim Mogale [Marble Hall]",muniCode:"LIM471"},{provinceName:"Limpopo",muniName:"LIM472 - Elias Motsoaledi [Groblersdal]",muniCode:"LIM472"},{provinceName:"Limpopo",muniName:"LIM473 - Makhuduthamaga [Ngwaritsi]",muniCode:"LIM473"},{provinceName:"Limpopo",muniName:"LIM474 - Fetakgomo [Fetakgomo ]",muniCode:"LIM474"},{provinceName:"Limpopo",muniName:"LIM475 - Greater Tubatse [Burgersfort/Ohrigstad/Eastern Tubatse]",muniCode:"LIM475"}]},{name:"Mpumalanga",abbreviation:"MP",munis:[{provinceName:"Mpumalanga",muniName:"MP301 - Albert Luthuli [Elukwatini/Carolina]",muniCode:"MP301"},{provinceName:"Mpumalanga",muniName:"MP302 - Msukaligwa [Ermelo]",muniCode:"MP302"},{provinceName:"Mpumalanga",muniName:"MP303 - Mkhondo [Piet Retief]",muniCode:"MP303"},{provinceName:"Mpumalanga",muniName:"MP304 - Pixley Ka Seme [Volksrust]",muniCode:"MP304"},{provinceName:"Mpumalanga",muniName:"MP305 - Lekwa [Standerton]",muniCode:"MP305"},{provinceName:"Mpumalanga",muniName:"MP306 - Dipaleseng [Balfour]",muniCode:"MP306"},{provinceName:"Mpumalanga",muniName:"MP307 - Govan Mbeki [Highveld Ridge]",muniCode:"MP307"},{provinceName:"Mpumalanga",muniName:"MP311 - Delmas [Delmas]",muniCode:"MP311"},{provinceName:"Mpumalanga",muniName:"MP312 - Emalahleni [Witbank]",muniCode:"MP312"},{provinceName:"Mpumalanga",muniName:"MP313 - Steve Tshwete [Middelburg]",muniCode:"MP313"},{provinceName:"Mpumalanga",muniName:"MP314 - Emakhazeni [Belfast]",muniCode:"MP314"},{provinceName:"Mpumalanga",muniName:"MP315 - Thembisile [KwaMhlanga]",muniCode:"MP315"},{provinceName:"Mpumalanga",muniName:"MP316 - Dr JS Moroka [Mdutjana]",muniCode:"MP316"},{provinceName:"Mpumalanga",muniName:"MP321 - Thaba Chweu [Sabie]",muniCode:"MP321"},{provinceName:"Mpumalanga",muniName:"MP322 - Mbombela [Nelspruit]",muniCode:"MP322"},{provinceName:"Mpumalanga",muniName:"MP323 - Umjindi [Barberton]",muniCode:"MP323"},{provinceName:"Mpumalanga",muniName:"MP324 - Nkomazi [Nkomazi]",muniCode:"MP324"},{provinceName:"Mpumalanga",muniName:"MP325 - Bushbuckridge [Bushbuckridge]",muniCode:"MP325"}]},{name:"Gauteng",abbreviation:"GT",munis:[{provinceName:"Gauteng",muniName:"EKU - Ekurhuleni [East Rand]",muniCode:"EKU"},{provinceName:"Gauteng",muniName:"GT421 - Emfuleni [Vereeniging]",muniCode:"GT421"},{provinceName:"Gauteng",muniName:"GT422 - Midvaal [Meyerton]",muniCode:"GT422"},{provinceName:"Gauteng",muniName:"GT423 - Lesedi [Heidelberg]",muniCode:"GT423"},{provinceName:"Gauteng",muniName:"GT481 - Mogale City [Krugersdorp]",muniCode:"GT481"},{provinceName:"Gauteng",muniName:"GT482 - Randfontein [Randfontein]",muniCode:"GT482"},{provinceName:"Gauteng",muniName:"GT483 - Westonaria [Westonaria]",muniCode:"GT483"},{provinceName:"Gauteng",muniName:"GT484 - Merafong City [Carletonville]",muniCode:"GT484"},{provinceName:"Gauteng",muniName:"JHB - City of Johannesburg [Johannesburg]",muniCode:"JHB"},{provinceName:"Gauteng",muniName:"TSH - Tshwane Metro [Pretoria]",muniCode:"TSH"}]},{name:"KwaZulu-Natal",abbreviation:"KZN",munis:[{provinceName:"KwaZulu-Natal",muniName:"ETH - eThekwini [Durban Metro]",muniCode:"ETH"},{provinceName:"KwaZulu-Natal",muniName:"KZN211 - Vulamehlo [Dududu]",muniCode:"KZN211"},{provinceName:"KwaZulu-Natal",muniName:"KZN212 - Umdoni [Scottburgh]",muniCode:"KZN212"},{provinceName:"KwaZulu-Natal",muniName:"KZN213 - Umzumbe [Umzumbe]",muniCode:"KZN213"},{provinceName:"KwaZulu-Natal",muniName:"KZN214 - UMuziwabantu [Harding]",muniCode:"KZN214"},{provinceName:"KwaZulu-Natal",muniName:"KZN215 - Ezinqoleni [Izinqolweni]",muniCode:"KZN215"},{provinceName:"KwaZulu-Natal",muniName:"KZN216 - Hibiscus Coast [Port Shepstone]",muniCode:"KZN216"},{provinceName:"KwaZulu-Natal",muniName:"KZN221 - uMshwathi [Wartburg]",muniCode:"KZN221"},{provinceName:"KwaZulu-Natal",muniName:"KZN222 - uMngeni [Howick]",muniCode:"KZN222"},{provinceName:"KwaZulu-Natal",muniName:"KZN223 - Mooi Mpofana [Mooirivier]",muniCode:"KZN223"},{provinceName:"KwaZulu-Natal",muniName:"KZN224 - Impendle [Impendle]",muniCode:"KZN224"},{provinceName:"KwaZulu-Natal",muniName:"KZN225 - Msunduzi [Pietermaritzburg]",muniCode:"KZN225"},{provinceName:"KwaZulu-Natal",muniName:"KZN226 - Mkhambathini [Camperdown]",muniCode:"KZN226"},{provinceName:"KwaZulu-Natal",muniName:"KZN227 - Richmond [Richmond]",muniCode:"KZN227"},{provinceName:"KwaZulu-Natal",muniName:"KZN232 - Emnambithi/Ladysmith [Ladysmith]",muniCode:"KZN232"},{provinceName:"KwaZulu-Natal",muniName:"KZN233 - Indaka [Waaihoek]",muniCode:"KZN233"},{provinceName:"KwaZulu-Natal",muniName:"KZN234 - Umtshezi [Estcourt]",muniCode:"KZN234"},{provinceName:"KwaZulu-Natal",muniName:"KZN235 - Okhahlamba [Bergville]",muniCode:"KZN235"},{provinceName:"KwaZulu-Natal",muniName:"KZN236 - Imbabazane [Loskop]",muniCode:"KZN236"},{provinceName:"KwaZulu-Natal",muniName:"KZN241 - Endumeni [Dundee]",muniCode:"KZN241"},{provinceName:"KwaZulu-Natal",muniName:"KZN242 - Nqutu [Nqutu]",muniCode:"KZN242"},{provinceName:"KwaZulu-Natal",muniName:"KZN244 - Msinga [Pomeroy]",muniCode:"KZN244"},{provinceName:"KwaZulu-Natal",muniName:"KZN245 - Umvoti [Greytown]",muniCode:"KZN245"},{provinceName:"KwaZulu-Natal",muniName:"KZN252 - Newcastle [Newcastle]",muniCode:"KZN252"},{provinceName:"KwaZulu-Natal",muniName:"KZN253 - eMadlangeni [Utrecht]",muniCode:"KZN253"},{provinceName:"KwaZulu-Natal",muniName:"KZN254 - Dannhauser [Durnacol]",muniCode:"KZN254"},{provinceName:"KwaZulu-Natal",muniName:"KZN261 - eDumbe [Paulpietersburg]",muniCode:"KZN261"},{provinceName:"KwaZulu-Natal",muniName:"KZN262 - UPhongolo [Pongola]",muniCode:"KZN262"},{provinceName:"KwaZulu-Natal",muniName:"KZN263 - Abaqulusi [Vryheid]",muniCode:"KZN263"},{provinceName:"KwaZulu-Natal",muniName:"KZN265 - Nongoma [Nongoma]",muniCode:"KZN265"},{provinceName:"KwaZulu-Natal",muniName:"KZN266 - Ulundi [Ulundi]",muniCode:"KZN266"},{provinceName:"KwaZulu-Natal",muniName:"KZN271 - Umhlabuyalingana [Emangusi]",muniCode:"KZN271"},{provinceName:"KwaZulu-Natal",muniName:"KZN272 - Jozini [Mkuze]",muniCode:"KZN272"},{provinceName:"KwaZulu-Natal",muniName:"KZN273 - The Big 5 False Bay [Hluhluwe]",muniCode:"KZN273"},{provinceName:"KwaZulu-Natal",muniName:"KZN274 - Hlabisa [Somkele]",muniCode:"KZN274"},{provinceName:"KwaZulu-Natal",muniName:"KZN275 - Mtubatuba [Mtubatuba]",muniCode:"KZN275"},{provinceName:"KwaZulu-Natal",muniName:"KZN281 - Mfolozi [KwaMbonambi]",muniCode:"KZN281"},{provinceName:"KwaZulu-Natal",muniName:"KZN282 - uMhlathuze [Richards Bay]",muniCode:"KZN282"},{provinceName:"KwaZulu-Natal",muniName:"KZN283 - Ntambana [Ntambana]",muniCode:"KZN283"},{provinceName:"KwaZulu-Natal",muniName:"KZN284 - uMlalazi [Eshowe]",muniCode:"KZN284"},{provinceName:"KwaZulu-Natal",muniName:"KZN285 - Mthonjaneni [Melmoth]",muniCode:"KZN285"},{provinceName:"KwaZulu-Natal",muniName:"KZN286 - Nkandla [Nkandla]",muniCode:"KZN286"},{provinceName:"KwaZulu-Natal",muniName:"KZN291 - Mandeni [Mandeni]",muniCode:"KZN291"},{provinceName:"KwaZulu-Natal",muniName:"KZN292 - KwaDukuza [Stanger]",muniCode:"KZN292"},{provinceName:"KwaZulu-Natal",muniName:"KZN293 - Ndwedwe [Ndwedwe]",muniCode:"KZN293"},{provinceName:"KwaZulu-Natal",muniName:"KZN294 - Maphumulo [Maphumulo]",muniCode:"KZN294"},{provinceName:"KwaZulu-Natal",muniName:"KZN431 - Ingwe [Creighton]",muniCode:"KZN431"},{provinceName:"KwaZulu-Natal",muniName:"KZN432 - Kwa Sani [Underberg]",muniCode:"KZN432"},{provinceName:"KwaZulu-Natal",muniName:"KZN433 - Greater Kokstad [Kokstad]",muniCode:"KZN433"},{provinceName:"KwaZulu-Natal",muniName:"KZN434 - Ubuhlebezwe [Ixopo]",muniCode:"KZN434"},{provinceName:"KwaZulu-Natal",muniName:"KZN435 - Umzimkhulu [Umzimkulu]",muniCode:"KZN435"}]},{name:"North West",abbreviation:"NW",munis:[{provinceName:"North West",muniName:"NW371 - Moretele [Makapanstad]",muniCode:"NW371"},{provinceName:"North West",muniName:"NW372 - Madibeng [Brits]",muniCode:"NW372"},{provinceName:"North West",muniName:"NW373 - Rustenburg [Rustenburg]",muniCode:"NW373"},{provinceName:"North West",muniName:"NW374 - Kgetlengrivier [Koster]",muniCode:"NW374"},{provinceName:"North West",muniName:"NW375 - Moses Kotane [Mogwase]",muniCode:"NW375"},{provinceName:"North West",muniName:"NW381 - Ratlou [Setlagole]",muniCode:"NW381"},{provinceName:"North West",muniName:"NW382 - Tswaing [Delareyville]",muniCode:"NW382"},{provinceName:"North West",muniName:"NW383 - Mafikeng [Mafikeng]",muniCode:"NW383"},{provinceName:"North West",muniName:"NW384 - Ditsobotla [Lichtenburg]",muniCode:"NW384"},{provinceName:"North West",muniName:"NW385 - Ramotshere Moiloa [Zeerust]",muniCode:"NW385"},{provinceName:"North West",muniName:"NW392 - Naledi [Vryburg]",muniCode:"NW392"},{provinceName:"North West",muniName:"NW393 - Mamusa [Schweizer-Reneke]",muniCode:"NW393"},{provinceName:"North West",muniName:"NW394 - Greater Taung [Reivilo]",muniCode:"NW394"},{provinceName:"North West",muniName:"NW396 - Lekwa-Teemane [Christiana]",muniCode:"NW396"},{provinceName:"North West",muniName:"NW397 - NW397 Local Municipality [Ganyesa/Pomfret]",muniCode:"NW397"},{provinceName:"North West",muniName:"NW401 - Ventersdorp [Ventersdorp]",muniCode:"NW401"},{provinceName:"North West",muniName:"NW402 - Tlokwe [Potchefstroom]",muniCode:"NW402"},{provinceName:"North West",muniName:"NW403 - Matlosana [Klerksdorp]",muniCode:"NW403"},{provinceName:"North West",muniName:"NW404 - Maquassi Hills [Wolmaransstad]",muniCode:"NW404"}]},{name:"Free State",abbreviation:"FS",munis:[{provinceName:"Free State",muniName:"FS161 - Letsemeng [Koffiefontein]",muniCode:"FS161"},{provinceName:"Free State",muniName:"FS162 - Kopanong [Trompsburg]",muniCode:"FS162"},{provinceName:"Free State",muniName:"FS163 - Mohokare [Zastron]",muniCode:"FS163"},{provinceName:"Free State",muniName:"FS164 - Naledi [Dewetsdorp]",muniCode:"FS164"},{provinceName:"Free State",muniName:"FS181 - Masilonyana [Theunissen]",muniCode:"FS181"},{provinceName:"Free State",muniName:"FS182 - Tokologo [Dealesville]",muniCode:"FS182"},{provinceName:"Free State",muniName:"FS183 - Tswelopele [Hoopstad]",muniCode:"FS183"},{provinceName:"Free State",muniName:"FS184 - Matjhabeng [Welkom]",muniCode:"FS184"},{provinceName:"Free State",muniName:"FS185 - Nala [Bothaville]",muniCode:"FS185"},{provinceName:"Free State",muniName:"FS191 - Setsoto [Senekal]",muniCode:"FS191"},{provinceName:"Free State",muniName:"FS192 - Dihlabeng [Bethlehem]",muniCode:"FS192"},{provinceName:"Free State",muniName:"FS193 - Nketoana [Reitz]",muniCode:"FS193"},{provinceName:"Free State",muniName:"FS194 - Maluti a Phofung [Qwa-Qwa]",muniCode:"FS194"},{provinceName:"Free State",muniName:"FS195 - Phumelela [Vrede]",muniCode:"FS195"},{provinceName:"Free State",muniName:"FS196 - Mantsopa [Ladybrand]",muniCode:"FS196"},{provinceName:"Free State",muniName:"FS201 - Moqhaka [Kroonstad]",muniCode:"FS201"},{provinceName:"Free State",muniName:"FS203 - Ngwathe [Parys]",muniCode:"FS203"},{provinceName:"Free State",muniName:"FS204 - Metsimaholo [Sasolburg]",muniCode:"FS204"},{provinceName:"Free State",muniName:"FS205 - Mafube [Frankfort]",muniCode:"FS205"},{provinceName:"Free State",muniName:"MAN - Mangaung [Bloemfontein]",muniCode:"MAN"}]},{name:"Eastern Cape",abbreviation:"EC",munis:[{provinceName:"Eastern Cape",muniName:"BUF - Buffalo City [East London]",muniCode:"BUF"},{provinceName:"Eastern Cape",muniName:"EC101 - Camdeboo [Graaff-Reinet]",muniCode:"EC101"},{provinceName:"Eastern Cape",muniName:"EC102 - Blue Crane Route [Somerset East]",muniCode:"EC102"},{provinceName:"Eastern Cape",muniName:"EC103 - Ikwezi [Jansenville]",muniCode:"EC103"},{provinceName:"Eastern Cape",muniName:"EC104 - Makana [Grahamstown]",muniCode:"EC104"},{provinceName:"Eastern Cape",muniName:"EC105 - Ndlambe [Port Alfred]",muniCode:"EC105"},{provinceName:"Eastern Cape",muniName:"EC106 - Sundays River Valley [Kirkwood]",muniCode:"EC106"},{provinceName:"Eastern Cape",muniName:"EC107 - Baviaans [Willowmore]",muniCode:"EC107"},{provinceName:"Eastern Cape",muniName:"EC108 - Kouga [Humansdorp]",muniCode:"EC108"},{provinceName:"Eastern Cape",muniName:"EC109 - Kou-Kamma [Kareedouw]",muniCode:"EC109"},{provinceName:"Eastern Cape",muniName:"EC121 - Mbhashe [Idutywa]",muniCode:"EC121"},{provinceName:"Eastern Cape",muniName:"EC122 - Mnquma [Butterworth]",muniCode:"EC122"},{provinceName:"Eastern Cape",muniName:"EC123 - Great Kei [Komga]",muniCode:"EC123"},{provinceName:"Eastern Cape",muniName:"EC124 - Amahlathi [Stutterheim]",muniCode:"EC124"},{provinceName:"Eastern Cape",muniName:"EC126 - Ngqushwa [Peddie]",muniCode:"EC126"},{provinceName:"Eastern Cape",muniName:"EC127 - Nkonkobe [Alice]",muniCode:"EC127"},{provinceName:"Eastern Cape",muniName:"EC128 - Nxuba [Adelaide]",muniCode:"EC128"},{provinceName:"Eastern Cape",muniName:"EC131 - Inxuba Yethemba [Cradock]",muniCode:"EC131"},{provinceName:"Eastern Cape",muniName:"EC132 - Tsolwana [Tarkastad]",muniCode:"EC132"},{provinceName:"Eastern Cape",muniName:"EC133 - Inkwanca [Molteno]",muniCode:"EC133"},{provinceName:"Eastern Cape",muniName:"EC134 - Lukhanji [Queenstown]",muniCode:"EC134"},{provinceName:"Eastern Cape",muniName:"EC135 - Intsika Yethu [Cofimvaba]",muniCode:"EC135"},{provinceName:"Eastern Cape",muniName:"EC136 - Emalahleni [Lady Frere]",muniCode:"EC136"},{provinceName:"Eastern Cape",muniName:"EC137 - Engcobo [Engcobo]",muniCode:"EC137"},{provinceName:"Eastern Cape",muniName:"EC138 - Sakhisizwe [Elliot]",muniCode:"EC138"},{provinceName:"Eastern Cape",muniName:"EC141 - Elundini [Mount Fletcher]",muniCode:"EC141"},{provinceName:"Eastern Cape",muniName:"EC142 - Senqu [Lady Grey]",muniCode:"EC142"},{provinceName:"Eastern Cape",muniName:"EC143 - Maletswai [Aliwal North]",muniCode:"EC143"},{provinceName:"Eastern Cape",muniName:"EC144 - Gariep [Burgersdorp]",muniCode:"EC144"},{provinceName:"Eastern Cape",muniName:"EC153 - Ngquza Hill [Flagstaff]",muniCode:"EC153"},{provinceName:"Eastern Cape",muniName:"EC154 - Port St Johns [Port St Johns]",muniCode:"EC154"},{provinceName:"Eastern Cape",muniName:"EC155 - Nyandeni [Libode]",muniCode:"EC155"},{provinceName:"Eastern Cape",muniName:"EC156 - Mhlontlo [Qumbu]",muniCode:"EC156"},{provinceName:"Eastern Cape",muniName:"EC157 - King Sabata Dalindyebo [Umtata]",muniCode:"EC157"},{provinceName:"Eastern Cape",muniName:"EC441 - Matatiele [Matatiele]",muniCode:"EC441"},{provinceName:"Eastern Cape",muniName:"EC442 - Umzimvubu [Mount Ayliff]",muniCode:"EC442"},{provinceName:"Eastern Cape",muniName:"EC443 - Mbizana [Bizana]",muniCode:"EC443"},{provinceName:"Eastern Cape",muniName:"EC444 - Ntabankulu [Ntabankulu]",muniCode:"EC444"},{provinceName:"Eastern Cape",muniName:"NMA - Nelson Mandela Bay [Port Elizabeth]",muniCode:"NMA"}]},{name:"Northern Cape",abbreviation:"NC",munis:[{provinceName:"Northern Cape",muniName:"NC061 - RICHTERSVELD [Port Nolloth]",muniCode:"NC061"},{provinceName:"Northern Cape",muniName:"NC062 - NAMA KHOI [Springbok]",muniCode:"NC062"},{provinceName:"Northern Cape",muniName:"NC064 - KAMIESBERG [Garies]",muniCode:"NC064"},{provinceName:"Northern Cape",muniName:"NC065 - HANTAM [Calvinia]",muniCode:"NC065"},{provinceName:"Northern Cape",muniName:"NC066 - KAROO HOOGLAND [Fraserburg]",muniCode:"NC066"},{provinceName:"Northern Cape",muniName:"NC067 - KHâI-MA [Pofadder]",muniCode:"NC067"},{provinceName:"Northern Cape",muniName:"NC071 - UBUNTU [Victoria West]",muniCode:"NC071"},{provinceName:"Northern Cape",muniName:"NC072 - UMSOBOMVU [Colesberg]",muniCode:"NC072"},{provinceName:"Northern Cape",muniName:"NC073 - EMTHANJENI [De Aar]",muniCode:"NC073"},{provinceName:"Northern Cape",muniName:"NC074 - KAREEBERG [Carnarvon]",muniCode:"NC074"},{provinceName:"Northern Cape",muniName:"NC075 - RENOSTERBERG [Phillipstown]",muniCode:"NC075"},{provinceName:"Northern Cape",muniName:"NC076 - THEMBELIHLE [Hopetown]",muniCode:"NC076"},{provinceName:"Northern Cape",muniName:"NC077 - SIYATHEMBA [Prieska]",muniCode:"NC077"},{provinceName:"Northern Cape",muniName:"NC078 - SIYANCUMA [Griekwastad]",muniCode:"NC078"},{provinceName:"Northern Cape",muniName:"NC081 - MIER [Mier]",muniCode:"NC081"},{provinceName:"Northern Cape",muniName:"NC082 - KAI !GARIB [Keimoes]",muniCode:"NC082"},{provinceName:"Northern Cape",muniName:"NC083 - KHARA HAIS [Upington]",muniCode:"NC083"},{provinceName:"Northern Cape",muniName:"NC084 - !KHEIS [Groblershoop]",muniCode:"NC084"},{provinceName:"Northern Cape",muniName:"NC085 - TSANTSABANE [Postmasburg]",muniCode:"NC085"},{provinceName:"Northern Cape",muniName:"NC086 - KGATELOPELE [Danielskuil]",muniCode:"NC086"},{provinceName:"Northern Cape",muniName:"NC091 - Sol Plaatje [Kimberley]",muniCode:"NC091"},{provinceName:"Northern Cape",muniName:"NC092 - Dikgatlong [Barkley West]",muniCode:"NC092"},{provinceName:"Northern Cape",muniName:"NC093 - Magareng [Warrenton]",muniCode:"NC093"},{provinceName:"Northern Cape",muniName:"NC094 - Phokwane [Hartswater]",muniCode:"NC094"},{provinceName:"Northern Cape",muniName:"NC451 - Joe Morolong [Kgalagadi]",muniCode:"NC451"},{provinceName:"Northern Cape",muniName:"NC452 - GA-SEGONYANA [Kuruman]",muniCode:"NC452"},{provinceName:"Northern Cape",muniName:"NC453 - GAMAGARA [Kathu]",muniCode:"NC453"}]},{name:"Western Cape",abbreviation:"WC",munis:[{provinceName:"Western Cape",muniName:"CPT - City of Cape Town [Cape Town]",muniCode:"CPT"},{provinceName:"Western Cape",muniName:"WC011 - Matzikama [Vredendal]",muniCode:"WC011"},{provinceName:"Western Cape",muniName:"WC012 - Cederberg [Citrusdal]",muniCode:"WC012"},{provinceName:"Western Cape",muniName:"WC013 - Bergrivier [Velddrif]",muniCode:"WC013"},{provinceName:"Western Cape",muniName:"WC014 - Saldanha Bay [West Coast Peninsula]",muniCode:"WC014"},{provinceName:"Western Cape",muniName:"WC015 - Swartland [Malmesbury]",muniCode:"WC015"},{provinceName:"Western Cape",muniName:"WC022 - Witzenberg [Ceres]",muniCode:"WC022"},{provinceName:"Western Cape",muniName:"WC023 - Drakenstein [Paarl]",muniCode:"WC023"},{provinceName:"Western Cape",muniName:"WC024 - Stellenbosch [Stellenbosch]",muniCode:"WC024"},{provinceName:"Western Cape",muniName:"WC025 - Breede Valley [Worcester]",muniCode:"WC025"},{provinceName:"Western Cape",muniName:"WC026 - Langeberg [Robertson]",muniCode:"WC026"},{provinceName:"Western Cape",muniName:"WC031 - Theewaterskloof [Caledon]",muniCode:"WC031"},{provinceName:"Western Cape",muniName:"WC032 - Overstrand [Greater Hermanus]",muniCode:"WC032"},{provinceName:"Western Cape",muniName:"WC033 - Cape Agulhas [Bredasdorp]",muniCode:"WC033"},{provinceName:"Western Cape",muniName:"WC034 - Swellendam [Barrydale/Swellendam ]",muniCode:"WC034"},{provinceName:"Western Cape",muniName:"WC041 - Kannaland [Ladismith]",muniCode:"WC041"},{provinceName:"Western Cape",muniName:"WC042 - Hessequa [Heidelberg/Riversdale]",muniCode:"WC042"},{provinceName:"Western Cape",muniName:"WC043 - Mossel Bay [Mossel Bay]",muniCode:"WC043"},{provinceName:"Western Cape",muniName:"WC044 - George [George]",muniCode:"WC044"},{provinceName:"Western Cape",muniName:"WC045 - Oudtshoorn [Oudtshoorn]",muniCode:"WC045"},{provinceName:"Western Cape",muniName:"WC047 - Bitou [Greater Plettenberg Bay]",muniCode:"WC047"},{provinceName:"Western Cape",muniName:"WC048 - Knysna [Knysna]",muniCode:"WC048"},{provinceName:"Western Cape",muniName:"WC051 - Laingsburg [Laingsburg]",muniCode:"WC051"},{provinceName:"Western Cape",muniName:"WC052 - Prince Albert [Prins Albert]",muniCode:"WC052"},{provinceName:"Western Cape",muniName:"WC053 - Beaufort West [Beaufort West]",muniCode:"WC053"}]}],wn=[{provinceName:"Eastern Cape",muniName:"BUF - Buffalo City [East London]",muniCode:"BUF"},{provinceName:"Western Cape",muniName:"CPT - City of Cape Town [Cape Town]",muniCode:"CPT"},{provinceName:"Gauteng",muniName:"JHB - City of Johannesburg [Johannesburg]",muniCode:"JHB"},{provinceName:"Gauteng",muniName:"TSH - Tshwane Metro [Pretoria]",muniCode:"TSH"},{provinceName:"Gauteng",muniName:"EKU - Ekurhuleni [East Rand]",muniCode:"EKU"},{provinceName:"KwaZulu-Natal",muniName:"ETH - eThekwini [Durban Metro]",muniCode:"ETH"},{provinceName:"Free State",muniName:"MAN - Mangaung [Bloemfontein]",muniCode:"MAN"},{provinceName:"Eastern Cape",muniName:"NMA - Nelson Mandela Bay [Port Elizabeth]",muniCode:"NMA"}],Pn=function(e){function t(){var e;return dn(this,t),(e=hn(this,yn(t).call(this))).onClick=e.onClick.bind(bn(bn(e))),e}return Nn(t,r.a.Component),fn(t,[{key:"onClick",value:function(e){this.props.hasSubMenu?this.props.toggleSubMenu(e):this.props.activateMe({newLocation:this.props.to,selectedMenuLabel:this.props.label})}},{key:"render",value:function(){return r.a.createElement("div",{className:"metismenu-link",onClick:this.onClick},this.props.children)}}]),t}(),In=function(e){function t(e){var n;return dn(this,t),(n=hn(this,yn(t).call(this,e))).state={eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",activeLinkId:""},e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),n.handleNavBarSelection=n.handleNavBarSelection.bind(bn(bn(n))),n}return Nn(t,a["Component"]),fn(t,[{key:"componentDidMount",value:function(){var e;document.getElementById("navbarcss")||((e=document.createElement("link")).id="navbarcss",e.rel="stylesheet",e.href=l.DOMAIN+"/navbar.css",document.head.appendChild(e));document.getElementById("font-awesome")||((e=document.createElement("link")).id="font-awesome",e.rel="stylesheet",e.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",document.head.appendChild(e));this.refs.navbar.addEventListener("click",this.handleNavBarSelection)}},{key:"componentWillUnmount",value:function(){this.refs.navbar.removeEventListener("click",this.handleNavBarSelection)}},{key:"componentDidUpdate",value:function(){}},{key:"handleNavBarSelection",value:function(e){if(-1!=e.target.className.indexOf("metismenu-link")){var t,n,a=e.target.childNodes[0].className.split(" "),r=a[a.length-1].split("-"),o={},i="";if("1"==r[1])t="national",i="1";else if("2"==r[1])t="province",o=En[r[2]];else if("3"==r[1])t="municipality",o=En[r[2]].munis[r[3]],i="3-".concat(r[2],"-").concat(r[3]);else{if("4"!=r[1])return;t="municipality",o=wn[r[2]],i="4-".concat(r[2])}if(e.preventDefault(),"national"==t){if(n={regionType:t},this.state.regionType==n.regionType)return}else if("province"==t){if(n={regionType:t,provinceName:o.name},this.state.regionType==n.regionType&&this.state.provinceName==n.provinceName)return}else if("municipality"==t&&(n={regionType:t,provinceName:o.provinceName,muniName:o.muniName,muniCode:o.muniCode},this.state.regionType==n.regionType&&this.state.provinceName==n.provinceName&&this.state.newState==n.muniName))return;w(M.REGION_CHANGE,n),w(M.MAP_PREVIEW,n),n.activeLinkId=i,this.setState(n)}}},{key:"render",value:function(){var e=[{icon:"1",label:"National",to:"1"},{icon:"",label:"Provinces",content:En.map(function(e,t){return{icon:"2-".concat(t),label:e.name,to:"2-".concat(t)}})},{icon:"",label:"Metros",content:wn.map(function(e,t){return{icon:"4-".concat(t),label:e.muniName.split("-")[1].split("[")[0],to:"4-".concat(t)}})}];return r.a.createElement("div",{className:[function(e){return mn.a[e]||e}(Cn("menu-widget")),Cn("menu-widget")].join(" "),ref:"navbar"},r.a.createElement(un.a,{activeLinkId:this.state.activeLinkId,content:e,LinkComponent:Pn}))}}]),t}();function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(e){return qt.a[e]||e}function Mn(e){return kn(l.CSS_PREFIX+e)}var Gn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==An(t)&&"function"!=typeof t?On(e):t}(this,Sn(t).call(this,e))).state={numParties:5,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",comp:"race for votes",stylesheetFor:"web",componentID:5},e.numParties&&(n.state.numParties=e.numParties),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.exportAsPNG=n.exportAsPNG.bind(On(On(n))),n.handleRegionChange=n.handleRegionChange.bind(On(On(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(On(On(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,a["Component"]),function(e,t,n){t&&_n(e.prototype,t),n&&_n(e,n)}(t,[{key:"componentDidMount",value:function(){document.addEventListener(M.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.QUICK_RESULTS_PREVIEW,this.handlePreviewEvent)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(M.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.QUICK_RESULTS_PREVIEW,this.handlePreviewEvent)}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"exportAsPNG",value:function(e){if(e.detail.componentID==this.state.componentID){var t=this.state.comp,n="quick-results-widget-".concat(t.replace(/\s/gi,"-"),"(").concat(g(this.state),")"),a=[];"race for votes"==t?a=[this.votesInstance1.exportAsPNGUri(),this.votesInstance2.exportAsPNGUri()]:"race for seats"==t?a=[this.seatsInstance1.exportAsPNGUri(),this.seatsInstance2.exportAsPNGUri()]:"turnout"==t?a=[this.turnoutInstance1.exportAsPNGUri(),this.turnoutInstance2.exportAsPNGUri()]:"counting progress"==t?a=[this.progressInstance1.exportAsPNGUri(),this.progressInstance2.exportAsPNGUri()]:"spoilt votes"==t&&(a=[this.spoiltInstance1.exportAsPNGUri(),this.spoiltInstance2.exportAsPNGUri()]),Promise.all(a).then(function(e){var t=new window.JSZip,a=t.folder(n);a.file("image1.png",e[0],{base64:!0}),a.file("image2.png",e[1],{base64:!0}),t.generateAsync({type:"blob"}).then(function(e){Object(Vt.saveAs)(e,"".concat(n,".zip"))})}).catch(function(e){console.error("export error",e)})}}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.setState(t),w(M.CHART_PREVIEW,t),w(M.MAP_PREVIEW,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.comp,a=(t.numParties,t.eventDescription),o=t.stylesheetFor;t.regionType,t.provinceName,t.muniName,t.muniCode,t.iecId,n=t.comp;return r.a.createElement("div",{className:kn("quickresultswidget")+" "+Mn("stylesheet-".concat(o))},r.a.createElement("div",{className:Mn("row")+" "+Mn("component-transition-menu")},r.a.createElement("div",{className:Mn("col-md-2")+" "+kn("label")},"Show Results"),r.a.createElement("div",{className:Mn("col-md-2")},r.a.createElement("button",{className:"race for votes"==n?kn("active"):"",onClick:function(){return e.setState({comp:"race for votes"})}}," Race for votes ")),r.a.createElement("div",{className:Mn("col-md-2")},r.a.createElement("button",{className:"race for seats"==n?kn("active"):"",onClick:function(){return e.setState({comp:"race for seats"})}}," Race for seats")),r.a.createElement("div",{className:Mn("col-md-2")},r.a.createElement("button",{className:"turnout"==n?kn("active"):"",onClick:function(){return e.setState({comp:"turnout"})}}," Turnout")),-1!=a.indexOf("2014")&&r.a.createElement("div",{className:Mn("col-md-2")},r.a.createElement("button",{className:"counting progress"==n?kn("active"):"",onClick:function(){return e.setState({comp:"counting progress"})}}," Counting progress ")),r.a.createElement("div",{className:Mn("col-md-2")},r.a.createElement("button",{className:"spoilt votes"==n?kn("active"):"",onClick:function(){return e.setState({comp:"spoilt votes"})}}," Spoilt Votes "))),r.a.createElement("div",{className:Mn("row")},r.a.createElement("div",{className:Mn("col-md-4")+" "+kn("main-left-part")},r.a.createElement(In,null)),"race for votes"==n&&r.a.createElement("div",{className:Mn("col-md-8")+" "+kn("main-right-part")},r.a.createElement("div",{className:kn("barchart-container")},r.a.createElement(Le,xn({ref:function(t){e.votesInstance1=t}},this.state,{componentID:-1e3}))),r.a.createElement("div",{className:kn("map-container")},r.a.createElement(Nt,xn({ref:function(t){e.votesInstance2=t}},this.state,{componentID:-1e3})))),"race for seats"==n&&r.a.createElement("div",{className:Mn("col-md-8")+" "+kn("main-right-part")},r.a.createElement("div",{className:kn("barchart-container")},r.a.createElement(ze,xn({ref:function(t){e.seatsInstance1=t}},this.state,{componentID:-1e3}))),r.a.createElement("div",{className:kn("map-container")},r.a.createElement(Nt,xn({ref:function(t){e.seatsInstance2=t}},this.state,{componentID:-1e3})))),"turnout"==n&&r.a.createElement("div",{className:Mn("col-md-8")+" "+kn("main-right-part")},r.a.createElement("div",{className:kn("barchart-container")},r.a.createElement(Rt,xn({ref:function(t){e.turnoutInstance1=t}},this.state,{componentID:-1e3}))),r.a.createElement("div",{className:kn("map-container")},r.a.createElement(At,xn({ref:function(t){e.turnoutInstance2=t}},this.state,{componentID:-1e3})))),"counting progress"==n&&r.a.createElement("div",{className:Mn("col-md-8")+" "+kn("main-right-part")},r.a.createElement("div",{className:kn("barchart-container")},r.a.createElement(sn,xn({ref:function(t){e.progressInstance1=t}},this.state,{componentID:-1e3}))),r.a.createElement("div",{className:kn("map-container")},r.a.createElement(Nt,xn({ref:function(t){e.progressInstance2=t}},this.state,{componentID:-1e3})))),"spoilt votes"==n&&r.a.createElement("div",{className:Mn("col-md-8")+" "+kn("main-right-part")},r.a.createElement("div",{className:kn("barchart-container")},r.a.createElement(tt,xn({ref:function(t){e.spoiltInstance1=t}},this.state,{componentID:-1e3}))),r.a.createElement("div",{className:kn("map-container")},r.a.createElement(Nt,xn({ref:function(t){e.spoiltInstance2=t}},this.state,{componentID:-1e3}))))))}}]),t}();function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Fn,Zn={chartType:"Race For Seats Comparison",yAxisLabel:"Seats Count",dynamicYAxisFromValues:!0,yValue:function(e){return e.seats},yValueFormat:function(e){return e}};function jn(e){return u.a[e]||e}function Kn(e){return jn(l.CSS_PREFIX+e)}var Bn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?Wn(e):t}(this,Dn(t).call(this,e))).state={partyAbbr:"ANC",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:7},e.partyAbbr&&(n.state.partyAbbr=e.partyAbbr),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Wn(Wn(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Wn(Wn(n))),n.handleRegionChange=n.handleRegionChange.bind(Wn(Wn(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Wn(Wn(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(t,a["Component"]),function(e,t,n){t&&Ln(e.prototype,t),n&&Ln(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-comparison-barchart(".concat(b(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new T(this.getContainer(),null,null,jn,Zn),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:jn("barchart")+" "+Kn("stylesheet-".concat(e))},r.a.createElement("div",{className:Kn("chart-title")},Zn.chartType," (",b(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:jn("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[U(t)];if(!Fn){var r=Ae();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Fn=Fn||a[1],n.drawGraph(e,t,r,Fn)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=y(n,t);this.chart||(this.chart=new T(e,null,null,jn,Zn)),this.chart.draw(r,a)}}]),t}(),Un=n(92),zn=n.n(Un);function Hn(e,t,n,a,r){r||(r={}),e.selectAll("svg").remove();var o=["blue","yellow","red"],i=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 360 185").classed("svg-content",!0),c=C(a),u=i.append("g"),l=i.append("g").attr("transform","translate(180,92.5)").append("text").attr("text-anchor","middle");this.draw=function(e,t){var n=[];if(e){l.text("");for(var a=e.length-1;a>=0;a-=2)n.push(e[a]);for(a=-1-a;a<e.length;a+=2)n.push(e[a]);var r={},i=t;i&&i.data.allParties.edges&&i.data.allParties.edges.forEach(function(e){r[e.node.name]=e.node.colour});var m=0;for(a=0;a<n.length;a++)m+=n[a].seats;!function(e,t){var a,r,o,i,u,l,m=[3,15,33,61,95,138,189,247,313,388,469,559,657,762,876,997,1126,1263,1408,1560,1722,1889,2066,2250,2442,2641,2850,3064,3289,3519,3759,4005,4261,4522,4794,5071,5358,5652,5953,6263,6581,6906,7239,7581,7929,8287,8650,9024,9404,9793,10187,10594,11003,11425,11850,12288,12729,13183,13638,14109,14580,15066,15553,16055,16557,17075,17592,18126,18660,19208,19758,20323,20888,21468,22050,22645,23243,23853,24467,25094,25723,26364,27011,27667,28329,29001,29679,30367,31061];e>m[m.length-1]&&console.error("total seats >",m[m.length-1]),e<1&&console.error("total seats < 1");for(var d=0;d<m.length;d++)if(m[d]>=e){a=d+1;break}for(r=.4/a,o=[],d=1;d<a;d++)if(u=(3*a+4*d-2)/(4*a),1==(i=parseInt(e/m[a-1]*Math.PI/(2*Math.asin(2/(3*a+4*d-2))))))o.push({angle:Math.PI/2,x:1.75*u,y:u});else for(var v=0;v<i;v++)l=v*(Math.PI-2*Math.sin(r/u))/(i-1)+Math.sin(r/u),o.push({angle:l,x:u*Math.cos(l)+1.75,y:u*Math.sin(l)});if(u=(7*a-2)/(4*a),1==(i=e-o.length))o.push({angle:Math.PI/2,x:1.75*u,y:u});else for(v=0;v<i;v++)l=v*(Math.PI-2*Math.sin(r/u))/(i-1)+Math.sin(r/u),o.push({angle:l,x:u*Math.cos(l)+1.75,y:u*Math.sin(l)});function f(e,t){e.attr("opacity",.8),c.transition().duration(200).style("opacity",.9),c.html(function(e,t){return e.name}(n[t])).style("left",s.d.pageX+"px").style("top",s.d.pageY-28+"px")}function h(e){e.attr("opacity",1),c.transition().duration(200).style("opacity",0)}o.sort(function(e,t){function n(e){return e.angle-Math.PI/2}return n(t)-n(e)}),t.append("text").attr("x",175).attr("y",175).attr("style","font-size:36px;font-weight:bold;text-align:center;text-anchor:middle;font-family:sans-serif").text(e);var y=0;for(d=0;d<n.length;d++){var N=t.append("g").attr("fill",p(n[d].partyInfo.name,d)).attr("id",n[d].name);for(N.on("mousemove",f.bind(this,N,d)).on("mouseout",h.bind(this,N)),v=0;v<n[d].seats;v++,y++)N.append("circle").attr("cx",100*o[y].x+5).attr("cy",100*(1.75-o[y].y)+5).attr("r",100*r)}}(m,u)}else l.text("chart data is not available");function p(e,t){return r[e.split("/")[0]]||o[t%o.length]}},this.destroy=function(){i.remove()}}function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var $n,ea={chartType:"Race For Seats HorseShoe Chart"};function ta(e){return zn.a[e]||e}function na(e){return ta(l.CSS_PREFIX+e)}var aa=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?Qn(e):t}(this,Yn(t).call(this,e))).state={numParties:100,eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:8},e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Qn(Qn(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Qn(Qn(n))),n.handleRegionChange=n.handleRegionChange.bind(Qn(Qn(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Qn(Qn(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(t,a["Component"]),function(e,t,n){t&&Xn(e.prototype,t),n&&Xn(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-horseshoe-chart(".concat(b(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new Hn(this.getContainer(),null,null,ta,ea),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:ta("horseshoechart")+" "+na("stylesheet-".concat(e))},r.a.createElement("div",{className:na("chart-title")},ea.chartType," (",b(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:ta("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[z(t)];if(!$n){var r=Ae();a.push(r)}Promise.all(a).then(function(a){var r=a[0];$n=$n||a[1],n.drawGraph(e,t,r,$n)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=h(n,t);this.chart||(this.chart=new Hn(e,null,null,ta,ea)),this.chart.draw(r,a)}}]),t}();function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ia(e){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sa(e,t){return(sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ua;function la(e){return u.a[e]||e}function ma(e){return la(l.CSS_PREFIX+e)}var pa="Race For Votes Comparison",da=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ra(t)&&"function"!=typeof t?ca(e):t}(this,ia(t).call(this,e))).state={partyAbbr:"ANC",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:16},e.partyAbbr&&(n.state.partyAbbr=e.partyAbbr),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(ca(ca(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(ca(ca(n))),n.handleRegionChange=n.handleRegionChange.bind(ca(ca(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(ca(ca(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}(t,a["Component"]),function(e,t,n){t&&oa(e.prototype,t),n&&oa(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null),document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-comparison-barchart(".concat(g(this.state),").png"))}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new T(this.getContainer(),null,null,la),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:la("barchart")+" "+ma("stylesheet-".concat(e))},r.a.createElement("div",{className:ma("chart-title")},pa," (",g(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:la("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[oe(t)];if(!ua){var r=Ae();a.push(r)}Promise.all(a).then(function(a){var r=a[0];ua=ua||a[1],n.drawGraph(e,t,r,ua)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=v(n,t);this.chart||(this.chart=new T(e,null,null,la)),this.chart.draw(r,a)}}]),t}();function va(e,t,n,a,r){r||(r={}),e.selectAll("svg").remove();var o=["blue","yellow","red"],i=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 770 420").classed("svg-content",!0),c=C(a),u=s.m().rangeRound([70,700]),m=s.n().rangeRound([300,120]),p=i.append("g").attr("transform","translate(350,150)").append("text").attr("text-anchor","middle");this.draw=function(e,t){if(i.selectAll(".topLabel").remove(),i.append("text").attr("class","topLabel").attr("text-anchor","middle").attr("x",350).attr("y",20).text(r.topLabel),e){p.text("");var n={},d=t;d&&d.data.allParties.edges&&d.data.allParties.edges.forEach(function(e){n[e.node.name]=e.node.colour}),u.domain(e.map(function(e){return e.partyAbbr}));var v=[0,100];r.dynamicYAxisFromValues&&(v[1]=s.j(e.map(function(e){return s.j(e.data,function(e){return r.yValue(e)})}))+1),m.domain(v);var f=i.selectAll(".bar-group").data(e);f.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),(y=f.enter().append("g").attr("class",function(e){return"bar-group ".concat(e.partyAbbr)}).attr("transform",function(e){return"translate(".concat(u(e.partyAbbr),", 0)")})).append("rect").attr("class",a(l.CSS_PREFIX+"grouprect")).attr("x",1*-u.bandwidth()/12).attr("y",35).attr("width",5*u.bandwidth()/6).attr("height",300),y.append("g").attr("class","groupname-container").attr("transform","translate(".concat(1*u.bandwidth()/3,", ").concat(70,")")).append("text").attr("text-anchor","middle").text(function(e){return e.partyAbbr}),y.append("g").attr("class","bar-container"),y.append("g").attr("class","bartext-container"),y.append("g").attr("class","baraxistext-container");for(var h=0;h<e.length;h++){var y,N=e[h].partyAbbr,g=e[h].data,b=s.m().rangeRound([0,2*u.bandwidth()/3]).domain(g.map(function(e){return e.name})),C=(y=i.selectAll(".bar-group.".concat(N))).select(".bar-container"),E=y.select(".bartext-container"),w=y.select(".baraxistext-container"),I=C.selectAll(".".concat(a("bar"))).data(g);I.exit().transition().duration(300).attr("y",function(e){return m(0)}).attr("height",0).style("fill-opacity",1e-6).remove(),I.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",function(e,t){return b(e.name)+b.bandwidth()/4}).attr("width",1*b.bandwidth()/2).attr("fill",function(e,t){return _(e,t)}).on("mousemove",function(e,t){s.o(this).attr("opacity",.8),c.transition().duration(200).style("opacity",.9),c.html(S(e)).style("left",s.d.pageX+"px").style("top",s.d.pageY-28+"px")}).on("mouseout",function(e){s.o(this).attr("opacity",1),c.transition().duration(200).style("opacity",0)}).attr("y",function(e){return m(0)}).attr("height",0),C.selectAll(".".concat(a("bar"))).data(g).attr("fill",function(e,t){return _(e,t)}).transition().duration(300).attr("y",function(e){return m(Number(r.yValue(e)))}).attr("height",function(e){return 300-m(Number(r.yValue(e)))});var A=w.selectAll(".".concat(a("bartext"))).data(g);A.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),A.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return b(e.name)+b.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","7px").attr("y",function(e){return m(0)+18}),w.selectAll(".".concat(a("bartext"))).data(g).text(function(e){return/(19|20)\d{2}/g.exec(e.name)[0]});var x=E.selectAll(".".concat(a("bartext"))).data(g);x.exit().transition().duration(300).attr("y",function(e){return m(0)-5}).style("fill-opacity",1e-6).remove(),x.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return b(e.name)+b.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","7px").attr("y",function(e){return m(0)-5}),E.selectAll(".".concat(a("bartext"))).data(g).text(function(e){return r.yValueFormat(r.yValue(e))}).transition().duration(300).attr("y",function(e){return m(Number(r.yValue(e)))-5})}}else p.text("chart data is not available");function _(e,t){return function(e,t){return n[e.split("/")[0]]||o[t%o.length]}(e.partyInfo.name,t)}function S(e,t){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(r.yValue(e)):P(e.partyInfo.name)+" : "+r.yValueFormat(r.yValue(e))}},this.destroy=function(){i.remove()}}function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ba,Ca={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"SEATS COUNTED",yValue:function(e){return e.seats},yValueFormat:function(e){return e},dynamicYAxisFromValues:!0};function Ea(e){return u.a[e]||e}var wa=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==fa(t)&&"function"!=typeof t?ga(e):t}(this,ya(t).call(this,e))).state={partyAbbrs:["ANC","DA","EFF","ID"],eventDescriptions:["14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:12},e.partyAbbrs&&(n.state.partyAbbrs=e.partyAbbrs),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(ga(ga(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(ga(ga(n))),n.handleRegionChange=n.handleRegionChange.bind(ga(ga(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(ga(ga(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(t,a["Component"]),function(e,t,n){t&&ha(e.prototype,t),n&&ha(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-comparison-barchart(".concat(b(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new va(this.getContainer(),null,null,Ea,Ca),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:Ea("barchart")+" "+function(e){return Ea(l.CSS_PREFIX+e)}("stylesheet-".concat(e))},r.a.createElement("div",{ref:"vizcontainer",className:Ea("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[U(t)];if(Ca.topLabel="".concat(t.regionType.toUpperCase()," ASSEMBLY: ").concat(t.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join(", ")),"national"==t.regionType?Ca.topLabel="Race for Seats Comparison - National Assembly":Ca.topLabel="Race for Seats Comparison - ".concat(b(t)),!ba){var r=Ae();a.push(r)}Promise.all(a).then(function(a){var r=a[0];ba=ba||a[1],n.drawGraph(e,t,r,ba)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=N(n,t);this.chart||(this.chart=new va(e,null,null,Ea,Ca)),this.chart.draw(r,a)}}]),t}();function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Ia(e,t,n[t])})}return e}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aa(e,t,n,a,r){r||(r={}),e.selectAll("svg").remove();var o=["blue","yellow","red"],i=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 770 420").classed("svg-content",!0),c=C(a),u=s.m().rangeRound([70,700]),l=s.n().rangeRound([300,120]),m=i.append("g").attr("transform","translate(350,150)").append("text").attr("text-anchor","middle");this.draw=function(e,t){if(i.selectAll(".topLabel").remove(),i.append("text").attr("text-anchor","middle").attr("class","topLabel").attr("x",350).attr("y",20).text(r.topLabel),e){m.text("");var n={},p=t;p&&p.data.allParties.edges&&p.data.allParties.edges.forEach(function(e){n[e.node.name]=e.node.colour});var d=e.map(function(e){var t=e.data;return Pa({},e,{data:[Pa({},t[1],{delta:r.yValue(t[1])-r.yValue(t[0])})]})});u.domain(e.map(function(e){return e.partyAbbr}));var v=[-100,100];r.dynamicYAxisFromValues&&(v[1]=s.j(d.map(function(e){return e.data[0].delta}))+1,v[0]=s.k(d.map(function(e){return e.data[0].delta}))-1),l.domain(v);var f=i.selectAll(".bar-group").data(d);f.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),(y=f.enter().append("g").attr("class",function(e){return"bar-group ".concat(e.partyAbbr)}).attr("transform",function(e){return"translate(".concat(u(e.partyAbbr),", 0)")})).append("g").attr("class","groupname-container").attr("transform","translate(".concat(1*u.bandwidth()/3,", ").concat(70,")")).append("text").attr("text-anchor","middle").text(function(e){return e.partyAbbr}),y.append("g").attr("class","bar-container"),y.append("g").attr("class","bartext-container");for(var h=0;h<d.length;h++){var y,N=d[h].partyAbbr,g=d[h].data,b=(y=i.selectAll(".bar-group.".concat(N))).select(".bar-container"),C=y.select(".bartext-container"),E=b.selectAll(".".concat(a("bar"))).data(g);E.exit().transition().duration(300).attr("height",0).style("fill-opacity",1e-6).remove(),E.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",u.bandwidth()/6).attr("width",1*u.bandwidth()/3).attr("fill",function(e,t){return I(e,t)}).on("mousemove",function(e,t){s.o(this).attr("opacity",.8),c.transition().duration(200).style("opacity",.9),c.html(A(e)).style("left",s.d.pageX+"px").style("top",s.d.pageY-28+"px")}).on("mouseout",function(e){s.o(this).attr("opacity",1),c.transition().duration(200).style("opacity",0)}).attr("y",function(e){return l(0)}).attr("height",0),b.selectAll(".".concat(a("bar"))).data(g).attr("fill",function(e,t){return I(e,t)}).transition().duration(300).attr("y",function(e){return Math.min(l(Number(e.delta)),l(0))}).attr("height",function(e){return Math.abs(l(Number(e.delta))-l(0))});var w=C.selectAll(".".concat(a("bartext"))).data(g);w.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),w.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return u.bandwidth()/3}).attr("text-anchor","middle").attr("font-size","12px").attr("y",function(e){return e.delta>0?l(0)-5:l(0)+5}),C.selectAll(".".concat(a("bartext"))).data(g).text(function(e){return r.yValueFormat(e.delta)}).transition().duration(300).attr("y",function(e){var t=0;return t=e.delta>0?-5:15,l(Number(e.delta))+t})}i.selectAll(".xAxisLine").remove();i.append("line").attr("class","xAxisLine").attr("stroke-width",2).attr("stroke","currentColor").attr("x1",70).attr("y1",l(0)-1).attr("x2",700).attr("y2",l(0)-1)}else m.text("chart data is not available");function I(e,t){return function(e,t){return n[e.split("/")[0]]||o[t%o.length]}(e.partyInfo.name,t)}function A(e,t){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(e.delta):P(e.partyInfo.name)+" : "+r.yValueFormat(e.delta)}},this.destroy=function(){i.remove()}}function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Sa(e){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ta(e,t){return(Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ka,Ma={topLabel:"NATIONAL ASSEMBLY: 2009, 2014",usedValue:"SEATS COUNTED",yValue:function(e){return e.seats},yValueFormat:function(e){return e},dynamicYAxisFromValues:!0};function Ga(e){return u.a[e]||e}var Ra=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==xa(t)&&"function"!=typeof t?Oa(e):t}(this,Sa(t).call(this,e))).state={partyAbbrs:["ANC","DA","EFF","ID"],eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:13},e.partyAbbrs&&(n.state.partyAbbrs=e.partyAbbrs),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Oa(Oa(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Oa(Oa(n))),n.handleRegionChange=n.handleRegionChange.bind(Oa(Oa(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Oa(Oa(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}(t,a["Component"]),function(e,t,n){t&&_a(e.prototype,t),n&&_a(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-swing-barchart(".concat(b(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new Aa(this.getContainer(),null,null,Ga,Ma),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:Ga("barchart")+" "+function(e){return Ga(l.CSS_PREFIX+e)}("stylesheet-".concat(e))},r.a.createElement("div",{ref:"vizcontainer",className:Ga("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[U(t)],r=t.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join("/");if("national"==t.regionType?Ma.topLabel="National Assembly: Swing ".concat(r):Ma.topLabel="".concat(b(t),": Swing ").concat(r),!ka){var o=Ae();a.push(o)}Promise.all(a).then(function(a){var r=a[0];ka=ka||a[1],n.drawGraph(e,t,r,ka)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=N(n,t);this.chart||(this.chart=new Aa(e,null,null,Ga,Ma)),this.chart.draw(r,a)}}]),t}();function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Da(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Za;function ja(e){return u.a[e]||e}var Ka={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"% VDS COUNTED",yValue:function(e){return e.percOfVotes},yValueFormat:function(e){return e+"%"},dynamicYAxisFromValues:!0},Ba=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?Fa(e):t}(this,Va(t).call(this,e))).state={partyAbbrs:["ANC","DA","EFF","ID"],eventDescriptions:["14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:14},e.partyAbbrs&&(n.state.partyAbbrs=e.partyAbbrs),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Fa(Fa(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Fa(Fa(n))),n.handleRegionChange=n.handleRegionChange.bind(Fa(Fa(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Fa(Fa(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(t,a["Component"]),function(e,t,n){t&&Da(e.prototype,t),n&&Da(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null),document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-comparison-barchart(".concat(g(this.state),").png"))}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new va(this.getContainer(),null,null,ja,Ka),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:ja("barchart")+" "+function(e){return ja(l.CSS_PREFIX+e)}("stylesheet-".concat(e))},r.a.createElement("div",{ref:"vizcontainer",className:ja("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[oe(t)];if(Ka.topLabel="".concat(t.regionType.toUpperCase()," ASSEMBLY: ").concat(t.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join(", ")),"national"==t.regionType?Ka.topLabel="Race for Votes Comparison - National Assembly":Ka.topLabel="Race for Votes Comparison - ".concat(g(t)),!Za){var r=Ae();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Za=Za||a[1],n.drawGraph(e,t,r,Za)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=f(n,t);this.chart||(this.chart=new va(e,null,null,ja,Ka)),this.chart.draw(r,a)}}]),t}();function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ha(e){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ya;function Ja(e){return u.a[e]||e}var Qa={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"% VDS COUNTED",yValue:function(e){return e.percOfVotes},yValueFormat:function(e){return(e>0?"+":"")+e.toFixed(2)+"%"},dynamicYAxisFromValues:!0},$a=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Ua(t)&&"function"!=typeof t?Xa(e):t}(this,Ha(t).call(this,e))).state={partyAbbrs:["ANC","DA","EFF","ID"],eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:15},e.partyAbbrs&&(n.state.partyAbbrs=e.partyAbbrs),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),e.muniCode&&(n.state.muniCode=e.muniCode),e.iecId&&(n.state.iecId=e.iecId),e.stylesheetFor&&(n.state.stylesheetFor=e.stylesheetFor),e.componentID&&(n.state.componentID=e.componentID),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Xa(Xa(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Xa(Xa(n))),n.handleRegionChange=n.handleRegionChange.bind(Xa(Xa(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Xa(Xa(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(t,a["Component"]),function(e,t,n){t&&za(e.prototype,t),n&&za(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(M.EXPORT_PNG,this.exportAsPNG),document.addEventListener(M.REGION_CHANGE,this.handleRegionChange),document.addEventListener(M.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null),document.removeEventListener(M.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(M.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(M.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){k.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&k.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-swing-barchart(".concat(g(this.state),").png"))}},{key:"handleRegionChange",value:function(e){var t=e.detail;this.setState(t)}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new Aa(this.getContainer(),null,null,Ja,Qa),this.setState(t)}},{key:"getContainer",value:function(){return s.o(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:Ja("barchart")+" "+function(e){return Ja(l.CSS_PREFIX+e)}("stylesheet-".concat(e))},r.a.createElement("div",{ref:"vizcontainer",className:Ja("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[oe(t)],r=t.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join("/");if("national"==t.regionType?Qa.topLabel="National Assembly: Swing ".concat(r):Qa.topLabel="".concat(g(t),": Swing ").concat(r),!Ya){var o=Ae();a.push(o)}Promise.all(a).then(function(a){var r=a[0];Ya=Ya||a[1],n.drawGraph(e,t,r,Ya)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=f(n,t);this.chart||(this.chart=new Aa(e,null,null,Ja,Qa)),this.chart.draw(r,a)}}]),t}();window.showBarChart=function(e,t){i.a.render(r.a.createElement(Le,t),e)},window.showBarchartWithNavMap=function(e,t){i.a.render(r.a.createElement(zt,t),e)},window.showMap=function(e,t){i.a.render(r.a.createElement(Nt,t),e)},window.showProgVotesPiechart=function(e,t){i.a.render(r.a.createElement(sn,t),e)},window.showQuickResultsWidget=function(e,t){i.a.render(r.a.createElement(Gn,t),e)},window.showRaceForSeatsBarChart=function(e,t){i.a.render(r.a.createElement(ze,t),e)},window.showSeatsComparisonBarChart=function(e,t){i.a.render(r.a.createElement(Bn,t),e)},window.showSeatHorseShoeChart=function(e,t){i.a.render(r.a.createElement(aa,t),e)},window.showSpoiltBarChart=function(e,t){i.a.render(r.a.createElement(tt,t),e)},window.showTurnoutBarChart=function(e,t){i.a.render(r.a.createElement(Rt,t),e)},window.showTurnoutMap=function(e,t){i.a.render(r.a.createElement(At,t),e)},window.showVoteComparisonBarchart=function(e,t){i.a.render(r.a.createElement(da,t),e)},window.showTVSeatCompBarchart=function(e,t){i.a.render(r.a.createElement(wa,t),e)},window.showTVSeatSwingBarchart=function(e,t){i.a.render(r.a.createElement(Ra,t),e)},window.showTVVoteCompBarchart=function(e,t){i.a.render(r.a.createElement(Ba,t),e)},window.showTVVoteSwingBarchart=function(e,t){i.a.render(r.a.createElement($a,t),e)}},42:function(e,t,n){var a=n(122);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(26)(a,r);a.locals&&(e.exports=a.locals)},85:function(e,t,n){var a=n(123);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(26)(a,r);a.locals&&(e.exports=a.locals)},86:function(e,t,n){var a=n(124);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(26)(a,r);a.locals&&(e.exports=a.locals)},87:function(e,t,n){var a=n(125);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(26)(a,r);a.locals&&(e.exports=a.locals)},91:function(e,t,n){var a=n(142);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(26)(a,r);a.locals&&(e.exports=a.locals)},92:function(e,t,n){var a=n(143);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(26)(a,r);a.locals&&(e.exports=a.locals)},97:function(e,t,n){(e.exports=n(25)(!1)).push([e.i,".ELVIZ_chart-title {\n  font-weight: bold;\n  text-align: center;\n}\n\n.ELVIZ_percentage-label {\n  font-style: italic;\n}\n\n.ELVIZ_tooltip {\t\n  position: absolute;\t\t\t\n  text-align: center;\t\t\t\t\n  display: inline-block;\t\t\n  padding: 4px;\t\t\t\t\n  font: 12px sans-serif;\t\t\n  background: white;\t\n  display: inline-block;\n  border: 0px;\t\t\n  border-radius: 3px;\t\t\t\n  pointer-events: none;\t\t\t\n}\n\n.ELVIZ_grouprect {\t\n  fill: #DEDEDE;\n}\n\n.barchart.ELVIZ_stylesheet-tv {\n  background: rgb(0, 53, 97);\n  color: white;\n  overflow: hidden;\n}\n\n.barchart.ELVIZ_stylesheet-tv .ELVIZ_grouprect{\n  fill: rgb(21, 73, 117);\n}\n\n.barchart.ELVIZ_stylesheet-tv svg {\n  color: white;\n}\n.barchart.ELVIZ_stylesheet-tv text {\n  fill: white;\n  color: white;\n}\n",""])}});